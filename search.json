[{"title":"æ¡†æ¶ | Django æ¡†æ¶å…¥é—¨åˆ°åº”ç”¨","url":"%2F2019%2F02%2FDjango.html","content":"\nDjango æ˜¯åŸºäº MVC æ¨¡å¼ï¼Œç”± Python å†™æˆçš„å¼€æº Web åº”ç”¨æ¡†æ¶ã€‚åœ¨ Django ä¸­ï¼Œæ§åˆ¶å™¨æ¥å—ç”¨æˆ·è¾“å…¥çš„éƒ¨åˆ†ç”±æ¡†æ¶è‡ªè¡Œå¤„ç†ï¼Œè€Œ Django é‡Œæ›´å…³æ³¨çš„æ˜¯æ¨¡å‹ ( Model )ã€æ¨¡æ¿ ( Template ) å’Œè§†å›¾ ( Views )ï¼Œä¸ºæ­¤ä¹Ÿç§°å…¶ä¸º MTV æ¨¡å¼çš„ Web æ¡†æ¶ã€‚\n\nå½“ç„¶ï¼ŒåŸºäº Python çš„ Web æ¡†æ¶ä¸ä»…è¿™ä¸€å®¶ï¼Œå¦‚  flaskã€tornadoã€web2py ç­‰ã€‚è€Œä»»ä½•ä¸€æ¬¾æ¡†æ¶çš„äº§ç”Ÿéƒ½æœ‰è‡ªèº«çš„äº®ç‚¹å’Œç¼ºé™· $^{[2, 3]}$ï¼Œç»¼åˆè‡ªæˆ‘è¯‰æ±‚ã€æ€§èƒ½è¦æ±‚ç­‰è¯¸å¤šå› ç´ è€ƒé‡ï¼Œé€‰æ‹©é€‚åˆçš„æ¡†æ¶å³å¯ã€‚åœ¨æœ¬æ¬¡å¼€å‘ä¸­ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€æ¬¾æ•°æ®åº“é©±åŠ¨çš„å†…å®¹å‘å¸ƒä¸ç®¡ç†ç³»ç»Ÿï¼Œè€Œ Django çš„ä¸­é—´ä»¶ [ORM](https://baike.baidu.com/item/å¯¹è±¡å…³ç³»æ˜ å°„) è®¾è®¡ï¼Œä½¿å¾—æˆ‘ä»¬åœ¨å…·ä½“æ“ä½œä¸šåŠ¡å¯¹è±¡æ—¶ï¼Œä¸éœ€è¦å’Œå¤æ‚çš„ SQL è¯­å¥æ‰“äº¤é“ï¼Œåªè¦åƒå¹³æ—¶æ“ä½œå¯¹è±¡ä¸€æ ·æ“ä½œå³å¯ã€‚ä¸ºæ­¤ï¼Œæœ¬ç€è½»é‡å¼€å‘çš„åŸåˆ™é€‰æ‹©äº† Djangoã€‚\n\n<!-- More -->\n\n## æ•™å­¦èµ„æº\n- ğŸ“º | è§†é¢‘ | [è€ç”·å­©.Python å…¨æ ˆ: Django æ¡†æ¶å…¥é—¨åˆ°åº”ç”¨. 2018. bilibili.com](https://www.bilibili.com/video/av22606568/?p=3)\n- ğŸ“„ | æ–‡ç«  | [Django.Django å¿«é€Ÿå…¥é—¨&ä¸­æ–‡ä½¿ç”¨æ–‡æ¡£. djangoproject.com](https://docs.djangoproject.com/zh-hans/2.1/)\n\n## å¿«é€Ÿä¸Šæ‰‹\n### å®‰è£…ä¸é…ç½®\n- å®‰è£…ï¼šå‘½ä»¤è¡Œæ¨¡å¼å®‰è£… ( Mac / Linux ç”¨æˆ·æ³¨æ„ç®¡ç†å‘˜æƒé™ )\n\n\t```bash\n\tpip install django\n\tpip install django == x.xx.xx\n\t```\n\t\n- é…ç½®ï¼šé…ç½® Django é¡¹ç›®å¹¶åˆæ¬¡å¯åŠ¨å®ƒã€‚\n\t- åˆ›å»ºé¡¹ç›®ï¼šå¯é€šè¿‡å‘½ä»¤æ¨¡å¼å¯åŠ¨é¡¹ç›® ( å¤šç”¨äºéƒ¨ç½²ç¯å¢ƒ )ï¼Œä¹Ÿå¯é€šè¿‡ PyCharm å¯åŠ¨ã€è¿è¡Œé¡¹ç›®ã€‚\n\t\t- å‘½ä»¤æ¨¡å¼ï¼š`django-admin startproject mysite`\n\t\t- PyCharmï¼šé€šè¿‡ PyCharm ä¸€æ­¥åˆ°ä½ï¼Œå³ `æ–°å»ºå·¥ç¨‹ > Django > ( å»ºç«‹å•ç‹¬çš„ Venv ) > mysite`ã€‚\n\n\t\t\t> Virtualenvï¼šä¸ºä¸€ä¸ªåº”ç”¨åˆ›å»ºä¸€å¥—â€œéš”ç¦»â€çš„ Python è¿è¡Œç¯å¢ƒï¼Œå…·ä½“é…ç½®æ–¹æ³•å¯å‚è€ƒ [1]ã€‚\n\t\t\n\t- é¡¹ç›®ç›®å½•ç»“æ„è¯´æ˜\n\t\t- `mysite`ï¼šåŒåç›®å½•ï¼Œå®ƒæ˜¯ä¸€ä¸ªçº¯ Python åŒ…ã€‚å®ƒçš„åå­—å°±æ˜¯å½“ä½ å¼•ç”¨å®ƒå†…éƒ¨ä»»ä½•ä¸œè¥¿æ—¶éœ€è¦ç”¨åˆ°çš„ Python åŒ…åï¼Œæ¯”å¦‚ mysite.urlsã€‚\n\t\t- `__init__.py`ï¼šç©ºæ–‡ä»¶ï¼Œæ ‡è¯†è¿™ä¸ªç›®å½•åº”è¯†åˆ«ä¸º Python åŒ…ã€‚\n\t\t- `settings.py`ï¼šDjango çš„é¡¹ç›®é…ç½®æ–‡ä»¶ã€‚\n\t\t- `urls.py`ï¼šDjango é¡¹ç›®çš„ URL å£°æ˜ã€‚\n\t\t- `wsgi.py`ï¼šWeb æœåŠ¡ç½‘å…³æ¥å£ ( Socket )ã€‚\n\t\t- `manage.py`ï¼šå¯¹ç½‘ç»œæ‰€æœ‰ç®¡ç†æ˜¯é€šè¿‡å…¶æ¥å®ç°çš„ã€‚\n\t\t\n\t\t\t```bash\n\t\t\tmysite\n\t\t\t  â”œâ”€â”€â”€ mysite\n\t\t\t  â”‚ â”œâ”€â”€ init__.py\n\t\t\t  â”‚ â”œâ”€â”€ settings.py\n\t\t\t  â”‚ â”œâ”€â”€ urls.py\n\t\t\t  â”‚ â”œâ”€â”€ wsgi.gy\n\t\t\t  â””â”€â”€â”€ manage.py\n\t\t\t```\n\t\t\t\n- ä½¿ç”¨ï¼šä»¥å‘½ä»¤æ¨¡å¼å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨ä¸ºä¾‹ï¼Œå½“ç„¶å¯ä»¥ä½¿ç”¨ Pycharm ä¸€é”®è¿è¡Œã€‚\n\t\n\t```bash\n\tpython manage.py runserver 127.0.0.1:8000\n\t```\n\t\t\n### è¯·æ±‚ä¸å“åº”\n#### è¿”å›å†…å®¹è‡³é¡µé¢\nè¿”å›å†…å®¹ ( Html å…ƒç´ æˆ–å¯¹è±¡ ) è‡³é¡µé¢ï¼Œä»£ç åº”åŒ…å«åœ¨ `urls.py` æ–‡ä»¶ä¸­ã€‚\n\n- ä¸‹è¿°æ˜¯è¿”å›å­—ç¬¦ä¸²æˆ– Html å…ƒç´ çš„ç¤ºä¾‹ä»£ç ï¼š\n\n\t```python\n\tfrom django.shortcuts import HttpResponse\n\t'''\n\targuments:\n\t\t@param request æ”¾ç½®ç”¨æˆ·è¯·æ±‚ç›¸å…³çš„æ‰€æœ‰ä¿¡æ¯\n\t@return å“åº”ä¸è¿”å›å¤„ç†ç»“æœ\n\t'''\n\tdef info(request):\n\t\t# 1. å¯è¿”å›å­—ç¬¦ä¸²\n\t\treturn HttpResponse(\"Hello World!\")\n\t\t# 2. å¯è¿”å› Html å…ƒç´  (å¯¹è±¡)\n\t\t# return HttpResponse(\"<input type='text' />\")\n\t\t\n\t# è®¿é—® Site æ ¹ç›®å½•\n\turlpatterns = [ url('', info), ]\t\n\t```\n\n#### è¿”å›ç‹¬ç«‹ Html é¡µé¢\t\nè¿”å›ç‹¬ç«‹ Html é¡µé¢ï¼Œä¸”å°è¯•æŠŠæ•°æ®è¿”å›åˆ°é¡µé¢ä¸­ã€‚\n\n- Html é¡µé¢æ”¾ç½® `tempates` ç›®å½•ä¸‹ï¼›\n- `settings.py` ä¸­é…ç½®æ¨¡æ¿çš„è·¯å¾„ ( å‘Šè¯‰ç¨‹åºç½‘é¡µæ¨¡æ¿åœ¨å“ªä¸ªç›®å½•ä¸‹ )ï¼›\n\n\t```python\n\tTEMPLATES = [\n\t\t'DIRS': [os.path.join(BASE_DIR, 'templates')]\n\t]\n\t```\n\t\t\n- `urs.py` ä¸­åŠ å…¥è°ƒç”¨ä»£ç ï¼Œç»‘å®šè¯·æ±‚åœ°å€ä¸å¤„ç†å‡½æ•°ï¼›\n\n\t```python\n\tdef info(request):\n\t    # render èƒ½æŠ“å–é¡µé¢å…¨éƒ¨ä¿¡æ¯ ( å®ƒä¹Ÿè°ƒç”¨äº† HttpResponse )\n\t    return render(request, 'info.html')\n\t```\n\t\t\t\n- è‹¥è¦å¼•ç”¨èµ„æºç›®å½•ï¼Œå¦‚å­˜æ”¾ imagesã€css ç­‰ï¼Œåˆ™éœ€è¦åœ¨ `settings.py` ä¸­åŠ å…¥å£°æ˜è¯­å¥ã€‚\n\t\t\n\tå¼•ç”¨èµ„æºæ—¶ï¼Œéœ€è¦åŠ å…¥ `static`ã€‚ä¾‹å¦‚ `<link rel=\"stylesheet\" href=\"static/style.css\">`ã€‚\n\n\t```python\n\tSTATIC_URL = '/static/'\n\tSTATICFILES_DIRS = (\n\t    # 'æ–‡ä»¶å' æ˜¯è‡ªç”±å‘½åçš„ï¼Œè¿™é‡Œå– 'static' æ˜¯ä¸ºäº†ç»Ÿä¸€å‘½å\n\t    os.path.join(BASE_DIR, 'static'), \n\t)\n\t```\n\n### ç®€å•ç™»å½•åŠŸèƒ½\n\n> æœ¬å®ä¾‹ä¸»è¦å±•ç¤ºçš„æ˜¯ï¼Œåœ¨ Django æ¡†æ¶ä¸‹ Web å‰åç«¯çš„äº¤äº’è¿‡ç¨‹ã€‚\n\n- é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨ `urls.py` ä¸­é…ç½®è·¯ç”±å…³ç³»ï¼Œå¹¶ç»‘å®šè·¯ç”±è§¦å‘çš„å‡½æ•°ä»¥å®ç°åŠŸèƒ½ã€‚\n\n\t```python\n\tfrom django.shortcuts import HttpResponse, render, redirect\n\tfrom django.urls import path\n\t\n\t# é¦–æ¬¡åŠ è½½é¡µé¢è°ƒç”¨çš„å‡½æ•°\n\tdef login(request):\n\t\t# GET å¯é€šè¿‡è¯·æ±‚çš„é“¾æ¥åœ°å€ä¼ å‚ï¼Œå¦‚ url?page=1\n\t\tif ('GET' == request.method):\n\t\t\t## render() æ˜¯æŠ“å–é¡µé¢å…¨éƒ¨ä¿¡æ¯ ( å®ƒä¹Ÿè°ƒç”¨äº† HttpResponse )\n\t\t\treturn render(request, 'login.html')\n\t\t\t\t\t\n\t# ç™»å½•æˆåŠŸåæŠŠæ•°æ®å›ä¼ åˆ°ç›®æ ‡é¡µé¢\n\tdef index(request):\n\t\tuser = request.POST\n\t\treturn render(request, 'index.html', {\n\t\t\t'username': str(user.get('username')),\n\t\t\t'password': {\n\t\t\t\t'origin': user.get('password'),\n\t\t\t\t'encode': base64.b64encode( (user.get('password') + user.get('password')).encode('utf-8') )\n\t\t\t}}\n\t\t)\n    \n\t# path(ç›¸å¯¹åœ°å€, è°ƒç”¨å‡½æ•°)ï¼Œå¦‚è¯·æ±‚åœ°å€ä¸ºæ ¹ç›®å½•ï¼Œæ•…è¿™é‡Œå¡«å†™ '' \n\turlpatterns = [ \n\t    path('', login), \n\t    path('index', index), \n\t]\n\t```\n\t\t\t\n- æœ€åé™„ä¸Šç›¸å…³è”çš„ `login.html` å’Œ `index.html`ã€‚\n\n\t```html\n\t<!-- login.html -->\n\t<html lang=\"en\">\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title>Information Page</title>\n\t\t<link rel=\"stylesheet\" href=\"static/css/style.css\">\n\t</head>\n\t<body>\n\t\t<h2>Hello World!</h1>\n\t\t<h2>Welcome to use the exhibation page.</h2>\n\t\t<form method=\"POST\" action=\"index\">\n\t\t\t<input name=\"username\" type=\"text\" />\n\t\t\t<input name=\"password\" type=\"password\" />\n\t\t\t<input value=\"login\" type=\"submit\" />\n\t\t</form>\n\t</body>\n\t</html>\n\t\n\t<!-- index.html -->\n\t<html lang=\"en\">\n\t<head>\n\t\t<meta charset=\"UTF-8\">\n\t\t<title>Home Index</title>\n\t\t<link rel=\"stylesheet\" href=\"static/css/style.css\">\n\t</head>\n\t<body>\t\n\t\t<!-- 1. æ¨¡æ¿ä¸­æ¥å—å‡½æ•°ä½“è¿”å›çš„å±æ€§ -->\n\t\t<!-- {{}} ç‰¹æ®Šå ä½ç¬¦: Django render() ä¼šè‡ªåŠ¨è§£æå®ƒ -->\n\t\t<h2>username</h2> {{ username }}\n\t\t<h2>password</h2> {{ password.origin }} => {{ password.encode }}\n\n\t\t<p><!-- æ¢è¡Œ --></p>\n\n\t\t<!-- 2. æ¨¡æ¿ä¸­è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•å’Œå±æ€§ï¼Œä¾‹å¦‚å¾ªç¯ä½“ -->\n\t\t<table border=\"1\">\n\t\t\t<tr>\n\t\t\t\t<td>Username</td><td>{{ username }}</td>\n\t\t\t</tr>\n\t\t\t{% for key, value in password.items %}\n\t\t\t<tr>\n\t\t\t\t<td>Password:{{ key }}</td><td>{{ value }}</td>\n\t\t\t</tr>\n\t\t\t{% endfor %}\n\t\t</table>\n\t</body>\n\t</html>\n\t```\n\t\n### å¢åˆ æ”¹æŸ¥ç³»ç»Ÿ\n\n> æœ¬å®ä¾‹ä¸»è¦å±•ç¤ºçš„æ˜¯ Python ä¸æ•°æ®åº“çš„äº¤äº’è¿‡ç¨‹ã€‚\n\n#### å»ºç«‹æ•°æ®è¡¨\næ•°æ®å…³ç³»ï¼šè¿™é‡Œä»¥å­¦ç”Ÿ ( Student )ã€ä»»æ•™è€å¸ˆ ( Teacher ) å’Œè¯¾ç¨‹ ( Course ) ä¸‰ä¸ªå®ä½“ä¸ºä¾‹ï¼Œæ„å»ºæ•°æ®è¡¨ã€‚\n\n- ER å›¾ï¼Œå¦‚å›¾ 4-1 æ‰€ç¤ºï¼š\n\t- å­¦ç”Ÿå¯ä»¥é€‰ä¿®å¤šé—¨è¯¾ç¨‹ï¼Œä¸€é—¨è¯¾ç¨‹å¯ä»¥å¤šä¸ªå­¦ç”Ÿå‚ä¸ï¼Œå³å¤šå¯¹å¤šå…³ç³»ã€‚\n\t- è€å¸ˆåªèƒ½ä»»æ•™ä¸€é—¨è¯¾ç¨‹ï¼Œä½†æ˜¯ä¸€é—¨è¯¾ç¨‹æœ‰å¤šä¸ªè€å¸ˆå¼€è¯¾ï¼Œå³ä¸€å¯¹å¤šå…³ç³»ã€‚\n\n![django_1-1](/images/illustration/Programme/2019/02/django_1-1.jpg)\n<center>å›¾ 1-1 æ¼”ç¤ºæ•°æ®åº“çš„æ•°æ®å…³ç³»</center>\n\n- å…³ç³»æ¨¡å¼ï¼š\n\t- å­¦ç”Ÿå®ä½“(å­¦ç”Ÿåºå·, å­¦ç”Ÿå§“å) == t_student(_sid_, name)\n\t- è¯¾ç¨‹å®ä½“(è¯¾ç¨‹åºå·, è¯¾å ‚åç§°) == t_course(_cid_, name)\n\t- è€å¸ˆå®ä½“(è€å¸ˆåºå·, è€å¸ˆå§“å) == t_teacher(_tid_, name, cid)\n\t- é€‰è¯¾å…³ç³»(å­¦ç”Ÿåºå·, è¯¾ç¨‹åºå·, æˆç»©) == Student2Course(_sid_, _cid_, score)\n\n#### å‰ / åç«¯äº¤äº’åŸç†\n- Web ç¨‹åºçš„å‰åç«¯äº¤äº’åŸç†å¦‚å›¾ 4-2 æ‰€ç¤ºã€‚\n\n![django_1-2](/images/illustration/Programme/2019/02/django_1-2.jpg)\n<center>å›¾ 1-2 Web ç¨‹åºçš„å‰åç«¯äº¤äº’åŸç†</center>\n\n#### åŸç”Ÿä»£ç æ“ä½œæ•°æ®\n- Python çš„ MySQL é©±åŠ¨æœ‰ `MySQLdb`ã€`PyMySQL` ä»¥åŠ `MySQLClient`ã€‚\n- åœ¨ Python 2.7 ç‰ˆæœ¬ï¼Œä¸»è¦æ˜¯ç”¨ MySQLdbï¼Œè€Œ Python 3.x ç‰ˆæœ¬å¤šæ•°ä½¿ç”¨ PyMySQL ä»¥åŠ MySQLClientã€‚ä¸¤è€…æ“ä½œé£æ ¼ç±»ä¼¼ï¼Œæœ¬æ–‡åˆ™ä»¥ PyMySQL å±•å¼€æ¢è®¨ã€‚\n\n\t```python\n\t# å°è£…è¿æ¥æ•°æ®åº“çš„ä¿¡æ¯\n\tdb_infos = {\n\t\t'host': \"IP åœ°å€\",\n\t\t'port': 3306,\n\t\t'user': \"æ•°æ®åº“è´¦æˆ·\",\n\t\t'password': \"æ•°æ®åº“å¯†ç \",\n\t\t'db': \"æ•°æ®åº“åç§°\",\n\t\t'charset': \"utf8\",\n\t\t'cursorclass': pymysql.cursors.DictCursor\n\t}\n\t\n\timport pymysql\n\tdb = pymysql.connect(db_infos)\n\t\n\tSQL = \"SELECT * FROM t_student\"\n\t\n\ttry:\n\t\twith db.cursor() as cursor:\n\t\t\tcursor.excute(SQL) # æ‰§è¡Œ SQL è¯­å¥\n\t\t\tdb.commit() # æäº¤ä¿®æ”¹æ•°æ®è¯·æ±‚\n\texcept:\n\t\tdb.rollback() # å›æ»š\n\tfinally:\n\t\tdb.close() # å…³é—­æ•°æ®åº“è¿æ¥\n\t```\n\n#### Ajax æ–¹å¼äº¤äº’æ•°æ®\n- å€ŸåŠ© Ajaxï¼Œå®ç°æ•°æ®çš„æœ¬åœ°åˆ·æ–°ï¼Œè€Œä¸éœ€è¦é‡æ–°åŠ è½½ã€æ¸²æŸ“ç½‘é¡µã€‚\n\n\t```js\n\t$.ajax({\n\t    url: 'æäº¤åœ°å€',\n\t    type: 'POST' // POST / GET\n\t    data: {'key_1': 'value_1', ..., 'key_n': 'value_n' }\n\t    success: function(data){\n\t        // å½“å‰æœåŠ¡ç«¯å¤„ç†æ•°æ®ï¼Œè‡ªåŠ¨æ‰§è¡Œå›è°ƒå‡½æ•°\n\t    }\n\t})\n\t```\n\n## æ¡†æ¶æ­£æ–‡\n\næœ¬ç« èŠ‚çš„å†…å®¹å‚è€ƒ [Django å®˜æ–¹æ–‡æ¡£ v2.1](https://docs.djangoproject.com/zh-hans/2.1/) æ•´ç†æ‰€å¾—ï¼Œå³æŠŠæ¨¡å‹ã€æ¨¡æ¿å’Œè§†å›¾çš„æ¦‚å¿µæ›´åŠ ç»†åŒ–ï¼Œé€šè¿‡ä¸€ä¸ªæŠ•ç¥¨åº”ç”¨çš„å®ä¾‹ä»¥è®²è¿°å¦‚ä½•æ­å»ºä¸€ä¸ª `MTVæ¨¡å¼` çš„ Web æ¡†æ¶ï¼Œå¦‚å›¾ 3-1 æ‰€ç¤ºã€‚\n\n![django_2-1](/images/illustration/Programme/2019/02/django_2-1.jpg)\n<center>å›¾ 2-1 MTV æ¨¡å¼çš„ Web æ¡†æ¶</center>\n\n### æ•°æ®åº“é…ç½®\n- ç¼–è¾‘ `mysite/settings.py` æ–‡ä»¶å‰ï¼Œå…ˆè®¾ç½® [TIME_ZONE](https://docs.djangoproject.com/zh-hans/2.1/ref/settings/#std:setting-TIME_ZONE) ä¸ºä½ è‡ªå·±æ—¶åŒºï¼Œå¯å‚è€ƒ Wikipedia çš„ [List of time zones](https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)ã€‚\n\t\n\t> æ–°å»ºç«‹çš„é¡¹ç›®ï¼Œé»˜è®¤æ—¶åŒºä¸º `UTC`ã€‚\n\n- æ‰“å¼€ `mysite/settings.py`ï¼Œé€šå¸¸è¿™ä¸ªé…ç½®æ–‡ä»¶ä½¿ç”¨ SQLite ä½œä¸ºé»˜è®¤æ•°æ®åº“ã€‚\n\t- `ENGINE`ï¼šé€‰å€¼ `django.db.backends.sqlite3`ã€‚\n\t- `NAME`ï¼šæ•°æ®åº“çš„åç§°ã€‚è‹¥ä½¿ç”¨ [SQLite](https://baike.baidu.com/item/SQLite/375020?fr=aladdin)ï¼Œæ•°æ®åº“å°†æ˜¯ä½ ç”µè„‘ä¸Šçš„ä¸€ä¸ªæ–‡ä»¶ï¼ŒNAME åº”è¯¥æ˜¯æ­¤æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ + æ–‡ä»¶åï¼Œé»˜è®¤å€¼ `os.path.join(BASE_DIR, 'db.sqlite3')` å°†ä¼šæŠŠæ•°æ®åº“æ–‡ä»¶å‚¨å­˜åœ¨é¡¹ç›®çš„æ ¹ç›®å½•ã€‚\n\n\t\t```python\n\t\tDATABASES = {\n\t\t    'default': {\n\t\t        'ENGINE': 'django.db.backends.sqlite3',\n\t\t        'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),\n\t\t    }\n\t\t}\n\t\t```\n\n\t- è‹¥ä½¿ç”¨äº† SQLite ä»¥å¤–çš„æ•°æ®åº“ï¼Œè¯·ç¡®è®¤åœ¨ä½¿ç”¨å‰å·²ç» `åˆ›å»ºäº†æ•°æ®åº“`ã€‚è¿æ¥åˆ°å…¶ä»–æ•°æ®åº“æ—¶ ( MySQLï¼ŒOracle æˆ– PostgreSQL )ï¼Œå‚è€ƒ [ENGINE](https://docs.djangoproject.com/zh-hans/2.1/ref/settings/#std:setting-DATABASE-ENGINE) çš„è®¾ç½®æ¥è¿æ¥å…¶ä»–æ•°æ®åº“ã€‚ä¾‹å¦‚è¿æ¥ MySQL çš„é…ç½®å¦‚ä¸‹æ‰€ç¤ºï¼š\n\n\t\t```python\n\t\tDATABASES = {\n\t\t    'default': {\n\t\t        'ENGINE': 'django.db.backends.mysql',\n\t\t        'NAME': 'mydatabase',\n\t\t        'USER': 'mydatabaseuser',\n\t\t        'PASSWORD': 'mypassword',\n\t\t        'HOST': '127.0.0.1',\n\t\t        'PORT': '3306',\n\t\t    }\n\t\t}\n\t\t```\n\n- æ­¤å¤–ï¼Œå…³æ³¨ä¸€ä¸‹æ–‡ä»¶å¤´éƒ¨çš„ `INSTALLED_APPS` è®¾ç½®é¡¹ã€‚è¿™é‡ŒåŒ…æ‹¬äº†é¡¹ç›®ä¸­å¯ç”¨çš„æ‰€æœ‰ Django åº”ç”¨ã€‚åº”ç”¨èƒ½åœ¨å¤šä¸ªé¡¹ç›®ä¸­ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥æ‰“åŒ…å¹¶ä¸”å‘å¸ƒåº”ç”¨ï¼Œè®©åˆ«äººä½¿ç”¨å®ƒä»¬ã€‚é€šå¸¸ INSTALLED_APPS é»˜è®¤åŒ…æ‹¬äº†ä»¥ä¸‹ Django çš„è‡ªå¸¦åº”ç”¨ï¼š\n\n\t```python\n\tINSTALLED_APPS = [\n\t    # å› ä¸º ApplicationConfig ç±»å†™åœ¨æ–‡ä»¶ polls/apps.py ä¸­ï¼Œ\n\t    # æ‰€ä»¥å®ƒçš„ç‚¹å¼è·¯å¾„æ˜¯ 'polls.apps.ApplicationConfig'\n\t    'polls.apps.ApplicationConfig',\t# æ¿€æ´»æ¨¡å‹\n\t    'django.contrib.admin',\t\t# ç®¡ç†å‘˜ç«™ç‚¹\n\t    'django.contrib.auth',\t\t# è®¤è¯æˆæƒç³»ç»Ÿ\n\t    'django.contrib.contenttypes',\t# å†…å®¹ç±»å‹æ¡†æ¶\n\t    'django.contrib.sessions',\t\t# ä¼šè¯æ¡†æ¶\n\t    'django.contrib.messages',\t\t# æ¶ˆæ¯æ¡†æ¶\n\t    'django.contrib.staticfiles',\t# ç®¡ç†é™æ€æ–‡ä»¶çš„æ¡†æ¶\n\t]\n\t```\n\t\t\n- é»˜è®¤å¼€å¯çš„æŸäº›åº”ç”¨éœ€è¦è‡³å°‘ä¸€ä¸ªæ•°æ®è¡¨ï¼Œæ•…åœ¨ä½¿ç”¨ä»–ä»¬å‰éœ€è¦åœ¨æ•°æ®åº“ä¸­åˆ›å»ºä¸€äº›è¡¨ã€‚è¯·æ‰§è¡Œå‘½ä»¤ï¼š\n\n\t```shell\n\t# MacOS / Linux\n\tpython manage.py migrate\n\n\t# Windows ( ä¸‹è¿°ä»£ç åŒç†ï¼ŒåŸºæœ¬ä¸Š \"py\" å¯¹åº”äº \"python\" )\n\tpy manage.py migrate\n\t```\n\n### æ¨¡å‹å’Œç«™ç‚¹ç®¡ç†\n\n#### åˆ›å»ºæ¨¡å‹\n- å®šä¹‰æ¨¡å‹ ( Model )ï¼Œå³æ•°æ®åº“ç»“æ„è®¾è®¡å’Œé™„åŠ çš„å…¶å®ƒå…ƒæ•°æ®ã€‚åœ¨ Django ä¸­ï¼Œä½ åªéœ€è¦å®šä¹‰æ•°æ®æ¨¡å‹ï¼Œå…¶ä¸­çš„å®ç°ä»£ç ä¸ç”¨ç†ä¼šï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨ä»æ¨¡å‹ç”Ÿæˆã€‚\n\n\t> æ¨¡å‹æ˜¯çœŸå®æ•°æ®çš„ç®€å•æ˜ç¡®çš„æè¿°ï¼Œå®ƒåŒ…å«äº†å‚¨å­˜çš„æ•°æ®æ‰€å¿…è¦çš„å­—æ®µå’Œè¡Œä¸ºã€‚\n\n- ä¾‹å¦‚ï¼Œåœ¨æœ¬æ¡ˆä¾‹ä¸­ ( æŠ•ç¥¨åº”ç”¨ )ï¼Œéœ€è¦åˆ›å»ºä¸¤ä¸ªæ¨¡å‹ï¼šé—®é¢˜ Question å’Œé€‰é¡¹ Choiceã€‚\n\t- Question æ¨¡å‹ï¼šåŒ…æ‹¬é—®é¢˜æè¿°å’Œå‘å¸ƒæ—¶é—´ã€‚\n\t- Choice æ¨¡å‹ï¼šåŒ…æ‹¬é€‰é¡¹æè¿°å’Œå½“å‰å¾—ç¥¨æ•°ã€‚æ¯ä¸ªé€‰é¡¹å±äºä¸€ä¸ªé—®é¢˜ ( ä¸€å¯¹ä¸€å…³ç³» )ã€‚\n\n- è¿™äº›æ¦‚å¿µå¯é€šè¿‡ Python ç±»æ¥æè¿°ã€‚æŒ‰ç…§ä¸‹é¢çš„ä¾‹å­æ¥ç¼–è¾‘ `polls/models.py` æ–‡ä»¶ï¼š\n\t- æ¯ä¸ªæ¨¡å‹è¢«è¡¨ç¤ºä¸º `django.db.models.Model` ç±»çš„å­ç±»ã€‚æ¯ä¸ªæ¨¡å‹æœ‰ä¸€äº›ç±»å˜é‡ï¼Œå®ƒä»¬éƒ½è¡¨ç¤ºæ¨¡å‹é‡Œçš„ä¸€ä¸ªæ•°æ®åº“å­—æ®µã€‚\n\t- æ¯ä¸ªå­—æ®µéƒ½æ˜¯ `Field` ç±»çš„å®ä¾‹ï¼Œè¿™å°†å‘Šè¯‰ Django æ¯ä¸ªå­—æ®µè¦å¤„ç†çš„æ•°æ®ç±»å‹ã€‚æ¯”å¦‚ï¼Œå­—ç¬¦å­—æ®µè¢«è¡¨ç¤ºä¸º `CharField`ï¼Œæ—¥æœŸæ—¶é—´å­—æ®µè¢«è¡¨ç¤ºä¸º `DateTimeField`ã€‚\n\t- å®šä¹‰æŸäº› Field ç±»å®ä¾‹éœ€è¦å‚æ•°ï¼Œä¾‹å¦‚ CharField éœ€è¦ä¸€ä¸ª max_length å‚æ•°ã€‚\n\t\t\n\t\t> è¿™ä¸ªå‚æ•°çš„ç”¨å¤„ä¸æ­¢äºç”¨æ¥å®šä¹‰æ•°æ®åº“ç»“æ„ï¼Œä¹Ÿç”¨äºéªŒè¯æ•°æ®ã€‚\n\n\t- Django æ”¯æŒæ‰€æœ‰å¸¸ç”¨çš„æ•°æ®åº“å…³ç³»ï¼šä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šå’Œå¤šå¯¹å¤šï¼Œæˆ‘ä»¬ä½¿ç”¨å¤–é”® `ForeignKey` å®šä¹‰äº†ä¸€ä¸ªå…³ç³»ã€‚ä¾‹å¦‚ï¼Œæ¯ä¸ª Choice å¯¹è±¡éƒ½å…³è”åˆ°ä¸€ä¸ª Question å¯¹è±¡ã€‚\n\t- æ•°æ®è¡¨æœ€é‡è¦çš„ `ä¸»é”®` ä¼šè¢«è‡ªåŠ¨åˆ›å»ºï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ã€‚\n\n\t\t```python\n\t\tfrom django.db import models\n\t\n\t\tclass Question(models.Model):\n\t\t    question_text = models.CharField(max_ length=200)\n\t\t    pub_date = models.DateTimeField('date published')\n\t\t    \n\t\t    # Question.objects.all() è¿”å›ä¿¡æ¯å¯¹æˆ‘ä»¬ç”¨å¤„ä¸å¤§ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n\t\t    # <QuerySet [<Question: Question object (1)>]>\n\t\t    # å¯å°è¯•é€šè¿‡ __str__() æ–¹æ³•è¿”å›ä¸€äº›å­—æ®µä¿¡æ¯\n\t\t    def __str__(self):\n\t\t    \treturn self.question_text\n\t\n\t\tclass Choice(models.Model):\n\t\t    question = models.ForeignKey(Question, on_delete=models.CASCADE)\n\t\t    choice_text = models.CharField(max_length=200)\n\t\t    votes = models.IntegerField(default=0)\n\t\t    def __str__(self):\n\t\t    \treturn self.choice_text\n\t\t```\n\n#### æ¿€æ´»æ¨¡å‹\n-  ä»ä¸Šè¿°ç”¨äºåˆ›å»ºæ¨¡å‹çš„ä»£ç å¯çŸ¥ï¼ŒDjango å¯å®ç°ï¼š\n\t- ä¸ºè¿™ä¸ªåº”ç”¨åˆ›å»ºæ•°æ®åº“ `schema` ( ç”Ÿæˆ CREATE TABLE è¯­å¥ )ã€‚\n\t- åˆ›å»ºä¸ Question å’Œ Choice å¯¹è±¡ä¸æ•°æ®åº“è¿›è¡Œäº¤äº’çš„ `API` ( Python ç‰ˆæœ¬ )ã€‚\n\n- ä½†æ˜¯é¦–å…ˆå¾—æŠŠ polls åº”ç”¨å®‰è£…åˆ°æˆ‘ä»¬çš„é¡¹ç›®é‡Œã€‚å…·ä½“åœ°ï¼Œ åœ¨æ–‡ä»¶ `mysite/settings.py` ä¸­ `INSTALLED_APPS` å­é¡¹æ·»åŠ ç‚¹å¼è·¯å¾„ï¼š\n\n\t```python\n\tINSTALLED_APPS = [\n\t    # å› ä¸º ApplicationConfig ç±»å†™åœ¨æ–‡ä»¶ polls/apps.py ä¸­ï¼Œ\n\t    # æ‰€ä»¥å®ƒçš„ç‚¹å¼è·¯å¾„æ˜¯ 'polls.apps.ApplicationConfig'\n\t    'polls.apps.ApplicationConfig',\t# æ¿€æ´»æ¨¡å‹\n\t    'django.contrib.admin',\t\t\t# ç®¡ç†å‘˜ç«™ç‚¹\n\t    'django.contrib.auth',\t\t\t# è®¤è¯æˆæƒç³»ç»Ÿ\n\t    'django.contrib.contenttypes',\t# å†…å®¹ç±»å‹æ¡†æ¶\n\t    'django.contrib.sessions',\t\t# ä¼šè¯æ¡†æ¶\n\t    'django.contrib.messages',\t\t# æ¶ˆæ¯æ¡†æ¶\n\t    'django.contrib.staticfiles',\t# ç®¡ç†é™æ€æ–‡ä»¶çš„æ¡†æ¶\n\t]\n\t```\n- ç°åœ¨ä½ çš„ Django é¡¹ç›®ä¼šåŒ…å« polls åº”ç”¨ã€‚æ¥ç€é€šè¿‡è¿è¡Œ `makemigrations` å‘½ä»¤ï¼ŒDjango ä¼šæ£€æµ‹ä½ å¯¹æ¨¡å‹æ–‡ä»¶çš„ä¿®æ”¹ ( åœ¨è¿™ç§æƒ…å†µä¸‹åˆšåˆ›å»ºçš„å¯ç†è§£ä¸ºæœ€æ–°ä¿®æ”¹çš„  )ï¼Œå¹¶ä¸”æŠŠä¿®æ”¹çš„éƒ¨åˆ†å‚¨å­˜ä¸ºä¸€æ¬¡ `è¿ç§»`ã€‚\n\n\t> è¿ç§»ï¼šDjango å¯¹äºæ¨¡å‹å®šä¹‰ï¼Œä¹Ÿå°±æ˜¯ä½ çš„æ•°æ®åº“ç»“æ„çš„å˜åŒ–çš„å‚¨å­˜å½¢å¼ã€‚å®ƒä»¬å…¶å®ä¹Ÿåªæ˜¯ä¸€äº›ä½ ç£ç›˜ä¸Šçš„æ–‡ä»¶ã€‚\n\n\t```shell\n\tpython manage.py makemigrations polls\n\t```\n\t\n- Django æœ‰ä¸€ä¸ªè‡ªåŠ¨æ‰§è¡Œ `æ•°æ®åº“è¿ç§»` å¹¶åŒæ­¥ç®¡ç†ä½ çš„æ•°æ®åº“ç»“æ„çš„å‘½ä»¤ï¼š\n\n\t```shell\n\tpython manage.py migrate\n\t```\n\t\n- å½“ç„¶ï¼Œä½ æ˜¯å¦ä¼šå¥½å¥‡ï¼Œè¿ç§»æ˜¯æ€æ ·çš„è¿‡ç¨‹ï¼Œè¿ç§»å‘½ä»¤ä¼šæ‰§è¡Œå“ªäº› SQL è¯­å¥ï¼Ÿé‚£ä¹ˆï¼Œ`sqlmigrate` å‘½ä»¤æ¥æ”¶ä¸€ä¸ªè¿ç§»çš„åç§°ï¼Œç„¶åè¿”å›å¯¹åº”çš„ SQLã€‚\n\t\n\t```shell\n\t# sqlmigrate å‘½ä»¤\n\t# å¹¶æ²¡æœ‰çœŸæ­£åœ¨æ•°æ®åº“ä¸­çš„æ‰§è¡Œè¿ç§»ï¼Œå®ƒåªæ˜¯æŠŠå‘½ä»¤è¾“å‡ºåˆ°å±å¹•ä¸Š\n\tpython manage.py sqlmigrate polls 0001\n\t```\n\t\n- è¾“å…¥ä»¥ä¸Šå‘½ä»¤ï¼Œä½ å°†çœ‹åˆ°å¦‚ä¸‹ç»“æœ ( æ ¼å¼åŒ–è¾“å‡º SQL )ï¼š\n\t\n\t```SQL\n\t-- è¾“å‡ºç¤ºä¾‹ä½¿ç”¨çš„æ˜¯ PostgreSQL / MySQL --\n\tBEGIN;\n\t-- Create model Choice\n\tCREATE TABLE \"polls_choice\" (\n\t    \"id\" serial NOT NULL PRIMARY KEY,\n\t    \"choice_text\" varchar(200) NOT NULL,\n\t    \"votes\" integer NOT NULL\n\t);\n\t-- Create model Question\n\tCREATE TABLE \"polls_question\" (\n\t    \"id\" serial NOT NULL PRIMARY KEY,\n\t    \"question_text\" varchar(200) NOT NULL,\n\t    \"pub_date\" timestamp with time zone NOT NULL\n\t);\n\t-- çœç•¥å‰©ä½™è¯­å¥ï¼Œå…·ä½“å¯è‡ªè¡Œæµ‹è¯• --\n\tCOMMIT;\n\t```\n\n- ä»æ ¼å¼åŒ–çš„ SQL è¯­å¥å¯æ³¨æ„åˆ°ï¼š\n\n\t- æ•°æ®åº“çš„è¡¨åæ˜¯ç”±åº”ç”¨å ( polls ) å’Œæ¨¡å‹åçš„å°å†™å½¢å¼ ( question å’Œ choice ) è¿æ¥è€Œæ¥ã€‚\n\n\t- ä¸»é”® ( id ) ä¼šè¢«è‡ªåŠ¨åˆ›å»ºï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ã€‚\n\n\t- é»˜è®¤ Django ä¼šåœ¨å¤–é”®å­—æ®µååè¿½åŠ å­—ç¬¦ä¸² \"_id\" ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ã€‚\n\n\t- ç”Ÿæˆçš„ SQL è¯­å¥æ˜¯ä¸ºä½ æ‰€ç”¨çš„æ•°æ®åº“å®šåˆ¶çš„ï¼Œæ‰€ä»¥é‚£äº›å’Œæ•°æ®åº“æœ‰å…³çš„å­—æ®µç±»å‹ï¼Œæ¯”å¦‚ auto_increment ( MySQL )ã€ serial ( PostgreSQL ) å’Œ integer primary key autoincrement ( SQLite )ï¼ŒDjango ä¼šå¸®ä½ è‡ªåŠ¨å¤„ç†ã€‚é‚£äº›å’Œå¼•å·ç›¸å…³çš„äº‹æƒ…ï¼Œæ¯”å¦‚ä½¿ç”¨å•å¼•å·è¿˜æ˜¯åŒå¼•å·ï¼Œä¹Ÿä¸€æ ·ä¼šè¢«è‡ªåŠ¨å¤„ç†ã€‚\n\n- æ€»ç»“ï¼šè¿ç§»æ˜¯éå¸¸å¼ºå¤§çš„åŠŸèƒ½ï¼Œå®ƒèƒ½è®©ä½ åœ¨å¼€å‘è¿‡ç¨‹ä¸­æŒç»­çš„æ”¹å˜æ•°æ®åº“ç»“æ„è€Œä¸éœ€è¦é‡æ–°åˆ é™¤å’Œåˆ›å»ºè¡¨ï¼Œå³å®ƒä¸“æ³¨äºä½¿æ•°æ®åº“å¹³æ»‘å‡çº§è€Œä¸ä¼šä¸¢å¤±æ•°æ®ã€‚**ç°åœ¨æ”¹å˜æ¨¡å‹åªéœ€è¦è®°ä½è¿™ä¸‰æ­¥**ï¼š\n\n\t- ç¼–è¾‘ `models.py` æ–‡ä»¶ï¼Œæ”¹å˜æ¨¡å‹ã€‚\n\n\t- è¿è¡Œ `python manage.py makemigrations` ä¸ºæ¨¡å‹çš„æ”¹å˜ `ç”Ÿæˆ` è¿ç§»æ–‡ä»¶ã€‚\n\n\t- è¿è¡Œ `python manage.py migrate` æ¥ `åº”ç”¨` æ•°æ®åº“è¿ç§»ã€‚\n\n#### æ•°æ®æ“ä½œ\n- å½“å®Œæˆ `åˆ›å»ºæ¨¡å‹` ( å®šä¹‰æ•°æ®å®ä½“å’Œæ•°æ®å…³ç³» ) ä¸ `æ¿€æ´»æ¨¡å‹` ( æ¨¡å‹é©±åŠ¨è‡ªåŠ¨ç”Ÿæˆ SQL ä»£ç  ) çš„å·¥ä½œï¼Œå³è¡¨æ˜æ•°æ®è¡¨å·²å»ºç«‹èµ·æ¥ï¼Œç´§æ¥ç€ä¾¿å¯æ“ä½œæ•°æ®åº“äº†ã€‚\n- å…³äºæ“ä½œæ•°æ®åº“çš„ Python API æ‰€æœ‰ç»†èŠ‚å¯åœ¨ [Database API For Python](https://docs.djangoproject.com/zh-hans/2.1/topics/db/queries/) å‚è€ƒæ–‡æ¡£ä¸­æ‰¾åˆ°ã€‚\n\n##### åˆ›å»ºå¯¹è±¡\n- å‡è®¾æ¨¡å‹å­˜åœ¨äºæ–‡ä»¶ä¸­ mysite/polls/models.pyï¼š\n\n\t```python\n\tfrom polls.models import Choice, Question\n\t# ä½¿ç”¨æ¨¡å‹ç±»çš„å…³é”®å­—å‚æ•°å¯¹å…¶å®ä¾‹åŒ–ï¼Œå†è°ƒç”¨ save() ä»¥å°†å…¶ä¿å­˜åˆ°æ•°æ®åº“ä¸­\n\tq = Question(question_text=\"What's new?\", pub_date=timezone.now())\n\t# åˆ›å»ºå’Œä¿å­˜å¯¹è±¡åˆ™ä½¿ç”¨ create() æ–¹æ³•\n\tq.save()\n\t```\n\t\n##### æ›´æ–°å¯¹è±¡\n- UPDATE åœ¨å¹•åæ‰§è¡Œ SQL è¯­å¥ï¼š\n\n\t```python\n\t# ä¿å­˜å¯¹è±¡çš„æ›´æ”¹\n\tq.question = \"What do you think about?\"\n\tq.save()\n\t```\n\t\n- ä¿å­˜ ForeignKey å­—æ®µï¼šæ›´æ–° ForeignKey å­—æ®µçš„å·¥ä½œæ–¹å¼ä¸ä¿å­˜æ™®é€šå­—æ®µçš„æ–¹å¼å®Œå…¨ç›¸åŒï¼Œåªéœ€å°†æ­£ç¡®ç±»å‹çš„å¯¹è±¡åˆ†é…ç»™ç›¸å…³å­—æ®µå³å¯ã€‚\n\n\t```python\n\t# ä¸€èˆ¬æƒ…å†µ pk ( Primary Key ) å’Œ id æ˜¯ä¸€æ ·çš„ï¼Œåªæœ‰ id ä¸æ˜¯ä¸»é”®æ—¶æ‰ä¸ä¸€æ ·\n\tchoice = Choice.objects.get(pk=1)\n\tquestion = Question.objects.get('What do you think about?')\n\tchoice.question = question\n\tchoice.save()\n\t```\n\t\n-  æ›´æ–°ManyToManyField å·¥ä½œçš„æ–¹å¼ç•¥æœ‰ä¸åŒ ï¼šä½¿ç”¨ add() å­—æ®µä¸Šçš„æ–¹æ³•å‘å…³ç³»æ·»åŠ è®°å½•ã€‚\n\n##### æ£€ç´¢å¯¹è±¡\n- ä½¿ç”¨ all() è¿”å›æ‰€æœ‰å¯¹è±¡ï¼šä¾‹å¦‚ï¼Œè¿”å› Question æ•°æ®åº“ä¸­æ‰€æœ‰å¯¹è±¡ã€‚\n\n\t```python\n\tall_question = Question.objects.all()\n\t```\n \n- `ä½¿ç”¨è¿‡æ»¤å™¨æ£€ç´¢ç‰¹å®šå¯¹è±¡`ï¼šè‹¥æˆ‘ä»¬ä»…éœ€è¦é€‰æ‹©æ•´ä¸ªå¯¹è±¡é›†çš„å­é›†ï¼Œåˆ™éœ€è¦å‘ QuerySet æ·»åŠ è¿‡æ»¤æ¡ä»¶ã€‚ä¸¤ç§æœ€å¸¸è§çš„æ”¹è¿›æ–¹æ³•ï¼š\n\t- `filter(**kwargs)`ï¼šè¿”å› QuerySet åŒ…å«ä¸ç»™å®šæŸ¥æ‰¾å‚æ•°åŒ¹é…çš„æ–°å¯¹è±¡ã€‚\n\t- `exclude(**kwargs)`ï¼šè¿”å› QuerySet åŒ…å«ä¸ç»™å®šæŸ¥æ‰¾å‚æ•°ä¸åŒ¹é…çš„æ–°å¯¹è±¡ã€‚\n\t\t\n\t\t```python\n\t\t# ä¾‹å¦‚ï¼šè·å– 2018 å¹´é—´æ‰€æœ‰é—®é¢˜è®°å½•\n\t\tQuestion.objects.filter(pub_date__year=2017)\n\t\t```\n\t\t\n- `é“¾æ¥è¿‡æ»¤å™¨`ï¼šQuerySet æ£€ç´¢ç»“æœæœ¬èº«ä¹Ÿæ˜¯ QuerySet å¯¹è±¡ï¼Œæ•…å¯ä½¿ç”¨å¤šä¸ªè¿‡æ»¤å™¨ã€‚ä½œç”¨ä¸ `å¤šæ¡ä»¶æŸ¥è¯¢` ç±»ä¼¼æ•ˆæœã€‚\n\n\t```python\n\t# ä¾‹å¦‚ï¼šè·å–ä»¥â€œWhatâ€å¼€å¤´ï¼Œåœ¨ 2018 å¹´ 1 æœˆ 1 æ—¥è‡³å½“å¤©å‰çš„æ‰€æœ‰è®°å½•\n\tQuestion.objects.filter(\n\t\theadline__startswith='What'\n\t).exclude(\n\t\tpub_date__gte=datetime.date.today()\n\t).filter(\n\t\tpub_date__gte=datetime.date(2018, 1, 1)\n\t)\n\t```\n\t\n- ä½¿ç”¨ get() æ£€ç´¢å•ä¸ªå¯¹è±¡ï¼š\n\n\t```python\n\tone_question = Question.objects.get(pk=1)\n\t# Question æ²¡æœ‰ä¸»é”®ä¸º 1 çš„å¯¹è±¡ï¼ŒDjango å°†å¼•å‘å¼‚å¸¸ Entry.DoesNotExistã€‚\n\t```\n\t\n- é™åˆ¶ QuerySet è¿”å›é›†åˆçš„å¤§å°ï¼šä½¿ç”¨ Python çš„æ•°ç»„åˆ‡ç‰‡è¯­æ³•å°†é™åˆ¶ QuerySet ä¸ºä¸€å®šæ•°é‡çš„ç»“æœã€‚è¿™ç›¸å½“äº SQL ä¸­ `LIMIT` å’Œ `OFFSET` å­å¥ã€‚\n\n\t- æ³¨æ„ 1ï¼š`Entry.objects.all()[-1]` ä¸æ”¯æŒè´Ÿç´¢å¼•ã€‚\n\t- æ³¨æ„ 2ï¼š`Entry.objects.all()[:10:2]` ä¸æ”¯æŒä½¿ç”¨æ­¥è¿› ( Step ) å–å€¼ã€‚\n\n\t\t```python\n\t\t# ä¾‹å¦‚ï¼šè¿”å›å‰5ä¸ªå¯¹è±¡ï¼ˆï¼‰ï¼šLIMIT 5\n\t\tQuestion.objects.all()[:5]\n\t\t# ä¾‹å¦‚ï¼šè¿”å›ç¬¬6åˆ°ç¬¬10ä¸ªå¯¹è±¡ï¼šOFFSET 5 LIMIT 5\n\t\tQuestion.objects.all()[5:10]\n\t\t```\n\n#### ç«™ç‚¹ç®¡ç†\n\n##### å¼€ç¯‡å¼•è¨€\n- ç›¸ä¿¡ä½ ä¹Ÿæœ‰è¿‡åŒæ ·çš„ç»å†ï¼Œä¾‹å¦‚ä¸ºä½ çš„å‘˜å·¥æˆ–å®¢æˆ·ç”Ÿæˆä¸€ä¸ªç”¨æˆ·æ·»åŠ ã€ä¿®æ”¹å’Œåˆ é™¤å†…å®¹çš„ç®¡ç†åå°ï¼Œå³ç®€å•çš„å¢åˆ æ”¹æŸ¥æ“ä½œ ( CRUD ) ï¼Œä½†å®ƒå´æ˜¯ä¸€é¡¹ç¼ºä¹åˆ›é€ æ€§å’Œä¹å‘³çš„å·¥ä½œã€‚å› æ­¤ï¼ŒDjango å…¨è‡ªåŠ¨åœ°æ ¹æ®æ¨¡å‹åˆ›å»ºç•Œé¢åŒ–çš„ç®¡ç†åå°ã€‚\n- ç®¡ç†ç•Œé¢ä¸æ˜¯ä¸ºäº†ç½‘ç«™çš„è®¿é—®è€…ï¼Œè€Œæ˜¯ä¸ºç®¡ç†è€…å‡†å¤‡çš„ã€‚éœ€è¦å®¢åˆ¶åŒ–çš„åå°ç®¡ç†ç•Œé¢è¿˜éœ€è‡ªè¡Œå®ç°ã€‚\n\n##### åˆ›å»ºç®¡ç†å‘˜è´¦å·\n- é¦–å…ˆï¼Œæˆ‘ä»¬å¾—åˆ›å»ºä¸€ä¸ªèƒ½ç™»å½•ç®¡ç†é¡µé¢çš„ç”¨æˆ·ã€‚è¯·è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š\n\n\t```bash\n\tpython manage.py createsuperuser\n\t# Username: kofe\n\t# Email address: kofe@example.com\n\t# Password: **********\n\t# Password (again): *********\n\t# Superuser created successfully.\n\t```\n\n##### å¯åŠ¨å¼€å‘æœåŠ¡å™¨\n- Django çš„ç®¡ç†ç•Œé¢é»˜è®¤å°±æ˜¯å¯ç”¨çš„ã€‚è®©æˆ‘ä»¬å¯åŠ¨å¼€å‘æœåŠ¡å™¨ã€‚å½“ç„¶ï¼Œä½ å¯ä»¥é€šè¿‡ PyCharm å¯åŠ¨æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤å¯åŠ¨ï¼š\n\n\t```bash\n\tpython manage.py runserver\n\t```\n\n- æ‰“å¼€æµè§ˆå™¨å³å¯è®¿é—®ï¼š`http://127.0.0.1:8000/admin/`\n\n##### ç®¡ç†é¡µæ·»åŠ åº”ç”¨\n- åœ¨ç´¢å¼•é¡µé¢ä¸­ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰çœ‹åˆ°åº”ç”¨ï¼Œå¦‚æœ¬ä¾‹ä¸­çš„æŠ•ç¥¨åº”ç”¨ `polls`ã€‚æ‰€ä»¥æˆ‘ä»¬å¾—å‘Šè¯‰ç®¡ç†é¡µé¢ï¼Œé—®é¢˜ `Question` å¯¹è±¡éœ€è¦è¢«ç®¡ç†ã€‚æ‰“å¼€ `polls/admin.py` æ–‡ä»¶ï¼ŒæŠŠå®ƒç¼–è¾‘æˆä¸‹é¢è¿™æ ·ï¼š\n\n\t```python\n\tfrom django.contrib import admin\n\tfrom .models import Question\n\tadmin.site.register(Question)\n\t```\n\t\n### æ¨¡æ¿å’Œè§†å›¾\n#### å¼€ç¯‡å¼•è¨€\n- æ¯ä¸ªè§†å›¾å¿…é¡»è¦åšçš„åªæœ‰ä¸¤ä»¶äº‹ï¼šè¿”å›ä¸€ä¸ªåŒ…å«è¢«è¯·æ±‚é¡µé¢å†…å®¹çš„ `HttpResponse` å¯¹è±¡æˆ–è€…æŠ›å‡ºä¸€ä¸ª `å¼‚å¸¸`ï¼Œæ¯”å¦‚ HTTP 404ã€‚\n\n\t> Django åªè¦æ±‚è¿”å›çš„æ˜¯ä¸€ä¸ª HttpResponse ï¼Œæˆ–æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ã€‚\n\n- è§†å›¾å¯ä»¥ä»æ•°æ®åº“é‡Œè¯»å–è®°å½•ï¼Œå¯ä½¿ç”¨ä¸€ä¸ªæ¨¡æ¿å¼•æ“ ( Django è‡ªå¸¦æˆ–è€…å…¶ä»–ç¬¬ä¸‰æ–¹çš„ )ï¼Œç”Ÿæˆä¸€ä¸ª PDF æ–‡ä»¶ã€è¾“å‡ºä¸€ä¸ª XMLã€åˆ›å»ºä¸€ä¸ª ZIP æ–‡ä»¶ç­‰ï¼Œä½ å¯ä»¥ä½¿ç”¨ä»»ä½•ä½ æƒ³ç”¨çš„ Python åº“ï¼Œå®ç°ä½ æƒ³åšçš„äº‹ã€‚\n- Django è‡ªå¸¦çš„ [Database API](https://docs.djangoproject.com/zh-hans/2.1/topics/db/queries/) å¾ˆæ–¹ä¾¿ï¼Œä¸è¯•å›¾ç»“åˆä½¿ç”¨å³å¯å®ç°æ•°æ®çš„åŸºæœ¬äº¤äº’æ“ä½œã€‚\n\n\t```python\n\t# åœ¨ index() å‡½æ•°é‡Œæ’å…¥äº†ä¸€äº›æ–°å†…å®¹\n\t# è®©å®ƒèƒ½å±•ç¤ºæ•°æ®åº“é‡Œä»¥å‘å¸ƒæ—¥æœŸæ’åºçš„æœ€è¿‘5ä¸ªæŠ•ç¥¨é—®é¢˜\n\tfrom django.http import HttpResponse\n\tfrom .models import Question\n\tdef index(request):\n\t\tlatest_question_list = Question.objects.order_by('-pub_date')[0:5]\n\t\toutput = ', '.join([q.question_text for q in latest_question_list])\n\t\treturn HttpResponse(output)\n\t```\n\t\n#### æ¨¡æ¿ç³»ç»Ÿ\n- è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼šé¡µé¢çš„è®¾è®¡å†™æ­»åœ¨è§†å›¾å‡½æ•°çš„ä»£ç é‡Œçš„ã€‚å¦‚æœä½ æƒ³æ”¹å˜é¡µé¢çš„æ ·å­ï¼Œä½ éœ€è¦ç¼–è¾‘ Python ä»£ç ã€‚æˆ‘ä»¬æ˜¯å¦èƒ½å°†æ­¤è¿‡ç¨‹ç›¸äº’åˆ†ç¦»ï¼Œå³ `è§†å›¾è´Ÿè´£å¤„ç†ã€ç»„è£…æ•°æ®`ï¼›`æ¨¡æ¿åˆ™è´Ÿè´£æ ·å¼`ã€‚\n\t- é¦–å…ˆï¼Œåœ¨ä½ çš„é¡¹ç›®æ ¹ç›®å½•é‡Œåˆ›å»ºä¸€ä¸ª `templates` ç›®å½•ã€‚Django å°†ä¼šåœ¨è¿™ä¸ªç›®å½•é‡ŒæŸ¥æ‰¾æ¨¡æ¿æ–‡ä»¶ã€‚\n\t- åœ¨ `templates` ç›®å½•é‡Œï¼Œå†åˆ›å»ºä¸€ä¸ªç›®å½• `polls`ï¼Œç„¶ååœ¨å…¶ä¸­æ–°å»ºä¸€ä¸ªæ–‡ä»¶ `index.html`ã€‚\n\t- æ¢å¥è¯è¯´ï¼Œä½ çš„æ¨¡æ¿æ–‡ä»¶çš„è·¯å¾„åº”è¯¥æ˜¯ `mysite/templates/polls/index.html`ã€‚å› ä¸º Django ä¼šå¯»æ‰¾åˆ°å¯¹åº”çš„ `app_directories`ï¼Œæ‰€ä»¥ä½ åªéœ€è¦ä½¿ç”¨ `polls/index.html` å°±å¯å¼•ç”¨åˆ°è¿™ä¸€æ¨¡æ¿äº†ã€‚\n\n\t\t> `æ¨¡æ¿å‘½åç©ºé—´`ï¼šè™½ç„¶å¯å°†æ¨¡æ¿æ–‡ä»¶ç›´æ¥æ”¾åœ¨ mysite/templates ç›®å½•ä¸‹ï¼Œä½†è‹¥æœ‰ä¸€ä¸ªæ¨¡æ¿æ–‡ä»¶æ­£å¥½å’Œå¦ä¸€ä¸ªåº”ç”¨ä¸­çš„æŸä¸ªæ¨¡æ¿æ–‡ä»¶é‡åï¼Œåˆ™ Django æ²¡æœ‰åŠæ³•åŒºåˆ†å®ƒä»¬ï¼Œä»è€Œé€‰æ‹©ç¬¬ä¸€ä¸ªåŒ¹é…çš„æ¨¡æ¿æ–‡ä»¶ï¼Œé€ æˆä¸èƒ½å‡†ç¡®åŒ¹é…çš„çŠ¶å†µã€‚\n\t\t\n\t\t> å¸®åŠ© Django æ­£ç¡®é€‰æ‹©æ¨¡æ¿ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯æŠŠä»–ä»¬æ”¾å…¥å„è‡ªçš„ `å‘½åç©ºé—´` ä¸­ï¼Œå³æŠŠè¿™äº›æ¨¡æ¿æ”¾å…¥ä¸€ä¸ªå’Œ `è‡ªèº«åº”ç”¨é‡å` çš„å­æ–‡ä»¶å¤¹é‡Œï¼Œå¦‚æœ¬ä¾‹ä¸­çš„ `polls`ã€‚\n\n#### å°è¯•ç‰›åˆ€\n- æˆ‘ä»¬å°†ä¸‹é¢çš„ä»£ç è¾“å…¥åˆ°åˆšåˆšåˆ›å»ºçš„æ¨¡æ¿æ–‡ä»¶ä¸­ï¼š\n\n\t```html\n\t<!-- mysite/templates/polls/index.html -->\n\t{% if latest_question_list %}\n\t\t<ul>\n\t\t{% for question in latest_question_list %}\n\t\t\t<li><a href=\"/polls/{{ question.id }}/\">\n\t\t\t\t{{ question.question_text }}\n\t\t\t</a></li>\n\t\t{% endfor %}\n\t\t</ul>\n\t{% else %}\n\t\t<p>No polls are available.</p>\n\t{% endif %}\n\t```\n\t\n- ç„¶åï¼Œè®©æˆ‘ä»¬æ›´æ–°ä¸€ä¸‹ polls/views.py é‡Œçš„ index è§†å›¾æ¥ä½¿ç”¨æ¨¡æ¿ï¼š\n\n\t```python\n\tfrom django.http import HttpResponse\n\tfrom django.template import loader\n\tfrom .models import Question\n\n\tdef index(request):\n\t\tlatest_question_list = Question.objects.order_by('-pub_date')[:5]\n\t\ttemplate = loader.get_template('polls/index.html')\n\t\tcontext = {\n\t\t\t'latest_question_list': latest_question_list,\n\t\t}\n\t\treturn HttpResponse(template.render(context, request))\n\t```\n\t\n- è½½å…¥æ¨¡æ¿ï¼Œå¡«å……ä¸Šä¸‹æ–‡ï¼Œå†è¿”å›ç”±å®ƒç”Ÿæˆçš„ HttpResponse å¯¹è±¡ï¼Œè¿™é‡Œå¼•å…¥ä¸€ä¸ªä¾¿æ·å‡½æ•° render() å‡½æ•°ã€‚å®ƒå·²ç»æŠŠæ­¤è¿‡ç¨‹å°è£…ä¸€èµ·ï¼Œè°ƒç”¨å³å¯ä½¿ç”¨ã€‚\n\n\trender() å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ request å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯æ¨¡æ¿åï¼Œç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å­—å…¸ã€‚å®ƒè¿”å›ç»™å®šä¸Šä¸‹æ–‡å‘ˆç°çš„ç»™å®šæ¨¡æ¿çš„ HttpResponse å¯¹è±¡ã€‚\n\t\n\t```python\n\tdef index(request):\n\t\tlatest_question_list = Question.objects.order_by('-pub_date')[:5]\n\t\tcontext = {'latest_question_list': latest_question_list}\n\t\treturn render(request, 'polls/index.html', context)\n\t```\n\t\n- ç”¨ä½ çš„æµè§ˆå™¨è®¿é—® `http://127.0.0.1:8000/polls/`ï¼Œä½ å°†ä¼šçœ‹è§ä¸€ä¸ªæ— åºåˆ—è¡¨ã€‚\n\n#### ä½¿ç”¨æ¨¡æ¿ç³»ç»Ÿ\n\n> ä½¿ç”¨æ¨¡æ¿ç³»ç»Ÿçš„è¿‡ç¨‹ï¼Œæ›´åƒæ˜¯å‰ç«¯ä¸åç«¯ä¿¡æ¯äº¤äº’çš„è¿‡ç¨‹ï¼Œå³å‰ç«¯è®¿é—®è¯·æ±‚åœ°å€è·å–æ•°æ®çš„è¿‡ç¨‹ã€‚\n\n- æ¨¡æ¿ç³»ç»Ÿç»Ÿä¸€ä½¿ç”¨ `ç‚¹ç¬¦å·` æ¥è®¿é—®å˜é‡çš„å±æ€§ã€‚åœ¨ç¤ºä¾‹ {% raw %}{{ question.question_text }}{% endraw %} ä¸­ï¼Œé¦–å…ˆ Django å°è¯•å¯¹ question å¯¹è±¡ä½¿ç”¨å­—å…¸æŸ¥æ‰¾ ( ä¹Ÿå°±æ˜¯ä½¿ç”¨ obj.get(str) æ“ä½œ )ï¼Œå¦‚æœå¤±è´¥äº†å°±å°è¯•å±æ€§æŸ¥æ‰¾ ( ä¹Ÿå°±æ˜¯ obj.str æ“ä½œ )ï¼Œç»“æœæ˜¯æˆåŠŸäº†ã€‚å¦‚æœè¿™ä¸€æ“ä½œä¹Ÿå¤±è´¥çš„è¯ï¼Œå°†ä¼šå°è¯•åˆ—è¡¨æŸ¥æ‰¾ ( ä¹Ÿå°±æ˜¯ obj[int] æ“ä½œ )ã€‚\n- åœ¨{% raw %}{% for %}{% endraw %}å¾ªç¯ä¸­å‘ç”Ÿçš„å‡½æ•°è°ƒç”¨ï¼šquestion.choice_set.all è¢«è§£é‡Šä¸º Python ä»£ç  question.choice_set.all()ï¼Œå°†ä¼šè¿”å›ä¸€ä¸ªå¯è¿­ä»£çš„ Choice å¯¹è±¡ï¼Œè¿™ä¸€å¯¹è±¡å¯ä»¥åœ¨ {% raw %}{% for %}{% endraw %} æ ‡ç­¾å†…éƒ¨ä½¿ç”¨ã€‚\n- æŸ¥çœ‹ [æ¨¡æ¿æŒ‡å—](https://docs.djangoproject.com/zh-hans/2.1/topics/templates/) å¯ä»¥äº†è§£å…³äºæ¨¡æ¿çš„æ›´å¤šä¿¡æ¯ã€‚\n\n#### å»é™¤æ¨¡æ¿ä¸­çš„ç¡¬ç¼–ç  URL\n- ç¡¬ç¼–ç ï¼šç¡¬ç¼–ç å’Œå¼ºè€¦åˆçš„é“¾æ¥ï¼Œå¯¹äºä¸€ä¸ªåŒ…å«å¾ˆå¤šåº”ç”¨çš„é¡¹ç›®æ¥è¯´ï¼Œä¿®æ”¹èµ·æ¥æ˜¯ååˆ†å›°éš¾çš„ã€‚\n\n\t```html\n\t<li><a href=\"/polls/{{ question.id }}/\">\n\t\t{{ question.question_text }}\n\t</a></li>\n\t```\n\n- è½¯ç¼–ç ï¼šç„¶è€Œï¼Œå› ä¸ºä½ åœ¨ polls.urls çš„ url() å‡½æ•°ä¸­é€šè¿‡ name å‚æ•°ä¸º URL å®šä¹‰äº†åå­—ï¼Œä½ å¯ä»¥ä½¿ç”¨ {% raw %}{% url %}{% endraw %} æ ‡ç­¾ä»£æ›¿å®ƒã€‚\n\n\t```html\n\t<!--\n\t | å…·æœ‰åå­— 'detail' çš„ URL åœ¨ polls/url.py ä¸­å®šä¹‰ä¸ºï¼š\n\t | path('<int:question_id>/', views.detail, name='detail')\n\t-->\t\n\t<li><a href=\"{% url 'detail' question.id %}\">\n\t\t{{ question.question_text }}\n\t</a></li>\n\t\n\t<!-- \n\t | è‹¥ä½ æƒ³æ”¹å˜æŠ•ç¥¨è¯¦æƒ…è§†å›¾çš„ URLï¼Œæ¯”å¦‚ polls/specifics/12/\n\t | ä¸ç”¨åœ¨æ¨¡æ¿é‡Œä¿®æ”¹ä»»ä½•ä¸œè¥¿ (åŒ…æ‹¬æ¨¡æ¿)ï¼Œåªåœ¨ polls/urls.py ç¨å¾®ä¿®æ”¹å°±è¡Œ\n\t | path('specifics/<int:question_id>/', views.detail, name='detail')\n\t-->\n\t```\n\n#### ä¸º URL åç§°æ·»åŠ å‘½åç©ºé—´\n- åœ¨ä¸€ä¸ªçœŸå®çš„ Django é¡¹ç›®ä¸­ï¼Œå¯èƒ½ä¼šæœ‰å¤šä¸ªåº”ç”¨ï¼ŒDjango å¦‚ä½•åˆ†è¾¨é‡åçš„ URL å‘¢ï¼Ÿå…·ä½“æƒ…å†µåˆ™æ˜¯ï¼Œ{% raw %}{% url %}{% endraw %} æ ‡ç­¾åˆ°åº•å¯¹åº”å“ªä¸€ä¸ªåº”ç”¨çš„ URL å‘¢ï¼Ÿ\n- åœ¨æ ¹ `URLconf` ä¸­æ·»åŠ å‘½åç©ºé—´ã€‚åœ¨ polls/urls.py æ–‡ä»¶ä¸­ç¨ä½œä¿®æ”¹ï¼ŒåŠ ä¸Š `app_name` è®¾ç½®å‘½åç©ºé—´ï¼š\n\n\t```python\n\tfrom django.urls import path\n\tfrom . import views\n\tapp_name = 'polls'\n\turlpatterns = [\n\t\tpath('', views.index, name='index'),\n\t\tpath('<int:question_id>/', views.detail, name='detail'),\n\t\tpath('<int:question_id>/results/', views.results, name='results'),\n\t\tpath('<int:question_id>/vote/', views.vote, name='vote'),\n\t]\n\t```\n\t\t\n- ä¿®æ”¹ä¸ºæŒ‡å‘å…·æœ‰å‘½åç©ºé—´çš„è¯¦ç»†è§†å›¾ï¼š\n\n\t```html\n\t<li><a href=\"{% url 'polls:detail' question.id %}\">\n\t\t{{ question.question_text }}\n\t</a></li>\n\t```\n\n### è¡¨å•å’Œé€šç”¨è§†å›¾\n#### è¡¨å•\n\n> åœ¨æ­¤å°èŠ‚ä¸­ï¼Œé€šè¿‡è¡¨å•æ¥æ”¶æ•°æ®ï¼Œå†é€šè¿‡ Django è§†å›¾æ¥å¤„ç†æäº¤çš„æ•°æ®ã€‚æ­¤è¿‡ç¨‹ï¼Œæ›´åƒæ˜¯å‰ç«¯æ‰“åŒ…æ•°æ®é€šè¿‡ GET/POST è¯·æ±‚ï¼ŒæŠŠæ•°æ®ä¼ é€åˆ°åç«¯ï¼Œäº¤ç”±åç«¯è§†å›¾å¤„ç†æ•°æ®ã€‚\n\n- ç¼–å†™ä¸€ä¸ªç®€å•çš„è¡¨å•ï¼šè®©æˆ‘ä»¬æ›´æ–°ä¸€ä¸‹åœ¨ä¸Šä¸€ä¸ªæ•™ç¨‹ä¸­ç¼–å†™çš„æŠ•ç¥¨è¯¦ç»†é¡µé¢çš„æ¨¡æ¿  `polls/detail.html`ï¼Œè®©å®ƒåŒ…å«ä¸€ä¸ª HTML `<form>` å…ƒç´ ï¼š\n\n\t```html\n\t<!-- mystie/templates/polls/detail.html -->\n\t<h1>{{ question.question_text }}</h1>\n\t{% if error_message %}\n\t\t<p><strong>{{ error_message }}</strong></p>\n\t{% endif %}\n\t<form action=\"{% url 'polls:vote' question.id %}\" method=\"post\">\n\t<!--\n\t | è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ä¿æŠ¤ï¼š\n\t | åœ¨ Django ä¸­ï¼Œæ‰€æœ‰é’ˆå¯¹å†…éƒ¨ URL çš„ POST è¡¨å•ï¼Œ\n\t | éƒ½åº”è¯¥ä½¿ç”¨  {% csrf_token %} æ¨¡æ¿æ ‡ç­¾ã€‚\n\t-->\n\t{% csrf_token %}\n\t{% for choice in question.choice_set.all %}\n\t\t<input type=\"radio\" name=\"choice\" id=\"choice{{ forloop.counter }}\" value=\"{{ choice.id }}\">\n\t\t<!-- æŒ‡ç¤º for æ ‡ç­¾å·²ç»å¾ªç¯å¤šå°‘æ¬¡ -->\n\t\t<label for=\"choice{{ forloop.counter }}\">{{ choice.choice_text }}</label><br>\n\t{% endfor %}\n\t<input type=\"submit\" value=\"Vote\">\n\t</form>\n\t```\n\n\t> [è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ ä¿æŠ¤](https://docs.djangoproject.com/zh-hans/2.1/ref/csrf/)ï¼šå½“æ¶æ„ç½‘ç«™åŒ…å«é“¾æ¥ï¼Œè¡¨å•æŒ‰é’®æˆ–æŸäº›æ—¨åœ¨åœ¨æ‚¨çš„ç½‘ç«™ä¸Šæ‰§è¡ŒæŸäº›æ“ä½œçš„JavaScriptæ—¶ï¼Œä¼šå‘ç”Ÿæ­¤ç±»æ”»å‡»ï¼Œä½¿ç”¨ç™»å½•ç”¨æˆ·è®¿é—®å…¶æµè§ˆå™¨ä¸­çš„æ¶æ„ç½‘ç«™çš„å‡­æ®ã€‚ä¸€ç§ç›¸å…³ç±»å‹çš„æ”»å‡»ï¼Œâ€œç™»å½•CSRFâ€ï¼Œæ”»å‡»ç½‘ç«™æ¬ºéª—ç”¨æˆ·çš„æµè§ˆå™¨ä»¥å…¶ä»–äººçš„å‡­æ®ç™»å½•ç½‘ç«™ä¹Ÿå—åˆ°ä¿æŠ¤ã€‚\n\t\n- æˆ‘ä»¬ä¸ºæŠ•ç¥¨åº”ç”¨åˆ›å»ºäº†ä¸€ä¸ª URLconf ï¼Œå³æ–°å¢ä¸€è¡Œ `path()`ï¼š\n\n\t```python\n\t# polls/urls.py\n\tpath('<int:question_id>/vote/', views.vote, name='vote')\n\t```\n\t\n- åˆ›å»ºä¸€ä¸ª `vote()` å‡½æ•°ï¼Œæ¥å¤„ç†ç›¸å…³çš„æ•°æ®è¯·æ±‚ï¼š\n\n\t```python\n\t# polls/views.py\n\tfrom django.http import HttpResponse, HttpResponseRedirect\n\tfrom django.shortcuts import get_object_or_404, render\n\tfrom django.urls import reverse\n\tfrom .models import Choice, Question\n\n\tdef vote(request, question_id):\n\t\tquestion = get_object_or_404(Question, pk=question_id)\n\t\ttry:\n\t\t\tselected_choice = question.choice_set.get(pk=request.POST['choice'])\n\t\texcept (KeyError, Choice.DoesNotExist):\n\t\t\t# Redisplay the question voting form.\n\t\t\treturn render(request, 'polls/detail.html', {\n\t\t\t\t'question': question,\n\t\t\t\t'error_message': \"You didn't select a choice.\",\n\t\t\t})\n\t\telse:\n\t\t\tselected_choice.votes += 1\n\t\t\tselected_choice.save()\n\t\t\t# Always return an HttpResponseRedirect after successfully dealing\n\t\t\t# with POST data. This prevents data from being posted twice if a\n\t\t\t# user hits the Back button.\n\t\t\treturn HttpResponseRedirect(reverse('polls:results', args=(question.id,)))\n\t```\n\n\t- ä»£ç è¿”å›ä¸€ä¸ª HttpResponseRedirect è€Œä¸æ˜¯å¸¸ç”¨çš„ HttpResponseï¼›\n\t- HttpResponseRedirect åªæ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼šç”¨æˆ·å°†è¦è¢«é‡å®šå‘çš„ URLï¼›\n\t- åœ¨ HttpResponseRedirect çš„æ„é€ å‡½æ•°ä¸­ä½¿ç”¨ reverse() å‡½æ•°ã€‚è¿™ä¸ªå‡½æ•°é¿å…äº†æˆ‘ä»¬åœ¨è§†å›¾å‡½æ•°ä¸­ç¡¬ç¼–ç  URLã€‚\n\n\t\t> reverse() è°ƒç”¨å°†è¿”å›ä¸€ä¸ªè¿™æ ·çš„å­—ç¬¦ä¸² `/polls/3/results/`ã€‚\n\t\t> å…¶ä¸­ 3 æ˜¯ question.id çš„å€¼ã€‚é‡å®šå‘çš„ URL å°†è°ƒç”¨ 'results' è§†å›¾æ¥æ˜¾ç¤ºæœ€ç»ˆçš„é¡µé¢ã€‚\n\t\t\n- å½“å¯¹ Question è¿›è¡ŒæŠ•ç¥¨åï¼Œvote() è§†å›¾å°†è¯·æ±‚é‡å®šå‘åˆ° Question çš„ç»“æœç•Œé¢ã€‚è®©æˆ‘ä»¬æ¥ç¼–å†™è¿™ä¸ªè§†å›¾ ( è¿™å’Œä¸Šä¸€ç« èŠ‚ä¸­çš„ detail() è§†å›¾å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œå”¯ä¸€çš„ä¸åŒæ˜¯æ¨¡æ¿çš„åå­—ã€‚ æˆ‘ä»¬å°†åœ¨ç¨åè§£å†³è¿™ä¸ªå†—ä½™é—®é¢˜ )ï¼š\n\n\t```python\n\t# polls/views.py\n\tfrom django.shortcuts import get_object_or_404, render\n\n\tdef results(request, question_id):\n\t\tquestion = get_object_or_404(Question, pk=question_id)\n\t\treturn render(request, 'polls/results.html', {'question': question})\n\t```\n\t\n- å†åˆ›å»ºä¸€ä¸ª `polls/results.html` æ¨¡æ¿ï¼š\n\n\t```html\n\t<!-- polls/templates/polls/results.html -->\n\t<h1>{{ question.question_text }}</h1>\n\n\t<ul>\n\t{% for choice in question.choice_set.all %}<li>\n\t\t{{ choice.choice_text }} -- {{ choice.votes }} vote{{ choice.votes|pluralize }}\n\t</li>{% endfor %}\n\t</ul>\n\n\t<a href=\"{% url 'polls:detail' question.id %}\">Vote again?</a>\n\t```\n\n#### é€šç”¨è§†å›¾\n\n> çŒœæƒ³ï¼šé€šç”¨è§†å›¾æ˜¯å¦æ˜¯é€šç”¨æ¨¡æ¿çš„æ€æƒ³ï¼Œå³ä½¿ç”¨ç»Ÿä¸€çš„ç•Œé¢å±•ç¤ºæ•°æ®ï¼Ÿ\n\n- detail() å’Œ results() è§†å›¾éƒ½å¾ˆç®€å•ã€‚å¹¶ä¸”ï¼Œåƒä¸Šé¢æåˆ°çš„é‚£æ ·ï¼Œå­˜åœ¨å†—ä½™é—®é¢˜ã€‚\n- è¿™äº›è§†å›¾åæ˜ åŸºæœ¬çš„ Web å¼€å‘ä¸­çš„ä¸€ä¸ªå¸¸è§æƒ…å†µï¼šæ ¹æ® URL ä¸­çš„å‚æ•°ä»æ•°æ®åº“ä¸­è·å–æ•°æ®ã€è½½å…¥æ¨¡æ¿æ–‡ä»¶ç„¶åè¿”å›æ¸²æŸ“åçš„æ¨¡æ¿ã€‚ ç”±äºè¿™ç§æƒ…å†µç‰¹åˆ«å¸¸è§ï¼ŒDjango æä¾›ä¸€ç§å¿«æ·æ–¹å¼ï¼Œå«åšâ€œé€šç”¨è§†å›¾â€ç³»ç»Ÿã€‚\n- é€šç”¨è§†å›¾å°†å¸¸è§çš„æ¨¡å¼æŠ½è±¡åŒ–ï¼Œå¯ä»¥ä½¿ä½ åœ¨ç¼–å†™åº”ç”¨æ—¶ç”šè‡³ä¸éœ€è¦ç¼–å†™ Python ä»£ç ã€‚\n\n\t> ä¸€èˆ¬æ¥è¯´ï¼Œå½“ç¼–å†™ä¸€ä¸ª Django åº”ç”¨æ—¶ï¼Œä½ åº”è¯¥å…ˆè¯„ä¼°ä¸€ä¸‹é€šç”¨è§†å›¾æ˜¯å¦å¯ä»¥è§£å†³ä½ çš„é—®é¢˜ï¼Œä½ åº”è¯¥åœ¨ä¸€å¼€å§‹ä½¿ç”¨å®ƒï¼Œè€Œä¸æ˜¯è¿›è¡Œåˆ°ä¸€åŠæ—¶é‡æ„ä»£ç ã€‚\n\n- è®©æˆ‘ä»¬å°†æˆ‘ä»¬çš„æŠ•ç¥¨åº”ç”¨è½¬æ¢æˆä½¿ç”¨é€šç”¨è§†å›¾ç³»ç»Ÿï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥åˆ é™¤è®¸å¤šæˆ‘ä»¬çš„ä»£ç ã€‚æˆ‘ä»¬ä»…ä»…éœ€è¦åšä»¥ä¸‹å‡ æ­¥æ¥å®Œæˆè½¬æ¢ï¼Œæˆ‘ä»¬å°†ï¼š\n\t- è½¬æ¢ URLconfã€‚\n\t- åˆ é™¤ä¸€äº›æ—§çš„ã€ä¸å†éœ€è¦çš„è§†å›¾ã€‚\n\t- åŸºäº Django çš„é€šç”¨è§†å›¾å¼•å…¥æ–°çš„è§†å›¾ã€‚\n\n##### æ”¹è‰¯ URLconf\n- é¦–å…ˆï¼Œæ‰“å¼€ polls/urls.py è¿™ä¸ª URLconf å¹¶å°†å®ƒä¿®æ”¹æˆï¼š\n\n\t```python\n\tfrom django.urls import path\n\tfrom . import views\n\n\tapp_name = 'polls'\n\turlpatterns = [\n\t\tpath('', views.IndexView.as_view(), name='index'),\n\t\t# è·¯å¾„å­—ç¬¦ä¸²ä¸­åŒ¹é…æ¨¡å¼çš„åç§°å·²ç»ç”± <question_id> æ”¹ä¸º <pk>\n\t\tpath('<int:pk>/', views.DetailView.as_view(), name='detail'),\n\t\tpath('<int:pk>/results/', views.ResultsView.as_view(), name='results'),\n\t\tpath('<int:question_id>/vote/', views.vote, name='vote'),\n\t]\n\t```\n\n##### æ”¹è‰¯è§†å›¾\n- ä¸‹ä¸€æ­¥ï¼Œæˆ‘ä»¬å°†åˆ é™¤æ—§çš„ index, detail, å’Œ results è§†å›¾ï¼Œå¹¶ç”¨ Django çš„é€šç”¨è§†å›¾ä»£æ›¿ã€‚æ‰“å¼€ polls/views.py æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä¿®æ”¹æˆï¼š\n\n\t```python\n\tfrom django.http import HttpResponseRedirect\n\tfrom django.shortcuts import get_object_or_404, render\n\tfrom django.urls import reverse\n\tfrom django.views import generic\n\tfrom .models import Choice, Question\n\n\tclass IndexView(generic.ListView):\n\t\ttemplate_name = 'polls/index.html'\n\t\tcontext_object_name = 'latest_question_list'\n\n\t\tdef get_queryset(self):\n        \t\t# Return the last five published questions.\n        \t\treturn Question.objects.order_by('-pub_date')[:5]\n\n\tclass DetailView(generic.DetailView):\n\t\tmodel = Question\n\t\ttemplate_name = 'polls/detail.html'\n\n\tclass ResultsView(generic.DetailView):\n\t\tmodel = Question\n\t\ttemplate_name = 'polls/results.html'\n\n\t\tdef vote(request, question_id):\n\t\t\t# Same as above, no changes needed.\n\t```\n\n- ä¸Šè¿°ä»£ç è¯¦ç»†è§£é‡Šï¼š\t\t\n\t- é»˜è®¤æƒ…å†µä¸‹ï¼Œé€šç”¨è§†å›¾ DetailView ä½¿ç”¨ä¸€ä¸ªå«åš `<app name>/<model name>_detail.html` çš„æ¨¡æ¿ã€‚åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå®ƒå°†ä½¿ç”¨ `polls/question_detail.html` æ¨¡æ¿ã€‚\n\t- `template_name` å±æ€§æ˜¯ç”¨æ¥å‘Šè¯‰ Django ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„æ¨¡æ¿åå­—ï¼Œè€Œä¸æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„é»˜è®¤åå­—ã€‚ \n\t- æˆ‘ä»¬ä¹Ÿä¸º results åˆ—è¡¨è§†å›¾å’Œ detail è§†å›¾æŒ‡å®šäº† template_nameã€‚å³ä½¿å®ƒä»¬åœ¨åå°éƒ½æ˜¯åŒä¸€ä¸ª DetailViewï¼Œresults è§†å›¾å’Œ detail è§†å›¾åœ¨æ¸²æŸ“æ—¶å…·æœ‰ä¸åŒçš„è®¿é—®åç§°ã€‚\n\t- ç±»ä¼¼åœ°ï¼ŒListView ä½¿ç”¨ä¸€ä¸ªå«åš `<app name>/<model name>_list.html` çš„é»˜è®¤æ¨¡æ¿ï¼›æˆ‘ä»¬ä½¿ç”¨ template_name æ¥å‘Šè¯‰ ListView ä½¿ç”¨æˆ‘ä»¬åˆ›å»ºçš„å·²ç»å­˜åœ¨çš„ `polls/index.html` æ¨¡æ¿ã€‚\n\t- åœ¨ä¹‹å‰çš„æ•™ç¨‹ä¸­ï¼Œæä¾›æ¨¡æ¿æ–‡ä»¶æ—¶éƒ½å¸¦æœ‰ä¸€ä¸ªåŒ…å« question å’Œ latest_question_list å˜é‡çš„ contextã€‚\n\t\t- å¯¹äº DetailView ï¼Œ question å˜é‡ä¼šè‡ªåŠ¨æä¾›â€”â€” å› ä¸ºæˆ‘ä»¬ä½¿ç”¨ Django çš„æ¨¡å‹ (Question)ï¼Œ Django èƒ½å¤Ÿä¸º context å˜é‡å†³å®šä¸€ä¸ªåˆé€‚çš„åå­—ã€‚\n\t\t- å¯¹äº ListViewï¼Œ è‡ªåŠ¨ç”Ÿæˆçš„ context å˜é‡æ˜¯ question_listã€‚ä¸ºäº†è¦†ç›–è¿™ä¸ªè¡Œä¸ºï¼Œæˆ‘ä»¬æä¾› `context_object_name` å±æ€§ï¼Œè¡¨ç¤ºæˆ‘ä»¬æƒ³ä½¿ç”¨ `latest_question_list`ã€‚\n\n### è‡ªåŠ¨åŒ–æµ‹è¯•\n#### ä¸ºä»€ä¹ˆä½ éœ€è¦å†™æµ‹è¯•\n- `æµ‹è¯•å°†èŠ‚çº¦ä½ çš„æ—¶é—´`ï¼šåœ¨å¤æ‚çš„åº”ç”¨ç¨‹åºä¸­ï¼Œç»„ä»¶ä¹‹é—´å¯èƒ½ä¼šæœ‰æ•°åä¸ªå¤æ‚çš„äº¤äº’ã€‚æ”¹å˜å…¶ä¸­æŸä¸€ç»„ä»¶çš„è¡Œä¸ºï¼Œä¹Ÿæœ‰å¯èƒ½ä¼šé€ æˆæ„æƒ³ä¸åˆ°çš„ç»“æœã€‚åˆ¤æ–­ã€Œä»£ç æ˜¯å¦æ­£å¸¸å·¥ä½œã€æ„å‘³ç€ä½ éœ€è¦ç”¨å¤§é‡çš„æ•°æ®æ¥å®Œæ•´çš„æµ‹è¯•å…¨éƒ¨ä»£ç çš„åŠŸèƒ½ï¼Œä»¥ç¡®ä¿ä½ çš„å°ä¿®æ”¹æ²¡æœ‰å¯¹åº”ç”¨æ•´ä½“é€ æˆç ´åï¼Œå¯æƒ³è€ŒçŸ¥å…¶ä¸­çš„å·¥ä½œé‡ã€‚\n- `æµ‹è¯•ä¸ä»…èƒ½å‘ç°é”™è¯¯ä¸”èƒ½é¢„é˜²é”™è¯¯`ï¼šæµ‹è¯•æ˜¯å¼€å‘çš„å¯¹ç«‹é¢ï¼Œè¿™ç§æ€æƒ³æ˜¯ä¸å¯¹çš„ï¼Œå¼€å‘å…¶å®æ›´åƒæ˜¯ä¸€ä¸ªä¸æ–­è¯•é”™çš„è¿‡ç¨‹ã€‚\n\n#### å¼€å§‹å†™ä¸€ä¸ªæµ‹è¯•ç¨‹åº\n- çº¦å®šä¿—ç§°ï¼ŒDjango åº”ç”¨çš„æµ‹è¯•åº”è¯¥å†™åœ¨åº”ç”¨çš„ `tests.py` æ–‡ä»¶é‡Œï¼Œæµ‹è¯•ç³»ç»Ÿä¼šè‡ªåŠ¨çš„åœ¨æ‰€æœ‰ä»¥ tests å¼€å¤´çš„æ–‡ä»¶é‡Œå¯»æ‰¾å¹¶æ‰§è¡Œæµ‹è¯•ä»£ç ã€‚\n- åˆ¶é€ ä¸€ä¸ª BUGï¼šç»§ç»­ä¸Šè¿°æåŠçš„åº”ç”¨ Pollsï¼Œè¦æ±‚ Question æ˜¯åœ¨ä¸€å¤©ä¹‹å†…å‘å¸ƒï¼Œ åˆ™ Question.was_published_recently() æ–¹æ³•å°†ä¼šè¿”å› True ã€‚ç„¶è€Œç°åœ¨è¿™ä¸ªæ–¹æ³•åœ¨ Question çš„ pub_date å­—æ®µæ¯”å½“å‰æ—¶é—´è¿˜æ™š ( æœªæ¥çš„æ—¶é—´ ) æ—¶ä¹Ÿä¼šè¿”å› Trueã€‚\n\n\t```python\n\timport datetime\n\tfrom django.utils import timezone\n\tfrom polls.models import Question\n\t# create a Question instance with pub_date 30 days in the future\n\ttime = timezone.now() + datetime.timedelta(days=30)\n\tfuture_question = Question(pub_date=time)\n\t# was it published recently? ==> True\n\tfuture_question.was_published_recently()\n\t```\n\n- åˆ›é€ ä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼šåˆ›å»ºä¸€ä¸ª `django.test.TestCase` çš„å­ç±»ã€‚\n\n\t```python\n\timport datetime\n\tfrom django.utils import timezone\n\tfrom .models import Question\n\tfrom django.test import TestCase\n\n\tclass QuestionModelTests(TestCase):\n\t    def test_was_published_recently_with_future_question(self):\n\t        \"\"\"\n\t        was_published_recently() returns False \n\t        for questions whose pub_date is in the future.\n\t        \"\"\"\n\t        time = timezone.now() + datetime.timedelta(days=30)\n\t        future_question = Question(pub_date=time)\n\t        self.assertIs(future_question.was_published_recently(), False)\n\t```\n- æœ€åï¼Œæˆ‘ä»¬å¯é€šè¿‡ PyCharm å•ç‹¬è¿è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ç»ˆç«¯å‘½ä»¤è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ã€‚\n\n\t```bash\n\tpython manage.py test polls\n\t```\n\n- å‘ç”Ÿäº†ä»€ä¹ˆå‘¢ï¼Ÿä»¥ä¸‹æ˜¯è‡ªåŠ¨åŒ–æµ‹è¯•çš„è¿è¡Œè¿‡ç¨‹ï¼š\n\t- `python manage.py test polls` å°†ä¼šå¯»æ‰¾ Polls åº”ç”¨é‡Œçš„æµ‹è¯•ä»£ç ï¼Œå®ƒæ‰¾åˆ°äº† django.test.TestCase çš„ä¸€ä¸ªå­ç±»ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªç‰¹æ®Šçš„æ•°æ®åº“ä¾›æµ‹è¯•ä½¿ç”¨ï¼›\n\t- åœ¨ç±»ä¸­å¯»æ‰¾æµ‹è¯•æ–¹æ³• ( ä»¥ test å¼€å¤´çš„ )ï¼Œåœ¨ `test_was_published_recently_with_future_question` æ–¹æ³•ä¸­ï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ª pub_date å€¼ä¸º 30 å¤©åçš„ Question å®ä¾‹ã€‚\n\t- æ¥ç€ä½¿ç”¨ `assertls()` æ–¹æ³•ï¼Œå‘ç° `was_published_recently()` è¿”å›äº† Trueï¼Œè€Œæˆ‘ä»¬æœŸæœ›å®ƒè¿”å› Falseã€‚\n\n## å‚è€ƒèµ„æ–™\n- [1] [å»–é›ªå³°. Python æ•™ç¨‹ä¹‹ virtualenv. 2017. liaoxuefeng.com](https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001432712108300322c61f256c74803b43bfd65c6f8d0d0000)\n- [2] [åœ°çƒçš„å¤–æ˜Ÿäººå›. Python Web æ¡†æ¶å¤§ä¹±æ–—ï¼šå“ªä¸ªæ¡†æ¶é€‚åˆä½ . 2017. zhihu.com](https://zhuanlan.zhihu.com/p/31447222)\n- [3] [çŸ¥ä¹é—®ç­”. Python æœ‰å“ªäº›å¥½çš„ Web æ¡†æ¶. zhihu.com](https://www.zhihu.com/question/20706333)","tags":["django"],"categories":["Project"]},{"title":"æ¡†æ¶ | FastDFS å…¥é—¨åˆ°åº”ç”¨","url":"%2F2019%2F02%2FFastDFS.html","content":"\nä½™åº†è€å¸ˆåœ¨ä»–çš„ Github ä¸Šä»‹ç»å…³äº [FastDFS](https://github.com/happyfish100/fastdfs) å¼€æºé¡¹ç›®çš„æè¿°ï¼šFastDFS æ˜¯ä¸€ä¸ªå¼€æºçš„é«˜æ€§èƒ½åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ ( DFS )ã€‚ å®ƒçš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬æ–‡ä»¶å­˜å‚¨ï¼Œæ–‡ä»¶åŒæ­¥å’Œæ–‡ä»¶è®¿é—®ï¼Œä»¥åŠé«˜å®¹é‡å’Œè´Ÿè½½å¹³è¡¡ã€‚\n\n<!-- More -->\n\n## FastDFS ç®€å•ä»‹ç»\n### FastDFS æ ¸å¿ƒç»„ä»¶\n- `Tracker Server`ï¼šè·Ÿè¸ªæœåŠ¡å™¨ï¼Œè´Ÿè´£ç»´æŒé›†ç¾¤çš„ä¿¡æ¯ï¼›è´Ÿè´£ç®¡ç†æ‰€æœ‰çš„ Storage Server å’Œ Groupï¼Œæ¯ä¸ª Storage åœ¨å¯åŠ¨åä¼šè¿æ¥ Trackerï¼Œå‘ŠçŸ¥è‡ªå·±æ‰€å± group ç­‰ä¿¡æ¯ï¼Œå¹¶ä¿æŒå‘¨æœŸæ€§å¿ƒè·³ã€‚\n- `Storage server`ï¼šå­˜å‚¨æœåŠ¡å™¨ï¼Œä»¥ Group ä¸ºå•ä½è¿›è¡Œç»„ç»‡ï¼Œä»»ä½•ä¸€ä¸ª Storage Server éƒ½åº”è¯¥å±äºæŸä¸ª Groupï¼›ä¸€ä¸ª Group å¯å«å¤šä¸ª Storage serverï¼›åœ¨åŒä¸€ä¸ª Group å†…éƒ¨ï¼Œå„ Storage Server çš„æ•°æ®è‡ªè¡ŒåŒæ­¥ã€å¤‡ä»½ã€‚\n- `Client`ï¼šå®¢æˆ·ç«¯ï¼Œä¸Šä¼ ã€ä¸‹è½½æ•°æ®çš„æœåŠ¡å™¨ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è‡ªå·±çš„é¡¹ç›®æ‰€éƒ¨ç½²åœ¨çš„æœåŠ¡å™¨ã€‚\n\n\t>æ ¸å¿ƒç»„ä»¶çš„ä»‹ç»å‚è€ƒäº† [1]ã€[2] çš„æ¦‚å¿µå™è¿°ã€‚\n\n### FastDFS ç»„ç»‡æ¶æ„\n- ç»“åˆç»„ä»¶çš„åŠŸèƒ½æè¿°å¯çŸ¥ï¼ŒFastDFS çš„ç»„ç»‡æ¶æ„ $^{[2]}$ å¦‚å›¾ 1-1 æ‰€ç¤ºã€‚\n\n\t![fastdfs_1-1](/images/illustration/Project/2019/02/fastdfs_1-1.jpg)\n\t<center>å›¾ 1-1 FastDFS çš„ç»„ç»‡æ¶æ„</center>\n\n### FastDFS æ–‡ä»¶ä¼ è¾“\n- é€šè¿‡æ—¶åºå›¾ï¼Œåˆ†æ FastDFS æ–‡ä»¶ä¸Šä¼ ã€æ–‡ä»¶ä¸‹è½½ç­‰æ“ä½œçš„æµç¨‹ï¼Œå¦‚å›¾ 1-2 æ‰€ç¤ºã€‚\n\n\t![fastdfs_1-2](/images/illustration/Project/2019/02/fastdfs_1-2.jpg)\n\t<center>å›¾ 1-2 FastDFS æ–‡ä»¶ä¸Šä¼ ã€ä¸‹è½½çš„æ—¶åºå›¾</center>\n\t\n- æ–‡ä»¶ä¸Šä¼ æµç¨‹ï¼š\n\t- 1) Client è¯¢é—® Trackerï¼Œå‘é€ä¸Šä¼ æ–‡ä»¶çš„è¯·æ±‚ï¼›\n\t- 2) Tracker è¿”å›å¯è°ƒç”¨çš„ `Storage ID: Port`ï¼›\n\t- 3) Client ç›´æ¥ä¸ç›®æ ‡ Storage é€šè®¯ï¼Œå®Œæˆæ–‡ä»¶ä¸Šä¼ ï¼›\n\t- 4) Storage è¿”å› `æ–‡ä»¶ID`ï¼Œæ–‡ä»¶ID ä¸º `Group ID + FileName`ã€‚\n- æ–‡ä»¶ä¸‹è½½æµç¨‹ï¼š\n\t- 1) Client è¯¢é—® Tracker  ä¸‹è½½æ–‡ä»¶æ‰€åœ¨çš„ Storage ( å‚æ•°ä¸º `æ–‡ä»¶ID` )ï¼›\n\t- 2) Tracker è¿”å›å¯è°ƒç”¨çš„ `Storage ID: Port`ï¼›\n\t- 3) Client ç›´æ¥ä¸ç›®æ ‡ Storage é€šè®¯ï¼Œå®Œæˆæ–‡ä»¶ä¸‹è½½ï¼›\n\t- 4) Storage è¿”å› `æ–‡ä»¶å†…å®¹`ã€‚\n\n## FastDFS å®¢æˆ·ç«¯\n\n### Java å®¢æˆ·ç«¯\n- è°ƒç”¨ä½™åº†è€å¸ˆå°è£…çš„ [FastDFS Client Java SDK](https://github.com/happyfish100/fastdfs-client-java)ï¼Œå³å¯å®ç°å®¢æˆ·ç«¯è®¿é—® FastDFSã€‚\n\n### Python å®¢æˆ·ç«¯\n- `å®‰è£…ç¯å¢ƒ`ï¼šç½‘ä¸Šæ•™ç¨‹ä¸€èˆ¬éƒ½æ˜¯æŒ‡ Python 2.7ï¼Œåœ¨ Python 3.x ç‰ˆæœ¬ä¸‹è·‘ä¸äº†ï¼Œå³ä½¿æ˜¯é€šè¿‡ `pip3 install fdfs-client-py` å®‰è£…ä¹Ÿè·‘ä¸é€šï¼Œè¿™é‡Œå»ºè®®é€šè¿‡æºç æ–¹å¼å®‰è£… $^{[3, 4]}$ã€‚\n\n\t> æºç åœ°å€ï¼š[Hay86. fdfs_client-py. Last Updated on Sept.9, 2018](https://github.com/jefforeilly/fdfs_client-py.git)\n\n\t```bash\n\t# Case.01.é€šè¿‡ pip å®‰è£…\n\tpip install fdfs_client-py-master.zip\n\t'''\n\tCase.02.é€šè¿‡ python å®‰è£…\n\tè§£å‹ fdfs_client-py-master.zipï¼Œè¿›å…¥ç›®å½• /fdfs_client-py-master\n\tpython steup.py install\n\t'''\n\t# å®‰è£…å®Œæˆåï¼Œè‹¥å¯¼å…¥æ—¶æç¤ºç¼ºå°‘ mutagenã€requestsï¼Œè¯·ç»§ç»­å®‰è£…ä¾èµ–åŒ…\n\tpip install mutagen\n\tpip install requests\n\t```\n\n- `å®‰è£…æŒ‡å—`ï¼šå½“ç„¶ï¼Œå®‰è£…æŒ‡å—å’Œ [API Reference](https://github.com/hay86/fdfs_client-py#api-reference) è¯·å‚è€ƒæºç çš„å®˜æ–¹æ–‡æ¡£ã€‚\n\n- `ç”Ÿæˆé…ç½®`ï¼šåœ¨æµ‹è¯•ä»£ç å‰å¤•ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åˆ›å»ºä¸€é…ç½®æ–‡ä»¶ `client.conf`ã€‚æ³¨æ„é…ç½®æ–‡ä»¶åç§°å°±æ˜¯ **client.conf**ï¼Œæ›´æ”¹ä¸ºå…¶ä»–åç§°å¥½åƒè¡Œä¸é€šã€‚\n\n\t```python\n\t# connect timeout in seconds\n\t# default value is 30s\n\tconnect_timeout=30\n\n\t# network timeout in seconds\n\t# default value is 30s\n\tnetwork_timeout=30\n\n\t# the base path to store log files\n\tbase_path=log\n\n\t# tracker_server can ocur more than once, and tracker_server format is\n\t# \"host:port\", host can be hostname or ip address\n\ttracker_server=192.168.200.221:22122\n\n\t# standard log level as syslog, case insensitive, value list:\n\t### emerge for emergency\n\t### alert\n\t### crit for critical\n\t### error\n\t### warn for warning\n\t### notice\n\t### info\n\t### debug\n\tlog_level=info\n\n\t# if use connection pool\n\t# default value is false\n\t# since V4.05\n\tuse_connection_pool = false\n\n\t# connections whose the idle time exceeds this time will be closed\n\t# unit: second\n\t# default value is 3600\n\t# since V4.05\n\tconnection_pool_max_idle_time = 3600\n\n\t# if load FastDFS parameters from tracker server\n\t# since V4.05\n\t# default value is false\n\tload_fdfs_parameters_from_tracker=false\n\n\t# if use storage ID instead of IP address\n\t# same as tracker.conf\n\t# valid only when load_fdfs_parameters_from_tracker is false\n\t# default value is false\n\t# since V4.05\n\tuse_storage_id = false\n\n\t# specify storage ids filename, can use relative or absolute path\n\t# same as tracker.conf\n\t# valid only when load_fdfs_parameters_from_tracker is false\n\t# since V4.05\n\tstorage_ids_filename = storage_ids.conf\n\n\n\t# HTTP settings\n\thttp.tracker_server_port=80\n\n\t# use \"#include\" directive to include HTTP other settings\n\t## include http.conf\n\t```\n\n- `æµ‹è¯•ä»£ç `ï¼šè¿™é‡Œå‡è®¾ä½ å·²æˆåŠŸå®‰è£…äº† `fdfs-client-py`ï¼Œé‚£ä¹ˆä»¥ä¸€æ®µæµ‹è¯•ä»£ç æ­£å¼å¼€å§‹ä½¿ç”¨ã€‚\n\n\t```python\n\t# Step.01. import fdfs_client.client module\n\t# Step.02. instantiate class Fdfs_client\n\t# Step.03. call memeber functions\n\n\tfrom fdfs_client.client import *\n\t# client.conf é…ç½®æ–‡ä»¶æ”¾åœ¨ .py æ–‡ä»¶åŒç›®å½•ä¸‹\n\tclient = Fdfs_client('client.conf')\n\n\t# ä¸Šä¼ æ–‡ä»¶\n\tret = client.upload_by_filename('upload.txt')\n\tprint(ret)\n\t## ç­‰å¾… 3 ç§’ï¼Œå¦åˆ™ä¸‹è½½æ—¶ä¼šæŠ¥é”™æ–‡ä»¶ä¸å­˜åœ¨\n\ttime.sleep(3)  \n\t## æ–°ç‰ˆæœ¬æ–‡ä»¶å­˜æ”¾ Remote file_id æ ¼å¼å˜åŒ–\n\tfile_id = ret['Remote file_id'].replace('\\\\', '/')\n\t\n\t# ä¸‹è½½æ–‡ä»¶\n\tret_download = client.download_to_file('download.txt', file_id)\n\tprint(ret_download)\n\t```\n\n- `è¯´æ˜æ–‡æ¡£`ï¼šå…³äº `Fdfs_client` ç±»çš„æˆå‘˜å‡½æ•°è¯¦ç»†è¯´æ˜è¯·å‚è€ƒ [API Reference](https://github.com/hay86/fdfs_client-py#api-reference)ï¼š\n\t- upload_by_filename(self, filename, meta_dict = None)\n\t- upload_by_buffer(self, filebuffer, file_ext_name = None, meta_dict = None)\n\t- upload_slave_by_filename(self, filename, remote_file_id, prefix_name, meta_dict = None)\n\t- upload_slave_by_buffer(self, filebuffer, remote_file_id, meta_dict = None, file_ext_name = None)\n\t- upload_appender_by_filename(self, local_filename, meta_dict = None)\n\t- upload_appender_by_buffer(self, filebuffer, file_ext_name = None, meta_dict = None)\n\t- delete_file(self, remote_file_id)\n\t- download_to_file(self, local_filename, remote_file_id, offset = 0, down_bytes = 0)\n\t- download_to_buffer(self, remote_file_id, offset = 0, down_bytes = 0)\n\t- list_one_group(self, group_name)\n\t- list_all_groups(self)\n\t- list_servers(self, group_name, storage_ip = None)\n\t- get_meta_data(self, remote_file_id)\n\t- append_by_filename(self, local_filename, remote_fileid)\n\t- append_by_buffer(self, file_buffer, remote_fileid)\n\t- truncate_file(self, truncated_filesize, appender_fileid)\n\t- modify_by_filename(self, filename, appender_fileid, offset = 0)\n\t- modify_by_buffer(self, filebuffer, appender_fileid, offset = 0)\n\n\n## å‚è€ƒèµ„æ–™\n- [1] [Mafly. åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ FastDFS ç®€å•äº†è§£. 2016. cnblogs.com](https://www.cnblogs.com/mafly/p/fastdfs.html)\n- [2] [shenxm. FastDFS çš„ä»‹ç». 2018. cnblogs.com](https://www.cnblogs.com/shenxm/p/8459292.html)\n- [3] [å°è‰. FastDFS çš„ Python å®¢æˆ·ç«¯. 2017. zifuchuan.com](http://zifuchuan.com/me/index.php/python/725-1.html)\n- [4] [ZbyFt. Django-FDFS é…ç½®. 2018. csdn.net](https://blog.csdn.net/weixin_42149982/article/details/82391218)\n","tags":["DFS"],"categories":["Project"]},{"title":"æå®¢ | æ ‘è“æ´¾èƒ½åšä»€ä¹ˆï¼Ÿ","url":"%2F2019%2F01%2FRaspbian-Guideline.html","content":"\næ ‘è“æ´¾èƒ½åšä»€ä¹ˆï¼Ÿå…³äºæ­¤å‘½é¢˜ï¼Œæœ€ç›´è§‚æ„Ÿå—å°±æ˜¯çœ‹çœ‹æ ‘è“æ´¾å®éªŒå®¤æ•´ç†çš„ä¸€äº›[æ¡ˆä¾‹](http://shumeipai.nxez.com/what-raspi-used-for)ï¼Œç›¸ä¿¡ä½ å¿ƒç›®ä¸­ä¼šæœ‰ç­”æ¡ˆçš„ã€‚ä¾‹å¦‚ï¼Œæ‰“é€ ä¸€ä¸ªå®¶åº­åª’ä½“ä¸­å¿ƒ ( KODI )ã€é…ç½®æ— çº¿è·¯ç”±å™¨ã€æ­å»º BT ä¸‹è½½æœåŠ¡å™¨ã€æ­å»ºä»£ç æ‰˜ç®¡æœåŠ¡å™¨ ( SVNã€GIt )ã€æ­å»ºç½‘ç«™æœåŠ¡å™¨ã€æ­å»º Shadowsocksã€ç”¨ HomeKit + Siri å£°æ§å®¶é‡Œç”µå™¨ç­‰ï¼Œå³å¯æŠŠæ ‘è“æ´¾æƒ³è±¡æˆåµŒå…¥å¼ã€å¾®å°å‹çš„æœåŠ¡å™¨ï¼Œè¿™ä¸€è¿‡ç¨‹å°±å¥½æ¯”æ“ä½œç³»ç»Ÿ ( Linux ) èµ‹äºˆç¡¬ä»¶ç”Ÿå‘½ï¼Œç¼–ç¨‹ ( Pythonã€Java )ã€ç¨‹åºçŒå…¥çµé­‚ï¼Œå€ŸåŠ©æ ‘è“æ´¾ä½èƒ½è€—ã€ç§»åŠ¨ä¾¿æºæ€§ã€GPIO ç­‰ç‰¹æ€§ï¼Œå¾ˆå¤šæƒ³æ³•ä¸æ˜¯ä¸å¯èƒ½ï¼Œç›¸ä¿¡æ ‘è“æ´¾ä¼šç»™ä½ åˆ›é€ æ›´å¤šçš„æƒŠå–œï¼\n\n<!-- more -->\n\néœ€è¦è¯´æ˜çš„æ˜¯ï¼Œæœ¬æ–‡å°†å›´ç»•ä¸¤å¤§æ–¹é¢å»æ¢ç´¢æ ‘è“æ´¾ï¼Œå³åŸºç¡€åº”ç”¨å’Œè§£å†³æ–¹æ¡ˆä¸¤å¤§éƒ¨åˆ†ï¼Œä¹Ÿå¯ç†è§£ä¸ºåŸºç¡€åˆ°è¿›é˜¶çš„è¿‡ç¨‹ã€‚\n\n- [åŸºç¡€åº”ç”¨](#åŸºç¡€åº”ç”¨)ï¼šä»‹ç»ä½¿ç”¨æ ‘è“æ´¾å¿…é¡»çš„åº”ç”¨æˆ–ç»„ä»¶ï¼Œè¿™äº›åº”ç”¨å’Œç»„ä»¶ä¸»è¦ä½œç”¨æ˜¯ï¼šä¸€æ–¹é¢æ˜¯å¢å¼ºç³»ç»ŸåŠŸèƒ½ï¼Œå¦ä¸€æ–¹é¢åˆ™æ˜¯ä¸ºè§£å†³æ–¹æ¡ˆå»ºç«‹è½¯ä»¶åŸºç¡€ã€‚\n- [è§£å†³æ–¹æ¡ˆ](#è§£å†³æ–¹æ¡ˆ)ï¼šè¯¸å¦‚å¼•è¨€ä¸­è°ˆåŠçš„ï¼Œæ­å»ºæœåŠ¡å™¨ã€æ™ºèƒ½å®¶å±…æ§åˆ¶ä¸­å¿ƒç­‰ï¼Œå³é’ˆå¯¹æŸéƒ¨åˆ†éœ€æ±‚é›†æˆä¸ºæœåŠ¡ï¼Œå­¦æœ¯è¯´æ³•ç§°å…¶ä¸ºæŸæŸå³æœåŠ¡ ( XaaS )ã€‚\n\n## ç‰ˆæœ¬ä¿¡æ¯\n- æ ‘è“æ´¾å‹å·ï¼šæ ‘è“æ´¾ 3B+\n- æ ‘è“æ´¾ç³»ç»Ÿï¼š[Raspbian V3.0.0](https://www.raspberrypi.org/downloads/noobs/)\n\n## æ›´æ–°è¿›åº¦\n\n- 2019.01.21ï¼šå®Œæˆåˆç¨¿ï¼Œå½¢æˆç¬”è®°çš„æ•´ä½“æ¡†æ¶ï¼›\n- 2019.02.24ï¼šæ›´æ–°ã€ŒJupyter æœåŠ¡å™¨ã€ ç« èŠ‚å†…å®¹ï¼›\n\n## æ•™å­¦èµ„æº\n\n- ğŸš© | ç¤¾åŒº | [æ ‘è“æ´¾å®éªŒå®¤](http://shumeipai.nxez.com/) | æ•™ç¨‹ã€åˆ›æ„ã€ä½œå“ã€èµ„è®¯ã€ç¡¬ä»¶äº”ä½ä¸€ä½“çš„çˆ±å¥½è€…äº¤æµç¤¾åŒºã€‚\n- ğŸš© | ç¤¾åŒº | [è¶£æ— å°½](https://www.quwj.com/) | æ ‘è“æ´¾é«˜ç«¯ã€åˆ›æ„çš„ç©æ³•æ¢ç´¢åšå®¢ç«™ã€‚\n- ğŸ“„ | èµ„æ–™ | [äºšåšæ™ºèƒ½å®˜æ–¹èµ„æ–™. æ ‘è“æ´¾3ä»£Bå‹å¼€å‘æ¿](https://www.yahboom.com/study/raspberry) | [èµ„æ–™æ‰“åŒ…ä¸‹è½½ ( bwnr )](https://pan.baidu.com/s/1OUa0KszF7sxim5FcUdqccQ)\n\n## åŸºç¡€åº”ç”¨\n\n### TeamViewer è¿œç¨‹æ§åˆ¶\n\n#### å¼•è¨€\n\nè®¿é—®æ ‘è“æ´¾æœ‰å¤šç§æ–¹å¼ï¼Œå¦‚ç›´è¿æ˜¾ç¤ºå™¨äº¤äº’ä½¿ç”¨ã€é€šè¿‡ SSH è¿œç¨‹ç™»å½•è®¿é—®ã€é€šè¿‡è½¯ä»¶å®ç°æ§åˆ¶ä½¿ç”¨ç­‰ã€‚å…¶ä¸­ï¼ŒTeamViewer æ˜¯é€šè¿‡è½¯ä»¶æ–¹å¼å®ç°å¯¹æ ‘è“æ´¾çš„è¿œç¨‹æ§åˆ¶ï¼Œå…¶æ‹¥æœ‰æœ‰ä»¥ä¸‹å‡ ç§ç‰¹æ€§ï¼š\n\n- å¯ç©¿é€å±€åŸŸç½‘ï¼Œæ”¯æŒå¤–ç½‘è¿æ¥ï¼›\n- å®æ—¶ GUI ç•Œé¢æ˜¾ç¤ºï¼›\n- æ”¯æŒæ–‡ä»¶åŒå‘ä¼ è¾“ã€‚\n\n#### é…ç½®\n\nåœ¨æœ¬èŠ‚ï¼Œåˆ™å•ç‹¬ä»‹ç» TeamViewer çš„é…ç½®ä¸ä½¿ç”¨ï¼Œå½“ç„¶æ•™ç¨‹æ˜¯å‚è€ƒæ–‡ç«  [[5]](http://www.52pi.net/archives/549)ã€[[6]](https://blog.csdn.net/realDonaldTrump/article/details/79694196) æ•´ç†è€Œå¾—ã€‚\n\n##### åˆ é™¤ TeamViewer\n\nåˆ é™¤ TeamViewerï¼Œç”¨äºå®‰è£…å‡ºé”™æ—¶ï¼Œæ¸…ç†æ®‹ç•™è½¯ä»¶åŒ…ï¼Œæ–¹ä¾¿ä»å¤´å†æ¥ã€‚ğŸ˜‚\n\n> æ­¤æ­¥éª¤æ˜¯éå¿…è¦æ‰§è¡Œçš„æ­¥éª¤ã€‚\n\n```bash\nsudo apt-get remove teamviewer-host\n# æ¸…é™¤æ‰€æœ‰å·²åˆ é™¤åŒ…çš„æ®‹ä½™é…ç½®æ–‡ä»¶\n# è‹¥æŠ¥é”™è¯¯ dpkg: â€“purge needs at least one package name argument\n# è¯æ˜ä½ çš„ç³»ç»Ÿä¸­æ²¡æœ‰æ®‹ç•™é…ç½®æ–‡ä»¶äº†\ndpkg -l |grep ^rc|awk '{print $2}' |sudo xargs dpkg -P\n```\n\n##### å®‰è£… TeamViewer\n\nStep.01ï¼šè¿›å…¥ [å®˜æ–¹ä¸‹è½½](https://www.teamviewer.com/en-us/download/linux/)ï¼Œåœ¨ã€ŒTeamViewer Host for Raspberry Piã€æ¨¡å—ï¼Œå¤åˆ¶å®‰è£…åŒ…åœ°å€ï¼Œæ¥ç€æ­£å¼å¼€å§‹å®‰è£…ï¼š\n\n```bash\n# é€šè¿‡ wget åœ¨çº¿ä¸‹è½½å®‰è£…åŒ…\nwget https://download.teamviewer.com/download/linux/teamviewer-host_armhf.deb\n# å®‰è£…æœ¬åœ°è½¯ä»¶åŒ…ï¼Œä½†ä¸è§£å†³ä¾èµ–å…³ç³»\nsudo dpkg -i teamviewer-host_armhf.deb\n# ä¿®å¤æŸåçš„è½¯ä»¶åŒ…ï¼Œå°è¯•å¸è½½å‡ºé”™çš„åŒ…ï¼Œé‡æ–°å®‰è£…æ­£ç¡®ç‰ˆæœ¬çš„\nsudo apt-get -f install\n\t\t\n# è‹¥æç¤ºæœªæ‰¾åˆ°ä¾èµ–åŒ…ï¼Œå¯å®‰è£… Gdebiï¼Œé€šè¿‡ Gdebi å®‰è£…è§£å†³ä¾èµ–é—®é¢˜\n# ä½¿ç”¨ Gdebi å¯ä»£æ›¿è½¯ä»¶ä¸­å¿ƒæ¥ç®¡ deb è½¯ä»¶åŒ…çš„å®‰è£…\n# å®ƒä¼šæ ¹æ®è½¯ä»¶ä»“åº“è¿™ä¸€å®ç”¨çš„ç‰¹æ€§æ¥è§£ç®—ä¾èµ–å…³ç³»\nsudo apt-get install gdebi\nsudo gdebi teamviewer-host_armhf.deb\n```\n\n##### é…ç½® TeamViewer\n\nStep.02ï¼šå› ä¸ºæˆ‘ä»¬çƒ§å†™çš„ç³»ç»Ÿæœ‰å›¾å½¢ç•Œé¢ï¼Œé»˜è®¤ TeamViewer è¦åœ¨å›¾å½¢ç•Œé¢è¿›è¡Œé…ç½®ï¼Œå¦‚è¿œç¨‹æ§åˆ¶çš„è´¦å·ã€å¯†ç è®¾ç½®ç­‰ã€‚è‹¥æœ‰æ¡ä»¶æ”¯æŒï¼Œå¯ç§»æ­¥å›¾å½¢åŒ–ç•Œé¢æ“ä½œï¼Œå³å¯å¿½ç•¥æ­¤æ­¥éª¤ã€‚\n\n- æ²¡æœ‰å›¾å½¢ç•Œé¢ï¼Œåˆ™æˆ‘ä»¬éœ€è¦åœ¨å‘½ä»¤è¡Œä¸‹é…ç½®ã€‚ä½¿ç”¨ `raspi-config` é…ç½® Raspbian ä»…å‘½ä»¤è¡Œæ¨¡å¼è¿è¡Œã€‚\n\t\t\n\t```bash\n\tsudo raspi-config\n\t\t\n\t# å‘½ä»¤æ¨¡å¼çš„æ“ä½œç•Œé¢\n\t# ä¾æ¬¡é€‰æ‹©æ“ä½œ ( åŒç†ï¼Œè¿˜åŸæ¡Œé¢æ¨¡å¼ä¹Ÿæ˜¯ç±»ä¼¼æ“ä½œ )\n\t# Boot Options -> Desktop / CLI -> Console AutoLogin ->\n\t# Finished\n\t```\n\t\t\n- é…ç½®ä¿å­˜åï¼Œæ ‘è“æ´¾ä¼šè‡ªåŠ¨é‡å¯ï¼Œé‚£ä¹ˆé‡æ–°è¿œç¨‹ç™»å½•ç»§ç»­æ“ä½œã€‚\n\n\t```bash\n\tsudo teamviewer setup\n\t# 1. Accept License Agreement? (y/n) y\n\t# 2. è¾“å…¥ç”¨æˆ·åå’Œå¯†ç çš„æ­¥éª¤æ— æ³•è·³è¿‡ï¼Œæ²¡æœ‰è´¦å·è¯·ç§»æ­¥ã€Œå®˜ç½‘å®Œæˆæ³¨å†Œã€\n\t# \t æ³¨å†Œåœ°å€ï¼šhttps://login.teamviewer.com/LogOn\n\t# \t Please enter your e-mail / username: kofe\n\t# \t Please enter your password: ******\n\t# 3. ç„¶å TeamViewer ä¼šå‘ä¸€ä»½è®¾å¤‡æˆæƒé‚®ä»¶ï¼Œè¯·ç§»æ­¥ã€Œé‚®ç®±å¤„ç†ã€\n\t# 4. é‡æ–°è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ç™»å½•ï¼Œæç¤ºåˆ†ç»„ä¿¡æ¯ï¼Œç‚¹å‡» yï¼š\n\t# \t Adding this machine as 'raspberrypi' to ... \n\t#\t Do you want to continue? (y/n) [n]  y\n\t# 5. æç¤º \"Successfully....\" å³è¡¨ç¤ºå·²ç»å®Œæˆé…ç½®å·¥ä½œäº†\n\t```\n\t\t\t\n- å®Œæˆåˆå§‹åŒ–é…ç½®åï¼Œåªéœ€è®¾ç½®è¿œç¨‹æ§åˆ¶å¯†ç å³å¯ä½¿ç”¨äº†ã€‚\n\n\t```bash\n\t# æŸ¥çœ‹æœ¬æœº ID\n\tteamviewer info\n\t# è®¾ç½®æœ¬æœºå¯†ç \n\tsudo teamviewer passwd [ä½ çš„å¯†ç ]\n\t```\n\t\t\t\n- å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æŠŠ Raspbian è¿˜åŸä¸ºå›¾å½¢åŒ–æ“ä½œç•Œé¢ã€‚\n\n\t```bash\n\tsudo raspi-config\n\t# Boot Options -> Desktop / CLI -> Desktop AutoLogin ->\n\t# Finished\n\t```\n\t\t\t\n#### ä½¿ç”¨\n\t\t\t\n- ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸»è¦æ˜¯é€šè¿‡å‘½ä»¤æ¨¡å¼è®¿é—®æ ‘è“æ´¾ã€é…ç½® TeamViewerã€‚å½“ç„¶ä¹Ÿå¯ä»¥é€šè¿‡å›¾å½¢ç•Œé¢å®Œæˆé…ç½®æ“ä½œï¼ŒæŒ‰ç…§æ–‡å­—æç¤ºæ“ä½œå³å¯ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†é˜è¿°äº†ã€‚é™„ä¸Š TeamViewer å¸¸ç”¨çš„å‘½ä»¤ï¼š\n\n\t```bash\n\t# æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯\n\tteamviewer help\n\t# æŸ¥çœ‹æœ¬æœº ID\n\tteamviewer info\n\t# è®¾ç½®æœ¬æœºå¯†ç \n\tsudo teamviewer passwd [ä½ çš„å¯†ç ]\n\t# å¯åŠ¨ TeamViewer æœåŠ¡\n\tsudo teamviewer --daemon start\n\t# å¼€å¯ TeamViewer æœåŠ¡éšæœºå¯åŠ¨\n\tsudo teamviewer --daemon enable\n\t```\n\n- æœ€åï¼Œå…³äºå›¾å½¢åŒ–ç•Œé¢æ˜¾ç¤ºæ–¹é¢ï¼Œå¯èƒ½è¿˜æœ‰åˆ†è¾¨ç‡è°ƒæ•´ä¸å­˜åœ¨é»‘è¾¹çš„é—®é¢˜ï¼Œè¯¦ç»†å¯å‚è€ƒä»¥ä¸‹æ–‡ç« è§£å†³é—®é¢˜ï¼š\n\t- [æ ‘è“æ´¾. å®˜æ–¹ä½¿ç”¨æ–‡æ¡£ä¹‹ CONFIG-TXT. raspberrypi.org](https://www.raspberrypi.org/documentation/configuration/config-txt/README.md)\n\t- [FishChina. æ ‘è“æ´¾æœ‰é»‘è¾¹ä¸èƒ½å…¨å±è§£å†³æ–¹æ³•. 2017. csdn.net](https://blog.csdn.net/fishchina/article/details/54564395)\n\t\t\n### MySQL æ•°æ®åº“\n\n#### å¼•è¨€\n\næ•°æ®åº“çš„ç”¨é€”æ¯‹åº¸ç½®ç–‘ï¼Œè‹¥åœ¨æ ‘è“æ´¾ä¸Šè·‘è„šæœ¬ã€ç¨‹åºã€ç½‘ç«™ç³»ç»Ÿç­‰ï¼Œå°‘ä¸äº†æ•°æ®çš„äº¤äº’ï¼Œä¸ºæ­¤æˆ‘ä»¬éœ€è¦ä¸€æ¬¾æ•°æ®åº“ä½œä¸ºæ•°æ®å‚¨å­˜çš„åª’ä»‹ã€‚MySQLï¼Œæ˜¯ä¸€æ¬¾å¼€æºå…è´¹çš„æ•°æ®åº“ï¼Œä¹Ÿæ˜¯å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒå¤šç§å­˜å‚¨å¼•æ“ $^{[1, 2]}$ï¼Œå¯¹äºä¸ªäººå¼€å‘å’Œæ—¥å¸¸ä½¿ç”¨è¶³çŸ£ã€‚\n\nä»¥ä¸‹å°†ä»‹ç»ï¼Œåœ¨æ ‘è“æ´¾ Raspbian ä¸Šå®‰è£… Mysql  æœåŠ¡ï¼Œå¹¶å¼€å¯è¿œç¨‹è®¿é—®ã€‚\n\n#### å®‰è£… MySQL\n\n- åˆ é™¤ MySQLï¼šå®‰è£…å‰ï¼Œç¡®ä¿ç³»ç»Ÿæ²¡æœ‰æ—§ç‰ˆçš„ MySQLã€‚\n\n\t```bash\n\tsudo apt-get autoremove --purge mysql-server\n\tsudo apt-get remove mysql-common\n\t\n\t# æ¸…é™¤æ‰€æœ‰å·²åˆ é™¤åŒ…çš„æ®‹é¦€é…ç½®æ–‡ä»¶\n\t# è‹¥æŠ¥é”™è¯¯ dpkg: â€“purge needs at least one package name argument\n\t# è¯æ˜ä½ çš„ç³»ç»Ÿä¸­æ²¡æœ‰æ®‹ç•™é…ç½®æ–‡ä»¶äº†\n\tdpkg -l |grep ^rc|awk '{print $2}' |sudo xargs dpkg -P\n\t```\n\t\n- å®‰è£… MySQLï¼š\n\n\t```bash\n\tsudo apt-get install mysql-server\n\tsudo apt-get install mysql-client\n\tsudo apt-get install python-mysqldb # å®‰è£… Python æ¥å£çš„ MySQL\n\t```\n\t\n#### é…ç½® MySQL\n\t\n- å‘½ä»¤è¡Œå®‰è£…ï¼Œé»˜è®¤æ˜¯ä¸ç”¨é…ç½®ç”¨æˆ·å’Œå¯†ç ä¿¡æ¯ï¼Œæ•…æˆ‘ä»¬é¦–å…ˆé…ç½®ç™»å½•ä¿¡æ¯ $^{[3]}$ï¼š\n\t\t\n\t```sql\n\tsudo mysql -u root # æ— å¯†ç ç™»å½• MySQL\n\tuse mysql;\n\t\t\n\t# åŠ å¯†æ–¹å¼é€‰æ‹©ï¼Œç³»ç»Ÿé»˜è®¤æ˜¯ 'unix_socket'ï¼Œè¿™é‡Œæš‚ä¸ºç©º\n\tUPDATE user SET plugin='' WHERE user='root';\n\t\t\n\tUPDATE user SET password=PASSWORD('ä½ è‡ªå·±çš„å¯†ç ') WHERE user='root';\n\n\tflush privileges; # æ¸…ç©ºç¼“å­˜\n\texit;\n\t```\n- æ“ä½œæ•°æ®åº“ ( é…ç½®å®Œä¿¡æ¯ï¼Œé‡å¯ MySQL ä»¥è®©è®¾ç½®ç”Ÿæ•ˆ )\n\n\t```bash\n\t# sudo /etc/init.d/mysql status/start/stop/restart\n\tsudo /etc/init.d/mysql restart\n\t\t\n\t# å½“ç„¶å¯é€šè¿‡ systemctl å‘½ä»¤ç®¡ç†ç³»ç»ŸæœåŠ¡\n\t# sudo systemctl restart mysql # é‡å¯ç³»ç»ŸæœåŠ¡\n\t# sudo systemctl status mysql # æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€\n\t```\n\n#### å¼€å¯è¿œç¨‹è®¿é—®\n\nä»¥ä¸Šé…ç½®å·¥ä½œå®Œæˆåï¼Œå³å¯æœ¬åœ°ä½¿ç”¨ MySQL æ•°æ®åº“äº†ã€‚è‹¥éœ€è¦å¼€å¯è¿œç¨‹è®¿é—®æœåŠ¡ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®ç°ä»¥ä¸‹å·¥ä½œï¼šé˜²ç«å¢™ä¸è®¿é—®è§„åˆ™é…ç½®å’Œè¿œç¨‹ç™»å½•çš„è´¦å·é…ç½®ã€‚\n\n##### å¤–ç½‘è®¿é—®\nè‹¥åœ¨æ ‘è“æ´¾ä¸‹æµ‹è¯•ï¼Œè®©æ•°æ®åº“å…è®¸å¤–ç½‘è®¿é—®ï¼Œæ³¨æ„å¾—å…³é—­é˜²ç«å¢™æˆ–æ·»åŠ è§„åˆ™å…è®¸æŸç«¯å£çš„è®¿é—®æƒé™ $^{[4]}$ã€‚\n\n- Case.01ï¼šæœ¬æœºå’ŒæœåŠ¡å™¨ç«¯ ( æ ‘è“æ´¾ ) äº’ç›¸ Ping å¯¹æ–¹ IPï¼Œä»¥æ£€éªŒç½‘ç»œæ˜¯å¦ç•…é€šã€æ˜¯å¦æ‹’ç»è®¿é—®ã€‚\n- Case.02ï¼šè‹¥ç½‘ç»œç•…é€šã€æ²¡æœ‰æ‹’ç»è®¿é—®ï¼Œè¿˜è¦ç•™æ„å¯¹åº”ç«¯å£æ˜¯å¦æœ‰æƒé™è®¿é—®ï¼Œé€šè¿‡ nc -vz IP ç«¯å£æ£€éªŒï¼Œè¿”å› Succeeded å³æˆåŠŸã€‚\n\n\t```bash\n\t# MacOSï¼šnc -vz IPåœ°å€ ç«¯å£å·\n\tnc -vz 192.168.x.x 3306\n\t# Windowsï¼štelnet IPåœ°å€ ç«¯å£å·\n\ttelnet 192.168.x.x 22 # SSH è¿œç¨‹è®¿é—®\n\ttelnet 192.168.x.x 3306 # MySQL æ•°æ®åº“\n\t```\n\n##### é˜²ç«å¢™ä¸è®¿é—®è§„åˆ™\n\t\t\né’ˆå¯¹ä¸Šè¿°ä¸¤ç§æƒ…å†µï¼Œåˆ™å¯é€šè¿‡å…³é—­é˜²ç«å¢™æˆ–è€…æ·»åŠ ç«¯å£çš„è®¿é—®è§„åˆ™ï¼Œä»¥æˆæƒ IP å’Œç›¸å…³ç«¯å£æ¥å—è®¿é—®ã€‚\n\n- é…ç½®é˜²ç«å¢™ï¼š\n\n\t```bash\n\t# å®‰è£… ufw ( å·²å®‰è£…å¿½ç•¥ )\n\tsudo apt-get install ufw\n\t# è®¾ç½®é»˜è®¤è§„åˆ™ä¸º allowï¼Œé™¤æŒ‡æ˜æ‰“å¼€çš„ç«¯å£ï¼Œæ‰€æœ‰ç«¯å£é»˜è®¤å…³é—­\n\tufw default deny\n\t# å¯ç”¨ /å…³é—­ ufw\n\tufw enable/disable\n\t# æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€\n\tufw status\n\t```\n\t\t\t\n- é…ç½®è®¿é—®è§„åˆ™ï¼š\n\n\t```bash\n\t# ä¾‹å¦‚ï¼šæ‰“å¼€ SSH è¿œç¨‹ç™»å½•\n\tsudo ufw allow 22\n\t# åˆ é™¤æ·»åŠ è¿‡çš„è§„åˆ™\n\tsudo ufw delete allow 22\n\t```\n\n##### è¿œç¨‹ç™»å½•çš„è´¦å·\n\næœ€åï¼Œæˆ‘ä»¬è¿˜éœ€è¦è®¾ç½®å¯è¿œç¨‹ç™»å½•çš„è´¦å·ã€‚\n\n- ä¿®æ”¹ MySQL é…ç½®ï¼š\n\n\t```bash\n\tsudo vim /etc/mysql/mariadb.conf.d/50-server.cnf\n\t# æ‰¾åˆ° bind-address è¿™è¡Œæ³¨é‡Šæ‰ï¼Œç„¶åé‡å¯\n\tsudo systemctl restart mysql\n\t```\n\t\t\n- ä¿®æ”¹ MySQL è´¦å·ä¿¡æ¯ï¼šåœ¨é…ç½® `ç™»å½•ä¿¡æ¯` æ—¶å·²æˆæƒï¼Œæ­¤é¡¹å¯æ—¥åç”¨ä½œè¿œç¨‹ç™»å½•è´¦å·çš„é…ç½®ã€‚\n\t\n\t```sql\n\tmysql -u root -p\n\tuse mysql;\n\tGRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'rootè´¦å·å¯†ç ' WITH GRANT OPTION;\n\tflush privileges;\n\t```\n\n### Jupyter æœåŠ¡å™¨\n#### å¼•è¨€\nJupyter Notebooks æ˜¯ä»€ä¹ˆï¼Ÿç›¸ä¿¡åšæ•°æ®ç§‘å­¦é¡¹ç›®çš„åŒå­¦éƒ½æ¸…æ¥šï¼ŒJupyter å…¶æä¾›äº†ä¸€ä¸ªé›†æˆç¯å¢ƒï¼Œæ— éœ€æ›´å¤šé™„åŠ æ“ä½œå°±å¯åœ¨å…¶ä¸­ç¼–å†™ä½ çš„ä»£ç ã€è¿è¡Œä»£ç ã€æŸ¥çœ‹è¾“å‡ºã€å¯è§†åŒ–æ•°æ®å¹¶æŸ¥çœ‹ç»“æœã€‚\n\nä½œä¸ºä¸€æ¬¾å¯æ‰§è¡Œç«¯åˆ°ç«¯çš„æ•°æ®ç§‘å­¦å·¥ä½œæµç¨‹çš„ä¾¿æ·å·¥å…·ï¼Œå®ƒä¸ä»…æ”¯æŒæ•°æ®æ¸…ç†ã€ç»Ÿè®¡å»ºæ¨¡ã€æ„å»ºå’Œè®­ç»ƒæœºå™¨å­¦ä¹ æ¨¡å‹ã€å¯è§†åŒ–æ•°æ®ç­‰æ•°æ®ç§‘å­¦å·¥ä½œï¼Œè€Œä¸”å…¶å¼ºå¤§çš„äº¤äº’æ€§ï¼Œä½¿å¾—å®ƒå¯ä»¥æ›´å…·æ•™å­¦æ€§çš„æ–¹å¼å±•ç¤ºä»£ç ã€‚\n\n\n#### å®‰è£… Jupyter Notebook\n\n- åœ¨æ­¤ä¹‹å‰ï¼Œéœ€è¦ç¡®ä¿ä½ å®‰è£…äº† `Python` ä»¥åŠ `pip` æ¨¡å—ã€‚\n\n\t```bash\n\t# æ ‘è“æ´¾ Raspbian åŸç”Ÿå†…ç½®äº† Python 2.7\n\t# æˆ‘ä»¬éœ€è¦åŸºäº Python 3.x åŸºç¡€ä¸Šè¿ä½œ Jupyterï¼Œåˆ™éœ€è¦å…ˆå®‰è£… Python 3.x\n\tsudo apt-get install python3.5 python3-pip\n\t```\n\n- å®‰è£… Jupyter Notebookï¼š\n\n\t> è‹¥ä½ å·²ç»æœ‰ä½¿ç”¨ virtualenv çš„ç»éªŒï¼Œå¼ºçƒˆå»ºè®®åœ¨è™šæ‹Ÿç¯å¢ƒä¸­å®‰è£…æ‰€éœ€ç‰ˆæœ¬çš„ jupyter notebookã€‚\n\n\t```bash\n\t# åŸºäº Python 2.7\n\tsudo pip install --upgrade jupyter\n\t# åŸºäº Python 3.x\n\tsudo pip3 install --upgrade jupyter\n\t\n\t# æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼ŒæˆåŠŸè¿”å›ç‰ˆæœ¬å·\n\tjupyter --version\n\t```\n\n#### é…ç½® Jupyter Notebook\n\né…ç½® Jupyter Notebookï¼Œå‚è€ƒäº†æ–‡æ¡£ [[7]](https://www.jianshu.com/p/639c8d939643)ï¼š\n\n- ç”Ÿæˆé…ç½®æ–‡ä»¶ï¼šæ³¨æ„ä¸åŒç”¨æˆ·ç»„ï¼Œç”Ÿæˆçš„é…ç½®æ–‡ä»¶æ˜¯å­˜æ”¾åœ¨ä¸åŒä½ç½®çš„ã€‚\n\n\t```bash\n\t# é…ç½®æ–‡ä»¶å­˜æ”¾äº /root/.jupyter/jupyter_notebook_config.py \n\tsudo jupyter notebook --generate-config\n\t# é…ç½®æ–‡ä»¶å­˜æ”¾äº /home/pi/.jupyter/jupyter_notebook_config.py ( æ¨è )\n\tjupyter notebook --generate-config\n\t```\n\n- è®¾ç½®å¯†ç ï¼šç»ˆç«¯è¿›å…¥ iPython / Python ç¯å¢ƒï¼Œå€ŸåŠ© Python ç”Ÿæˆ SHA å¯†é’¥ï¼š\n\n\t> è‹¥ä¸å¼€å¯è¿œç¨‹æœåŠ¡ï¼Œåˆ™å¯è·³è¿‡æ­¤æ­¥éª¤ã€‚\n\n\t```python\n\t>>> from notebook.auth import passwd # å¯¼å…¥æˆæƒæ¨¡å—è®¾ç½®å¯†ç \n\t>>> passwd() # æç¤ºé”®å…¥å¯†ç \n\tEnter password: your password\n\tVerify password: your password again\n\t# å¯†ç çš„å“ˆå¸Œå€¼ï¼Œç”¨äºé…ç½®æ–‡ä»¶ä¸­è®¾ç½®å¯†ç \n\t'sha1:67c9e601de......7d111089e11aed' \n\t```\n\n- è¿›å…¥é…ç½®æ–‡ä»¶ï¼š\n\n\t```bash\n\tsudo vim /home/pi/.jupyter/jupyter_notebook_config.py \n\t```\n\t\t\n- ä¿®æ”¹é…ç½®å†…å®¹ï¼šé…ç½®é€‰é¡¹éå¸¸ä¸°å¯Œï¼Œå…³äºå…¶ä»–é…ç½®çš„é€‰é¡¹ç”¨é€”è¯¦ç»†å¯å‚è€ƒ `jupyter_notebook_config.py` å†…çš„æ³¨é‡Šã€‚\n\n\t```bash\n\t# æ³¨æ„å¼€å¯é…ç½®é€‰é¡¹ï¼Œè®°å¾—å»æ‰ #ï¼Œæ‰èƒ½ä½¿é…ç½®ç”Ÿæ•ˆï¼\n\t# å…è®¸æ‰€æœ‰ IP è®¿é—®\n\tc.NotebookApp.ip='*'\n\t# è¿œç¨‹è®¿é—®å¯†é’¥\n\tc.NotebookApp.password = u'sha:67c9e......11aed'\n\t# ä¸åœ¨æœ¬æœºè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨\n\tc.NotebookApp.open_browser = False\n\t# æŒ‡å®šç›‘å¬ç«¯å£\n\tc.NotebookApp.port =8888\n\t# Jupyter çš„é»˜è®¤å·¥ä½œç›®å½•\n\tc.NotebookApp.notebook_dir = '/home/pi/ipynb/'\n\t# å…è®¸ä½¿ç”¨ root ç”¨æˆ·å¯åŠ¨ jupyter\n\t# c.NotebookApp.allow_root = True\n\t```\n\t\t\n- å¯åŠ¨ Jupyter Notebookï¼š`jupyter notebook`\n\n#### æ‹“å±• Jupyter Notebook\n##### å¼€å¯è¿œç¨‹è®¿é—®\nJupyter Notebook å¼€å¯è¿œç¨‹è®¿é—® ( è¿œç¨‹è®¿é—®è¿™é‡ŒæŒ‡åŒä¸€å±€åŸŸç½‘ï¼Œå…¶ä»–ç»ˆç«¯è®¿é—®æ ‘è“æ´¾ï¼Œè‹¥æ˜¯è¦å¤–ç½‘è®¿é—®è¯·å‚é˜…å†…ç½‘ç©¿é€ç›¸å…³å†…å®¹ )ï¼Œä½†ç«¯å£è¢«æ‹’ç»è®¿é—®ã€‚\n\n- åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼Œæˆ‘ä»¬åªè®¾ç½®äº† `0.0.0.0` æˆ– `*` çš„ IP åœ°å€ï¼Œåœ¨å±€åŸŸç½‘ç¯å¢ƒè¿è¡Œèƒ½æ­£å¸¸è®¿é—®ã€‚ä½†å¯¹äºè¿œç¨‹è®¿é—®ï¼Œå½’æ ¹ç»“åº•ï¼Œæˆ‘ä»¬è¿˜éœ€è¦çŸ¥é“æ ‘è“æ´¾çš„ IP æ‰èƒ½è®¿é—®åˆ°æœåŠ¡ç«¯çš„ Jupyterï¼Œæ•…æˆ‘ä»¬æ˜¯è¿™æ ·è§£å†³è®¿é—®é—®é¢˜çš„ $^{[7]}$ã€‚\n\n\t```bash\n\t# nohup: ä¸€ç›´æ‰§è¡Œå‘½ä»¤ï¼Œå³ä½¿å…³é—­äº† SSHã€‚\n\t# --ip: åœ¨ 192.168.10.200 ( æ ‘è“æ´¾çš„IP ) ä¸Šç›‘å¬æ´»åŠ¨ã€‚\n\t# &: åœ¨åå°è¿è¡Œè¿™æ¡å‘½ä»¤ã€‚\n\tnohup jupyter notebook --ip 192.168.10.200 &\n\t```\n\n- æœ€åï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿è¯¥ç«¯å£æ˜¯å¦åœ¨å®‰å…¨ç­–ç•¥ä¸‹å·²ç»å¼€å¯ã€‚è¯¦ç»†å¯å‚è€ƒ MySQL æ•°æ®åº“çš„ [é˜²ç«å¢™ä¸è®¿é—®è§„åˆ™](#é˜²ç«å¢™ä¸è®¿é—®è§„åˆ™) ç« èŠ‚å†…å®¹ã€‚\n\n##### å¼€å¯è‡ªå¯æœåŠ¡\næ­å»º Jupyter æœåŠ¡å™¨ï¼ŒJupyter æŒ‚é åå°æœåŠ¡ï¼Œä¸”å¼€é€šæ–­ç”µè‡ªåŠ¨é‡å¯åŠŸèƒ½ï¼Œå‚è€ƒäº†æ–‡æ¡£ [[8]](https://blog.csdn.net/q361949240/article/details/83179560)ã€‚\n\n- åœ¨ `/etc/systemd/system` ä¸‹åˆ›å»º `jupyter.service` è¾“å…¥å¦‚ä¸‹å†…å®¹ï¼š\n\n\t```bash\n\tsudo vim /etc/sytemd/system/jupyter.service\n\t```\n\n- `jupyter.service` å†…å®¹å¡«å†™å¦‚ä¸‹ï¼š\n\n\t```shell\n\t[Unit]\n\tDescription=Jupyter Notebook\n\tAfter=network.target\n\n\t[Service]\n\tType=simple\n\t# è¿™é‡Œåœ¨ /run ç›®å½•ä¸‹æ²¡æœ‰ jupyter.pid\n\t# è¿™ä¸ªæ˜¯è¿›ç¨‹äº§ç”Ÿä¹‹åå‡ºç°çš„ï¼Œè™½ç„¶åœ¨å¯åŠ¨å‰æ²¡æœ‰ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨\n\tPIDFile=/run/jupyter.pid\n\t# ExecStart æ˜¯æ‰§è¡Œæ–‡ä»¶ jupyter-notebook\n\t# config æ˜¯é…ç½®æ–‡ä»¶ jupyter_notebook_config.py\n\t# ip æ˜¯æ ‘è“æ´¾çš„åœ°å€\n\tExecStart=/usr/local/bin/jupyter-notebook --config=/home/pi/.jupyter/jupyter_notebook_config.py --ip=192.168.10.200\n\tUser=pi\n\t# æŸ¥çœ‹ç”¨æˆ·ç»„ groups piï¼Œå‘ç°å±äº pi ç»„\n\tGroup=pi\n\t# è‡ªå·±è®¾ç½®çš„å·¥ä½œç›®å½•\n\t# éœ€åŒæ—¶åœ¨ jupyter_notebook_config.py ä¸­è®¾ç½®\n\t# c.NotebookApp.notebook_dir = '/home/pi/ipynb/'\n\tWorkingDirectory=/home/pi/ipynb/\n\tRestart=always\n\tRestartSec=10\n\n\t[Install]\n\tWantedBy=multi-user.target\n\t```\n\n- ä½¿æœåŠ¡è‡ªå¯åŠ¨ï¼š`systemctl enable jupyter`\n- å¯åŠ¨æœåŠ¡ï¼š`service jupyter start`\n\n##### å¸¸è§é—®é¢˜æ•´ç†\n- å½“æ–°å»ºæˆ–ä¿®æ”¹ ipynb æ–‡æ¡£æ—¶ï¼Œå‡ºç° `Permission denied: Untitled.ipynb` æƒé™å¼‚å¸¸ï¼Œæ£€æŸ¥å·¥ä½œç›®å½•æ˜¯å¦å…·æœ‰æ“ä½œæƒé™ã€‚\n\n\t```bash\n\t# ç¡®ä¿ Jupyter å·¥ä½œç›®å½•å±äºå½“å‰ç™»å½•ç”¨æˆ· pi\n\tsudo chown -R pi:pi /home/pi/ipynb\n\t# ç¡®ä¿ Jupyter å·¥ä½œç›®å½•æœ‰å¯è¯»ã€å¯å†™å’Œå¯æ‰§è¡Œçš„æƒé™\n\t# æ›´æ–°åçš„æƒé™æƒ…å†µï¼šdrwxrwxr--\n\tchmod ug=rwx /home/pi/ipynb\n\t```\n\n## è§£å†³æ–¹æ¡ˆ\n\n## å‚è€ƒèµ„æ–™\n\n- [1] [ç™¾åº¦ç™¾ç§‘. å­˜å‚¨å¼•æ“. baike.baidu.com](https://baike.baidu.com/item/å­˜å‚¨å¼•æ“)\n- [2] [jaywcjlove. mysql-tutorial. 2017. github.com](https://github.com/jaywcjlove/mysql-tutorial/blob/master/chapter3/3.5.md)\n- [3] [ç¼–ç¨‹æµªå­. æ ‘è“æ´¾3ä¹‹å®‰è£…MysqlæœåŠ¡. 2018. cnblogs.com](https://www.cnblogs.com/apanly/p/9061803.html)\n- [4] [farYang. æ ‘è“æ´¾å®‰è£…mysqlå¹¶å¼€å¯è¿œç¨‹è®¿é—®. 2016. csdn.net](https://blog.csdn.net/faryang/article/details/50788795)\n- [5] [Li, TaterLi. åæ­¥é…ç½®TeamViewerè¿œç¨‹æ§åˆ¶Pi. 2017. 52pi.net](http://www.52pi.net/archives/549)\n- [6] [èæ˜¯carrotå¤¢æ˜¯Dream. æ ‘è“æ´¾å®‰è£…é…ç½®TeamViewerå®ç°å¤–ç½‘è¿œç¨‹æ§åˆ¶. 2018. csdn.net](https://blog.csdn.net/realDonaldTrump/article/details/79694196)\n- [7] [ç»ˆå¯è§. æ ‘è“æ´¾ 3B æ­å»º Jupyter notebook. 2018. jianshu.com](https://www.jianshu.com/p/639c8d939643)\n- [8] [é½å¿—åˆš. æ ‘è“æ´¾ 3B Jupyter notebook è®¾ç½®ä¸ºåå°æœåŠ¡. 2018. csdn.net](https://blog.csdn.net/q361949240/article/details/83179560)","tags":["æœåŠ¡å™¨"],"categories":["Technique"]},{"title":"è®²åº§ | åˆ©ç”¨ t-SNE é™ç»´å¹¶å¯è§†åŒ–æ•°æ®","url":"%2F2018%2F11%2FThe-Best-Way-to-Visualize-a-Dataset-Easily.html","content":"\n{% note default %}  \nä½œè€…ï¼šSiraj Raval  \nè¯¾å ‚ï¼šThe Best Way to Visualize a Dataset Easily | [Bilibili](https://www.bilibili.com/video/av35768109) | [Youtube](https://www.youtube.com/watch?v=yQsOFWqpjkE)  \næºç ï¼šllSourcell.Visualize_dataset_demo | [Github](https://github.com/llSourcell/visualize_dataset_demo)  \n{% endnote %}\n\n- `ç›®æ ‡`ï¼šåœ¨æœ¬æ¬¡è¯¾å ‚ä¸­ï¼Œå°†å¯¹äººç±»æ´»åŠ¨è¯†åˆ« ( Human Activity Recognitionï¼ŒHAR ) æ•°æ®é›†è¿›è¡Œæ•°æ®å¯è§†åŒ–å‘ˆç°ï¼Œå¹¶è¿›è¡Œæ¢ç´¢æ€§åˆ†æä»¥å‘ç°çŸ¥è¯†ã€‚è€Œæœ¬è¯¾å ‚å…·ä½“ç›®æ ‡åˆ™æ˜¯äººç±»æ´»åŠ¨çŠ¶æ€è¯†åˆ«ï¼Œæ´»åŠ¨çŠ¶æ€åŒ…æ‹¬ï¼šSitting-downï¼ŒStanding-upï¼ŒStandingï¼ŒWalkingï¼ŒSittingã€‚\n\n\tå…·ä½“åœ°ï¼Œé€šè¿‡é™ç»´æ–¹æ³• `t-SNE` å®ç°ä¸åŒæ´»åŠ¨çŠ¶æ€çš„æ•°æ®è‡ªåŠ¨ \"åˆ†ç±»\" ( æ›´å‡†ç¡®åœ°è¯´åº”è¯¥æ˜¯èšç±» )ï¼Œä»è€Œåœ¨ä½ç»´åº¦ ( äºŒç»´ ) ä¸‹å¤ç°æ•°æ® ( çš„ç‰¹å¾ )ï¼Œä»¥ä¾¿æˆ‘ä»¬ç†è§£æ•°æ®ã€ç»Ÿè®¡åˆ†ææ•°æ®ã€‚\n\t\n- `é—®é¢˜`ï¼šè‹¥æˆ‘ä»¬è¦å°†è¦æè¿°å¦‚æ­¤å¤æ‚çš„æ•°æ®ï¼Œå³å®ƒä»¬æ‹¥æœ‰çš„ç‰¹å¾ ( ç»´åº¦ ) è¿‡å¤šäº†ï¼Œç›¸å¯¹äºäººç±»å¤§è„‘åªèƒ½ç†è§£äºŒç»´æˆ–ä¸‰ç»´çš„å±‚é¢ï¼Œå¦‚æ­¤å¤æ‚æ•°æ®æˆ‘ä»¬æ˜¯éš¾ä»¥ä»ä¸­å‘ç°çŸ¥è¯†çš„ã€‚\n\n- `è§£å†³`ï¼šé€šè¿‡å¯è§†åŒ–æ•°æ®æ¥æè¿°å®ƒä»¬çš„ç‰¹å¾ï¼Œå…·ä½“æªæ–½æ˜¯ä½¿ç”¨æœºå™¨å­¦ä¹ ä¸­çš„é™ç»´æ–¹æ³• `T-SNE` ( Distributed Stochastic Neighbor Embedding )ï¼ŒæŠŠé«˜ç»´ç©ºé—´ä¸­çš„æ•°æ®ä»¥äºŒç»´æˆ–ä¸‰ç»´çš„å½¢å¼è¡¨ç¤ºã€‚\n\n<!-- More -->\n\n- HAR æ•°æ®é›†çš„æ•°æ®æ¥æºï¼šå‚ä¸è€…ç»‘ä¸Šå¥èº«è¿½è¸ªè®¾å¤‡ï¼Œå½“å®ƒä»¬è¿åŠ¨èµ·æ¥æ—¶ï¼Œè¿½è¸ªè®¾å¤‡ä¼šè®°å½•è¿™äº›èº«ä½“æŒ‡æ ‡æ•°æ®ã€‚\n\n\t> å…³äºHAR æ•°æ®é›†æ›´è¯¦ç»†çš„æè¿°è¯·å‚è€ƒï¼š[HAR Set ä»‹ç»](http://groupware.les.inf.puc-rio.br/har#ixzz4Mt0Teae2) | [HAR Set ä¸‹è½½](https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv)\n\n## è§‚å¯Ÿæ•°æ®\n- æ¯ä¸€è¡Œæ•°æ®ä»£è¡¨ä¸åŒçš„äººã€‚\n- æ¯ä¸€åˆ—ä»£è¡¨æŸäººçš„èº«ä½“æŒ‡æ ‡æµ‹é‡æ•°æ®ï¼Œå¦‚æ‰‹è‡‚æˆ–è€…å‰è‡‚çš„ç©ºé—´ä½ç½® ( xï¼Œyï¼Œz åæ ‡ )ã€‚\n- åœ¨äººç±»æ´»åŠ¨è¯†åˆ«æ•°æ®é›†ä¸­ï¼Œæ¯ä¸€è¡Œ ( å®ä½“ ) éƒ½æœ‰ç±»æ ‡ç­¾æ ‡è®°ã€‚ä¸”å…±æœ‰ 5 ç§æ ‡ç­¾ï¼šSitting-downï¼ŒStanding-upï¼ŒStandingï¼ŒWalkingï¼ŒSittingã€‚\n\n## é¢„å¤„ç†æ•°æ®\n\n> å…³äº `é¢„å¤„ç†æ•°æ®` çš„è¯¦ç»†è§£é‡Šï¼Œå¯å‚è€ƒå¦å¤–ä¸€ç¯‡æ–‡ç« ï¼š[Kofe. å¦‚ä½•è½»æ¾æœ‰æ•ˆåœ°é¢„å¤„ç†æ•°æ®](https://www.kofes.cn/2018/11/the-best-way-to-prepare-a-dataset-easily.html)\n\n- `æ•°æ®æ¸…æ´—`ï¼šç¼ºå¤±å€¼å¤„ç†ã€å…‰æ»‘å™ªå£°æ•°æ®ã€è¯†åˆ«å’Œåˆ é™¤ç¦»ç¾¤ç‚¹ã€‚\n\n\t> å…³äºæ•°æ®æ¸…æ´—ï¼Œä¹Ÿæ¨èé˜…è¯»å…·æœ‰å®æ“æ„ä¹‰çš„ä¸€ç¯‡åšæ–‡ï¼š[TowardsDataScience. How to Handle Missing Data](https://towardsdatascience.com/how-to-handle-missing-data-8646b18db0d4)\n\n- `æ•°æ®é›†æˆ`ï¼šå¤šä¸ªæ•°æ®æºçš„æ•°æ®åˆå¹¶ï¼Œå­˜æ”¾äºåŒä¸€ä¸ªæ•°æ®ä»“åº“ä¸­ã€‚\n\t- `å®ä½“è¯†åˆ«é—®é¢˜`ï¼šæ¥è‡ªå¤šä¸ªä¿¡æ¯æºï¼Œå„æ•°æ®æºä¸­çš„å®ä½“ä¹‹é—´å¦‚ä½•åŒ¹é…ï¼Œè¿™æ¶‰åŠå®ä½“è¯†åˆ«é—®é¢˜ã€‚å¦‚ä¸åŒæ•°æ®æ¥æºäºä¸åŒæ•°æ®åº“ä¸­ï¼Œç°å®æ„ä¹‰ä¸Šå®ƒä»¬æ˜¯åŒä¸€å®ä½“ï¼Œä½†å®ƒä»¬å±æ€§çš„å…ƒæ•°æ®è¡¨è¾¾å´ä¸åŒ ( å¦‚ä¸»é”® )ã€‚\n\t- `å†—ä½™å’Œç›¸å…³åˆ†æ`ï¼šé›†æˆå¤šä¸ªæ•°æ®æºï¼Œæ•°æ®ä¸­å¯èƒ½æœ‰å¤šç»„å±æ€§é‡å¤å­˜åœ¨ã€‚è€Œå†—ä½™å¯è¢«ç›¸å…³åˆ†ææ£€æµ‹åˆ°ï¼Œå¦‚åˆ†ç±» ( æ ‡ç§° ) å±æ€§çš„å¡æ–¹æ£€éªŒã€æ•°å€¼å±æ€§çš„ç›¸å…³ç³»æ•°ã€æ•°å€¼å±æ€§çš„æ–¹å·®å’Œåæ–¹å·®ã€‚\n\t- `å…ƒç»„é‡å¤`ï¼šå…ƒç»„çº§æ£€æµ‹é‡å¤ã€‚\n- `æ•°æ®å½’çº¦`ï¼šåœ¨å°½å¯èƒ½ä¿æŒæ•°æ®åŸè²Œå‰æä¸‹ï¼Œæœ€å¤§é™åº¦ç²¾ç®€æ•°æ®é‡ã€‚ç­–ç•¥åŒ…æ‹¬ï¼š\n\t- `ç»´å½’çº¦`ï¼šä¹Ÿç§°ä¸ºç‰¹å¾å½’çº¦ï¼Œå‡å°‘æ‰€è€ƒè™‘çš„å±æ€§çš„ä¸ªæ•°ã€‚æ–¹æ³•åŒ…æ‹¬ï¼šå°æ³¢å˜æ¢ã€ä¸»æˆåˆ†åˆ†æã€å±æ€§å­é›†é€‰æ‹©ç­‰ã€‚å½“ç„¶åˆ©ç”¨å†—ä½™å’Œç›¸å…³åˆ†æä¹Ÿæ˜¯å¯è¡Œçš„ã€‚\n\t- `æ•°é‡å½’çº¦`ï¼šç”¨æ›¿ä»£çš„ã€è¾ƒå°çš„æ•°æ®è¡¨ç¤ºå½¢å¼æ›¿æ¢åŸæ•°æ®ã€‚æ–¹æ³•åŒ…æ‹¬ï¼šå›å½’å’Œå¯¹æ•°çº¿æ€§æ¨¡å‹ã€èšç±»ã€é™ç»´ç­‰ã€‚\n\n\t\t> åœ¨æœ¬è¯¾å ‚ä¸­åˆ™ä½¿ç”¨äº†é™ç»´æ–¹æ³•è¿›è¡Œå±æ€§æ•°é‡çš„å½’çº¦ï¼Œå…¶ä¸­é™ç»´æ–¹æ³•æœ‰ï¼šPCAã€t-SNE $^{[4]}$ã€LargeVis $^{[5, 6]}$ ç­‰ã€‚\n\t\t\n- `æ•°æ®å˜æ¢`ï¼šä¸»è¦æ€æƒ³æ˜¯å°†æ•°æ®å˜æ¢æˆ–ç»Ÿä¸€æˆé€‚åˆæ•°æ®æŒ–æ˜çš„å½¢å¼ã€‚æ–¹æ³•å¯ä»¥æ˜¯æ•°æ®å½’ä¸€åŒ–ã€æ•°æ®ç¦»æ•£åŒ–ã€æ¦‚å¿µåˆ†å±‚ç­‰ã€‚\n\t- `ç‰¹å¾æ„é€ `ï¼šç”±ç»™å®šçš„å±æ€§æ„é€ æ–°çš„å±æ€§å¹¶æ·»åŠ è‡³å±æ€§é›†ä¸­ã€‚\n\t- `èšé›†åˆ†è§£`ï¼šå¯¹æ•°æ®è¿›è¡Œ `æ±‡æ€»` æˆ–è€… `èšé›†`ã€‚å¦‚èšé›†å­£åº¦é”€å”®æ•°æ®ã€‚ä¸ä¹‹ç›¸å¯¹çš„æ˜¯ `åˆ†è§£`ï¼Œå¦‚å¸¸è§çš„ â€œæ—¥æœŸâ€ å±æ€§ï¼Œä¸åŒçš„éœ€æ±‚ï¼Œæˆ‘ä»¬è¦è§£æ„çš„ç²’åº¦æ˜¯ä¸åŒçš„ã€‚å¦‚é¢„æµ‹å½“æ—¥çš„æ°”æ¸©å˜åŒ–ï¼Œåˆ™æˆ‘ä»¬å¯æŠŠå¹´å’Œæœˆä»½å‰”é™¤ã€‚\n\t- `å½’ä¸€åŒ–`ï¼šé’ˆå¯¹æ¯ä¸€ä¸ªç‰¹å¾ ( ç»´åº¦ )ï¼Œå»å‡å€¼å’Œæ–¹å·®å½’ä¸€åŒ–ã€‚å³æŠŠå±æ€§æ•°æ®æŒ‰æ¯”ä¾‹ç¼©æ”¾ï¼Œè®©æ‰€æœ‰ç‰¹å¾åœ¨ç»Ÿä¸€æ•°é‡çº§ä¸Šè¿ä½œï¼Œå¦‚æ­¤ä¸€æ¥æ•°æ®æŒ‡æ ‡ä¹‹é—´å°±æœ‰äº†å¯æ¯”æ€§ã€‚\n\t- `ç¦»æ•£åŒ–`ï¼šæ•°å€¼å±æ€§çš„åŸå§‹å€¼ç”¨åŒºé—´æ ‡ç­¾æˆ–è€…æ¦‚å¿µæ ‡ç­¾æ›¿æ¢ï¼Œå³è¿™äº›æ ‡ç­¾å¯é€’å½’åœ°ç»„ç»‡æˆæ›´é«˜å±‚æ¦‚å¿µï¼Œå¯¼è‡´æ•°å€¼å±æ€§çš„ `æ¦‚å¿µåˆ†å±‚`ã€‚\n\t\t\n\t\t> ä¾‹å¦‚ï¼Œæˆ‘ä»¬\tå¯¹å¹´é¾„è¿›è¡Œåˆ†å±‚ï¼š1 to 17 ä¸º Adolescentï¼›18 to 45 ä¸º Adultï¼›46 ä»¥ä¸Šä¸º Seniorã€‚\n\n## æ•°æ®å¯è§†åŒ–\n### é™ç»´æ–¹æ³•\n#### é™ç»´ç›®çš„\n- é€šè¿‡é™ç»´ç®—æ³•æ¥å¯»æ‰¾ `æ•°æ®å†…éƒ¨çš„æœ¬è´¨ç»“æ„ç‰¹å¾`ï¼Œå¦‚ç‰¹å¾é€‰æ‹©æˆ–ç‰¹å¾æå–ã€‚\n\t- `ç‰¹å¾é€‰æ‹©`ï¼šå‡å®šæ•°æ®ä¸­åŒ…å«å¤§é‡å†—ä½™æˆ–æ— å…³å˜é‡ ( æˆ–ç§°ç‰¹å¾ã€å±æ€§ã€æŒ‡æ ‡ç­‰ )ï¼Œæ—¨åœ¨ä»åŸæœ‰å˜é‡ä¸­æ‰¾å‡ºä¸»è¦å˜é‡ã€‚å…¶ä»£è¡¨æ–¹æ³•ä¸º [LASSO](https://zh.wikipedia.org/wiki/Lasso%E7%AE%97%E6%B3%95)ã€‚\n\t- `ç‰¹å¾æå–`ï¼šæ˜¯å°†é«˜ç»´æ•°æ®è½¬åŒ–ä¸ºä½ç»´æ•°æ®çš„è¿‡ç¨‹ã€‚åœ¨æ­¤è¿‡ç¨‹ä¸­å¯èƒ½èˆå¼ƒåŸæœ‰æ•°æ®ã€åˆ›é€ æ–°çš„å˜é‡ã€‚å…¶ä»£è¡¨æ–¹æ³•ä¸º [PCA](https://zh.wikipedia.org/wiki/%E4%B8%BB%E6%88%90%E5%88%86%E5%88%86%E6%9E%90)ã€‚\n- åœ¨åŸå§‹çš„é«˜ç»´ç©ºé—´ä¸­ï¼ŒåŒ…å«æœ‰å†—ä½™ä¿¡æ¯ã€å™ªéŸ³ä¿¡æ¯ã€‚é€šè¿‡é™ç»´æ–¹æ³•ï¼Œ`å‡å°‘å†—ä½™ä¿¡æ¯` æ‰€é€ æˆçš„è¯¯å·®ï¼Œä»¥æé«˜æ¨¡å‹çš„ç²¾åº¦ã€‚\n\n#### é™ç»´æœ¬è´¨\n- æœºå™¨å­¦ä¹ é¢†åŸŸä¸­ï¼Œé™ç»´æŒ‡é‡‡ç”¨æŸç§æ˜ å°„æ–¹æ³•å°†åŸé«˜ç»´ç©ºé—´ä¸­çš„æ•°æ®ç‚¹æ˜ å°„åˆ°ä½ç»´åº¦çš„ç©ºé—´ä¸­ã€‚\n- é™ç»´çš„æœ¬è´¨æ˜¯å­¦ä¹ ä¸€ä¸ªæ˜ å°„å‡½æ•° $ f : x \\to y$ï¼Œå…¶ä¸­ $x$ æ˜¯åŸå§‹æ•°æ®ç‚¹çš„è¡¨è¾¾ï¼Œ$y$ æ˜¯æ•°æ®ç‚¹æ˜ å°„åçš„ä½ç»´å‘é‡è¡¨è¾¾ ( é€šå¸¸ $y$ çš„ç»´åº¦å°äº $x$ çš„ç»´åº¦ )ã€‚$f$ å¯èƒ½æ˜¯æ˜¾å¼çš„æˆ–éšå¼çš„ã€çº¿æ€§çš„æˆ–éçº¿æ€§çš„æ˜ å°„å‡½æ•° ( ä¾‹å¦‚æœ¬ä¾‹æåŠçš„ PCA æˆ–è€… t-SNE )ã€‚\n- å½“æˆ‘ä»¬æ„è¯†åˆ°éœ€è¦é™ç»´æ—¶ï¼Œä¸€èˆ¬æ˜¯å‘ç°äº†ç‰¹å¾é—´çš„é«˜åº¦çº¿æ€§ç›¸å…³ã€‚è‹¥æˆ‘ä»¬å‘ç°äº†çº¿æ€§ç›¸å…³ï¼Œåˆ™é€‚åˆä½¿ç”¨ PCA å¤„ç† $^{[1]}$ï¼Œè€Œ t-SNE ä¸»æ‰“çš„æ˜¯éçº¿æ€§é™ç»´ã€‚\n\n#### é™ç»´ç®—æ³•\n##### PCA\n- `PCA`ï¼šä¸»æˆåˆ†åˆ†æç®—æ³• ( Principal Component Analysisï¼ŒPCA )ï¼Œæ˜¯æœ€å¸¸ç”¨çš„ `çº¿æ€§é™ç»´æ–¹æ³•`ã€‚å®ƒé€šè¿‡æŸç§çº¿æ€§æŠ•å½±ï¼Œå°†é«˜ç»´çš„æ•°æ®æ˜ å°„åˆ°ä½ç»´çš„ç©ºé—´ä¸­è¡¨ç¤ºã€‚ä¸ºä½¿æ‰€æœ‰æ ·æœ¬çš„æŠ•å½±ç‚¹å°½å¯èƒ½åˆ†å¼€ï¼Œåˆ™éœ€è¦åœ¨æ‰€æŠ•å½±çš„ç»´åº¦ä¸Šæ•°æ®çš„æ–¹å·®æœ€å¤§åŒ–ã€‚ä»¥æ­¤ï¼Œä½¿ç”¨è¾ƒå°‘çš„æ•°æ®ç»´åº¦ï¼ŒåŒæ—¶ä¿ç•™ä½è¾ƒå¤šçš„åŸæ•°æ®ç‚¹çš„ç‰¹æ€§ã€‚\n\n##### SNE\n- `t-SNE` å¯ç†è§£ä¸º `SNE` çš„ç‰¹æ®Šå½¢å¼ï¼Œæˆ‘ä»¬å…ˆäº†è§£ SNE çš„åŸºæœ¬åŸç†ï¼Œå†å»¶ä¼¸å­¦ä¹  t-SNE ( æœ¬å°èŠ‚å¯å‚è€ƒå¤šç¯‡åšæ–‡æ¯”å¯¹å­¦ä¹ ï¼Œå¦‚å‚è€ƒèµ„æ–™ä¸­çš„ [2] - [3] )ã€‚\n\n- SNE æ˜¯é€šè¿‡ [ä»¿å°„å˜æ¢](https://www.zhihu.com/question/20666664) å°†æ•°æ®ç‚¹æ˜ å°„åˆ°æ¦‚ç‡åˆ†å¸ƒä¸Šï¼Œä¸»è¦åŒ…æ‹¬ä¸¤ä¸ªæ­¥éª¤ï¼š\n\n\t- SNE æ„å»ºä¸€ä¸ªé«˜ç»´å¯¹è±¡ä¹‹é—´çš„æ¦‚ç‡åˆ†å¸ƒï¼Œä½¿å¾—ç›¸ä¼¼çš„å¯¹è±¡æœ‰æ›´é«˜çš„æ¦‚ç‡è¢«é€‰æ‹©ï¼Œè€Œä¸ç›¸ä¼¼çš„å¯¹è±¡æœ‰è¾ƒä½çš„æ¦‚ç‡è¢«é€‰æ‹©ã€‚\n\n\t- SNEåœ¨ä½ç»´ç©ºé—´é‡Œåœ¨æ„å»ºè¿™äº›ç‚¹çš„æ¦‚ç‡åˆ†å¸ƒï¼Œä½¿ä¹‹ä¸é«˜ç»´åº¦çš„æ¦‚ç‡åˆ†å¸ƒä¹‹é—´å°½å¯èƒ½ç›¸ä¼¼ã€‚\n\n- SNE çš„å®ç°åŸç†ï¼š\n\t- åŸå§‹ SNE å…ˆå°† `æ¬§å‡ é‡Œå¾—è·ç¦»` è½¬æ¢ä¸º `æ¡ä»¶æ¦‚ç‡` æ¥è¡¨è¾¾ç‚¹ä¸ç‚¹ä¹‹é—´çš„ç›¸ä¼¼åº¦ã€‚å…·ä½“åœ°ï¼Œç»™å®šä¸€ä¸ª $N$ ä¸ªé«˜ç»´çš„æ•°æ® $x_1, x_2, ..., x_N$ï¼Œ$x_i$ å’Œ $x_j$ ä¹‹é—´çš„ç›¸ä¼¼åº¦å¯è¡¨ç¤ºä¸º ( $x_i$ ä¸ºä¸­å¿ƒç‚¹ )ï¼š \n\n\t\t$$\n\t\tp_{j|i} = \\frac{\n\t\t\texp({-||x^{(i)} - x^{(j)}||}^2 / {\n\t\t\t2\\sigma_i^2})\n\t\t}{ \n\t\t\t\\sum_{k \\neq i} exp({-||x^{(i)} - x^{(k)}||}^2 / {\n\t\t\t2\\sigma_i^2})\n\t\t}\n\t\t\\tag{1}\n\t\t$$\n\t\n\t\tè¿™é‡Œçš„æœ‰ä¸€ä¸ªå‚æ•°æ˜¯ $\\sigma_i$ï¼Œå…¶è¡¨ç¤ºä»¥ $x_i$ ä¸ºä¸­å¿ƒç‚¹çš„é«˜æ–¯åˆ†å¸ƒçš„æ–¹å·®ã€‚ä¸”å¯¹äºä¸åŒçš„ç‚¹ $x_i$ å–å€¼ä¸ä¸€æ · $^{[2]}$ ( å…·ä½“å‚è¯¦ SNE çš„å›°æƒ‘åº¦ ( Perplexity ) )ã€‚å†è€…ï¼Œç”±äºæˆ‘ä»¬åªå…³å¿ƒä¸åŒç‚¹ä¸¤ä¸¤ä¹‹é—´çš„ç›¸ä¼¼åº¦ï¼Œæ‰€ä»¥è®¾å®š $p_{i|i} = 0$ã€‚\n\n\t- åœ¨æŠŠæ•°æ®æ˜ å°„åˆ°ä½ç»´ç©ºé—´åï¼Œé«˜ç»´æ•°æ®ç‚¹ä¹‹é—´çš„ç›¸ä¼¼æ€§ä¹Ÿåº”è¯¥åœ¨ä½ç»´ç©ºé—´çš„æ•°æ®ç‚¹ä¸Šä½“ç°å‡ºæ¥ã€‚è¿™é‡ŒåŒæ ·ç”¨æ¡ä»¶æ¦‚ç‡çš„å½¢å¼æè¿°ï¼Œå¯¹äºä½ç»´åº¦ä¸‹çš„ $y_i$ï¼Œæˆ‘ä»¬å¯ä»¥æŒ‡å®šé«˜æ–¯åˆ†å¸ƒä¸ºæ–¹å·®ä¸º $\\frac{1}{\\sqrt2}$ã€‚å› æ­¤å®ƒä»¬ä¹‹é—´çš„ç›¸ä¼¼åº¦ä¸º:\n\n\t$$\n\tq_{j|i} = \\frac{\n\t\texp( {-||y^{(i)} - y^{(j)}||}^2 )\n\t}{ \n\t\t\\sum_{k \\neq i} exp( {-||y^{(i)} - y^{(k)}||}^2 )\n\t}\n\t\\tag{2}\n\t$$\n\n\t- åŒç†ï¼Œè®¾å®š $q_{i|i} = 0$ã€‚è¿™æ ·ä¸€æ¥ï¼Œè‹¥ $y_i$ å’Œ $y_j$ çœŸå®åæ˜ äº†é«˜ç»´æ•°æ®ç‚¹ $x_i$ å’Œ $x_j$ ä¹‹é—´çš„å…³ç³»ï¼Œé‚£ä¹ˆæ¡ä»¶æ¦‚ç‡ $p_{j|i}$ ä¸ $q_{j|i}$ åº”è¯¥å®Œå…¨ç›¸ç­‰ã€‚\n\n\t\tè¿™é‡Œæˆ‘ä»¬åªè€ƒè™‘ $x_i$ ä¸ $x_j$ ä¹‹é—´çš„æ¡ä»¶æ¦‚ç‡ï¼Œåˆ™å®ƒä»¬å¯æ„æˆä¸€ä¸ªæ¡ä»¶æ¦‚ç‡åˆ†å¸ƒå‡½æ•° $P$ã€‚åŒç†ï¼Œåªè€ƒè™‘ $y_i$ ä¸ $y_j$ ä¹‹é—´çš„æ¡ä»¶æ¦‚ç‡ï¼Œåœ¨ä½ç»´ç©ºé—´å­˜åœ¨ä¸€ä¸ªæ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ $Q$ï¼Œä¸”åº”è¯¥ä¸ $P$ æ˜¯ä¸€è‡´çš„ã€‚\n\t\t\n\t\tå¦‚ä½•è¡¡é‡ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Ÿåˆ™æˆ‘ä»¬å¯é€šè¿‡ä¼˜åŒ–ä¸¤åˆ†å¸ƒçš„è·ç¦»ï¼Œå³ `K-L æ•£åº¦` ( Kullback-Leibler Divergence )ã€‚SNE æœ€ç»ˆç›®æ ‡å°±æ˜¯å¯¹æ‰€æœ‰æ•°æ®ç‚¹æœ€å°åŒ–è¿™ä¸ª K-L æ•£åº¦ï¼Œå…·ä½“åœ°ï¼Œæˆ‘ä»¬å¯ä½¿ç”¨ `æ¢¯åº¦ä¸‹é™ç®—æ³•` æœ€å°åŒ–ä»¥ä¸‹ä»£ä»·å‡½æ•°ï¼š\n\t\t\n\t\t$$\n\t\tC = D_{KL}(P || Q) = \\sum_{i} \\sum_{j} p_{j|i} log \\frac{p_{j|i}}{q_{j|i}}\n\t\t\\tag{3}\n\t\t$$\n\t\t\n\t\tSNE ä»£ä»·å‡½æ•°å¯¹ $y_i$ æ±‚æ¢¯åº¦åçš„å½¢å¼å¦‚ä¸‹ï¼š\n\n\t\t$$\n\t\t\\frac{\\delta C}{\\delta y_i} = \n\t\t2 \\sum_j ( p_{j|i} - q_{j|i} + p_{i|j} - q_{i|j} )( y_i - y_j )\n\t\t\\tag{4}\n\t\t$$\n\t\n\t- ä¼¼ä¹åˆ°è¿™é‡Œé—®é¢˜å°±è§£å†³äº†ï¼Œå¾—åˆ°ä»£ä»·å‡½æ•°ï¼Œåˆ©ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•è¿›è¡Œè®­ç»ƒäº†ã€‚ä½†äº‹æƒ…è¿œæ²¡æœ‰é‚£ä¹ˆç®€å•ï¼Œå› ä¸º K-L æ•£åº¦æ˜¯ä¸€ä¸ªéå¯¹ç§°çš„åº¦é‡ï¼Œæœ€å°åŒ–ä»£ä»·å‡½æ•°çš„ç›®çš„æ˜¯è®© $pj|i$ å’Œ $qj|i$ çš„å€¼å°½å¯èƒ½çš„æ¥è¿‘ï¼Œå³ä½ç»´ç©ºé—´ä¸­ç‚¹çš„ç›¸ä¼¼æ€§åº”å½“ä¸é«˜ç»´ç©ºé—´ä¸­ç‚¹çš„ç›¸ä¼¼æ€§ä¸€è‡´ã€‚\n\t\t- ä½†ä»ä»£ä»·å‡½æ•°çš„å½¢å¼å°±å¯ä»¥çœ‹å‡ºï¼Œè€ƒè™‘åˆ°ç¦»ç¾¤ç‚¹çš„æƒ…å†µï¼Œå½“ $p_{j|i}$ è¾ƒå¤§ï¼Œ$q_{j|i}$ è¾ƒå°æ—¶ï¼Œå³é«˜ç»´ç©ºé—´ä¸­ä¸¤ä¸ªæ•°æ®ç‚¹è·ç¦»è¾ƒè¿‘ï¼Œè€Œæ˜ å°„åˆ°ä½ç»´ç©ºé—´åè·ç¦»è¾ƒè¿œï¼Œé‚£ä¹ˆå°†å¾—åˆ°ä¸€ä¸ªå¾ˆé«˜çš„æƒ©ç½šï¼Œè¿™æ²¡ä»€ä¹ˆé—®é¢˜ï¼›\n\t\t- è€Œ$p_{j|i}$ è¾ƒå°ï¼Œ$q_{j|i}$ è¾ƒå¤§æ—¶ï¼Œå³é«˜ç»´ç©ºé—´ä¸­ä¸¤ä¸ªæ•°æ®ç‚¹è·ç¦»è¾ƒè¿œï¼Œè€Œæ˜ å°„åˆ°ä½ç»´ç©ºé—´è·ç¦»è¾ƒè¿‘ï¼Œå°†å¾—åˆ°ä¸€ä¸ªå¾ˆä½çš„æƒ©ç½šå€¼ã€‚ç„¶è€Œè¿™å°±æ˜¯é—®é¢˜æ‰€åœ¨ï¼Œç†åº”å¾—åˆ°ä¸€ä¸ªè¾ƒé«˜çš„æƒ©ç½šæ‰å¯¹ã€‚æ¢å¥è¯è¯´ï¼ŒSNE çš„ä»£ä»·å‡½æ•°æ›´å…³æ³¨å±€éƒ¨ç»“æ„ï¼Œè€Œå¿½è§†äº†å…¨å±€ç»“æ„ã€‚\n\n##### t-SNE\n\n{% note success %}\nè®ºæ–‡ä¸­å¯¹ t-SNE åŸç†æè¿°æ˜¯åŸºäºæ•°å­¦å½¢å¼åŒ–çš„ï¼Œæ›´å¤šç»†èŠ‚æˆ–éš¾ä»¥ç†è§£çš„ï¼Œæ¯”å¦‚è·ç¦»åº¦é‡å¦‚ä½•è½¬åŒ–ä¸ºæ¦‚ç‡åº¦é‡ã€å¦‚ä½•ç¡®å®š $\\sigma$ã€å¦‚ä½•æ±‚æ¢¯åº¦ä¸‹é™å€¼ç­‰ï¼Œå»ºè®®é˜…è¯» t-SNE çš„ä»£ç å®ç°ã€‚\n\næ¨è [karpathy.tsnejs](https://github.com/karpathy/tsnejs) å’Œ [bindog.t-sne.js](https://gist.github.com/bindog/0ac283fc4dbdeb4c954990ea5c3dcd87) (è¯·ç§‘å­¦ä¸Šç½‘)ï¼Œéœ€è¦è¯´æ˜çš„æ˜¯ï¼Œbindog çš„ç‰ˆæœ¬æ˜¯åŸºäº karpathy çš„ï¼Œå…·ä½“å·¥ä½œæ˜¯æ·»åŠ äº†æ³¨é‡Šå’Œ [ç®—æ³•æµç¨‹å›¾](https://upload-images.jianshu.io/upload_images/415974-ab098a421189c1d0.png) $^{[8]}$ã€‚\n{% endnote %}\n\n- åœ¨åŸå§‹ SNE ä¸­ï¼Œ$p_{i|j}$ ä¸ $p_{j|i}$ æ˜¯ä¸ç›¸ç­‰çš„ï¼Œä½ç»´ç©ºé—´ä¸­ $q_{i|j}$ ä¸ $q_{j|i}$ ä¹Ÿæ˜¯ä¸ç›¸ç­‰çš„ã€‚è‹¥æˆ‘ä»¬åˆ†åˆ«åœ¨é«˜ç»´å’Œä½ç»´ç©ºé—´æ„é€ æ›´åŠ é€šç”¨çš„è”åˆæ¦‚ç‡åˆ†å¸ƒ $P$ å’Œ $Q$ï¼Œä½¿å¾—å¯¹ä»»æ„ i, jï¼Œå‡æœ‰ $p_{i|j} = p_{j|i}, \\, q_{i|j} = q_{j|i}$ã€‚è€Œè¿™ç§ SNE ç§°ä¹‹ä¸ºå¯¹ç§° SNE ( Symmetric SNE )ï¼Œå› æ­¤å®ƒä»¬çš„æ¦‚ç‡åˆ†å¸ƒå¯æ”¹å†™ä¸º ( åŒç†ï¼Œæˆ‘ä»¬åªå…³æ³¨ä¸åŒç‚¹ä¸¤ä¸¤ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œæ•…è®¾å®š $p_{i||i} = 0, q_{i||i} = 0$ ):\n\n\t$$\n\tp_{i, j} = \\frac{\n\t\t\texp({-||x^{(i)} - x^{(j)}||}^2 / {\n\t\t\t2\\sigma_i^2})\n\t\t}{ \n\t\t\t\\sum_{k \\neq l} exp({-||x^{(k)} - x^{(l)}||}^2 / {\n\t\t\t2\\sigma_i^2})\n\t\t} \\\\\n\tq_{i, j} = \\frac{\n\t\texp( {-||y^{(i)} - y^{(j)}||}^2 )\n\t}{ \n\t\t\\sum_{k \\neq l} exp( {-||y^{(k)} - y^{(l)}||}^2 )\n\t}\n\t\\tag{5}\n\t$$\n\n- è¿™æ ·è¡¨è¾¾æ–¹å¼ä½¿å¾—æ•´ä½“ç®€æ´äº†å¾ˆå¤šã€‚ä½†æ˜¯ä¼šå¼•å…¥å¼‚å¸¸å€¼çš„é—®é¢˜ã€‚æ¯”å¦‚ï¼Œ$x_i$ æ˜¯å¼‚å¸¸å€¼ï¼Œé‚£ä¹ˆ $||x^{(i)} - x^{(j)}||^2$ ä¼šå¾ˆå¤§ï¼Œå¯¹åº”çš„æ‰€æœ‰çš„ $j$, $p_{i, j}$ éƒ½ä¼šå¾ˆå°ï¼Œå¯¼è‡´ä½ç»´æ˜ å°„ä¸‹çš„ $y_i$ æ— è®ºå¤„åœ¨ä»€ä¹ˆä½ç½®ï¼Œå¯¹ä»£ä»·å‡½æ•°å½±å“å¾ˆå°ã€‚\n\n\tä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å°†è”åˆæ¦‚ç‡åˆ†å¸ƒæ”¹å†™ä¸ºï¼š\n\n\t$$\n\tp_{i,j} = \\frac{\n\t\tp_{j|i} + p_{i|j} \n\t}{2N} \\\\\n\t( p_{j|i} = \\frac{p_{i,j}}{p_i}, \\,\n\tp_{i|j} = \\frac{p_{i,j}}{p_j}, \\,\n\tp_i = p_j = \\frac1N )\n\t\\tag{6}\n\t$$\n\t\n- å…¶ä¸­ N ä¸ºæ•°æ®ç‚¹çš„æ€»æ•°ï¼Œè¿™æ ·å®šä¹‰å³æ»¡è¶³äº†å¯¹ç§°æ€§ï¼Œåˆä¿è¯äº† $x_i$ çš„æƒ©ç½šå€¼ä¸ä¼šè¿‡å°ã€‚æ­¤æ—¶å¯ä»¥åˆ©ç”¨ KL è·ç¦»å†™å‡ºå¦‚ä¸‹ä»£ä»·å‡½æ•°ï¼š\n\t\n\t$$\n\tC = D_{KL}(P || Q) = \\sum_{i} \\sum_{j} p_{i, j} log \\frac{p_{i, j}}{q_{i, j}}\n\t\\tag{7}\n\t$$\n\t\n- å¯¹ç§° SNE çš„æœ€å¤§ä¼˜ç‚¹ï¼Œå³æ¢¯åº¦è®¡ç®—å˜å¾—ç®€å•äº†ï¼š\n\n\t$$\n\t\\frac{\\delta C}{\\delta y_i} = \n\t4 \\sum_j ( p_{i, j} - q_{i, j})( y_i - y_j )\n\t\\tag{8}\n\t$$\n\t\n\tä½†æ˜¯Maaten è¿˜æŒ‡å‡º $^{[4]}$ï¼Œå¯¹ç§° SNE çš„æ•ˆæœåªæ˜¯ç•¥å¾®ä¼˜äºåŸå§‹ SNE çš„æ•ˆæœï¼Œä¾ç„¶æ²¡æœ‰ä»æ ¹æœ¬ä¸Šè§£å†³é—®é¢˜ã€‚æˆ‘ä»¬è¿˜éœ€è¦è§£å†³ `æ‹¥æŒ¤é—®é¢˜`ã€‚\n\t\n- `æ‹¥æŒ¤é—®é¢˜`ï¼šå°±æ˜¯è¯´å„ä¸ªç°‡èšé›†åœ¨ä¸€èµ·ï¼Œæ— æ³•åŒºåˆ†ã€‚è¿™æ˜¯ç”±äºé«˜ç»´ç©ºé—´è·ç¦»åˆ†å¸ƒå’Œä½ç»´ç©ºé—´è·ç¦»åˆ†å¸ƒçš„å·®å¼‚é€ æˆçš„ã€‚æ¯”å¦‚ï¼Œæœ‰ä¸€é«˜ç»´åº¦æ•°æ®åœ¨é™ç»´åˆ° 10 ç»´ä¸‹å¯ä»¥æœ‰å¾ˆå¥½çš„è¡¨è¾¾ï¼Œä½†æ˜¯é™ç»´åˆ°ä¸¤ç»´åæ— æ³•å¾—åˆ° \"å¯ä¿¡\" æ˜ å°„ã€‚\n\n\tè¿›ä¸€æ­¥è¯´æ˜ï¼Œå‡è®¾ä¸€ä¸ªä»¥æ•°æ®ç‚¹ $x_i$ ä¸ºä¸­å¿ƒï¼ŒåŠå¾„ä¸º $r$ çš„ $m$ ç»´çƒ ( ä¸‰ç»´ç©ºé—´å°±æ˜¯çƒ )ï¼Œå…¶ä½“ç§¯æ˜¯æŒ‰ $r^m$ å¢é•¿çš„ï¼Œå‡è®¾æ•°æ®ç‚¹æ˜¯åœ¨ m ç»´çƒä¸­å‡åŒ€åˆ†å¸ƒçš„ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å…¶ä»–æ•°æ®ç‚¹ä¸ $x_i$ çš„è·ç¦»éšç»´åº¦å¢å¤§è€Œäº§ç”Ÿçš„å˜åŒ–ã€‚å…·ä½“ï¼Œæˆ‘ä»¬å¯å‚è€ƒä»£ç  $^{[3]}$ï¼š\n\t\n\t```python\n\timport numpy as np\n\tfrom numpy.linalg import norm\n\timport matplotlib.pyplot as plt\n\n\tnpoints = 1000\t# æŠ½å– 1000 ä¸ª m ç»´çƒå†…å‡åŒ€åˆ†å¸ƒçš„ç‚¹\n\tplt.figure( figsize=(20, 4) )\n\tfor i, m in enumerate((2, 3, 5, 8)):\n\t    # è¿™é‡Œæ¨¡æ‹Ÿ m ç»´çƒä¸­çš„å‡åŒ€åˆ†å¸ƒç”¨åˆ°äº†æ‹’ç»é‡‡æ ·\n\t    # å³å…ˆç”Ÿæˆ m ç»´ç«‹æ–¹ä¸­çš„å‡åŒ€åˆ†å¸ƒï¼Œå†å‰”é™¤ m ç»´çƒå¤–éƒ¨çš„ç‚¹\n\t    accepts = []\n\t    while len(accepts) < 1000:\n\t        points = np.random.rand(500, m)\n\t        accepts.extend(\n\t            [d for d in norm(points, axis=1) if d <= 1.0]\n\t        ) # æ‹’ç»é‡‡æ ·\n\t    accepts = accepts[:npoints]\n\t    ax = plt.subplot(1, 4, i+1)\n\t    ax.set_xlabel('distance') # x è½´è¡¨ç¤ºç‚¹åˆ°åœ†å¿ƒçš„è·ç¦»\n\t    if i == 0:\n\t        ax.set_ylabel('count') # y è½´è¡¨ç¤ºç‚¹çš„æ•°é‡\n\t    ax.hist(accepts, bins=np.linspace(0., 1., 50), color='green')\n\t    ax.set_title('m={0}'.format(str(m)), loc='left')\n\tplt.show()\n\t```\n\n- è¿è¡Œç»“æœå¦‚å›¾ 2-1 æ‰€ç¤ºã€‚æ®å›¾ç¤ºåæ˜ ï¼Œéšç€ç»´åº¦çš„å¢å¤§ï¼Œå¤§éƒ¨åˆ†æ•°æ®ç‚¹éƒ½èšé›†åœ¨ m ç»´çƒçš„è¡¨é¢é™„è¿‘ï¼Œä¸ç‚¹ $x_i$ çš„è·ç¦»åˆ†å¸ƒæä¸å‡è¡¡ã€‚è‹¥ç›´æ¥å°†è¿™ç§è·ç¦»å…³ç³»ä¿ç•™åˆ°ä½ç»´ï¼Œè‚¯å®šä¼šå‡ºç°æ‹¥æŒ¤é—®é¢˜ã€‚å¦‚ä½•è§£å†³å‘¢ï¼Ÿè¿™ä¸ªæ—¶å€™å°±éœ€è¦è¯·å‡º $\\tau$ åˆ†å¸ƒäº†ã€‚\n\t\n\t![å›¾2-1åŠå¾„ä¸º r çš„ m ç»´çƒä¸Šçš„æ•°æ®åˆ†å¸ƒ](/images/illustration/Project/2018/11/The-Best-Way-to-Visualize-a-Dataset-Easily_2-1.jpg)\n\t<center>å›¾ 2-1 åŠå¾„ä¸º r çš„ m ç»´çƒä¸Šçš„æ•°æ®åˆ†å¸ƒ</center>\n\n- å‡è½» `æ‹¥æŒ¤é—®é¢˜` çš„æ–¹æ³•ï¼šåœ¨é«˜ç»´ç©ºé—´ä¸‹æˆ‘ä»¬ä½¿ç”¨ `é«˜æ–¯åˆ†å¸ƒ` å°†è·ç¦»è½¬æ¢ä¸ºæ¦‚ç‡åˆ†å¸ƒï¼›åœ¨ä½ç»´ç©ºé—´ä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨æ›´åŠ  `åé‡é•¿å°¾åˆ†å¸ƒ` çš„æ–¹å¼æ¥å°†è·ç¦»è½¬æ¢ä¸ºæ¦‚ç‡åˆ†å¸ƒï¼Œä½¿å¾—é«˜ç»´åº¦ä¸‹ä¸­ä½ç­‰çš„è·ç¦»åœ¨æ˜ å°„åèƒ½å¤Ÿæœ‰ä¸€ä¸ªè¾ƒå¤§çš„è·ç¦»ã€‚ä½¿ç”¨äº†è‡ªç”±åº¦ä¸º 1 çš„ $\\tau$ åˆ†å¸ƒä¹‹åçš„ $q$ å˜åŒ–ï¼Œå¦‚ä¸‹:\n\n\t$$\n\tq_{i,j} = \\frac{\n\t\t(1 + ||y^{(i)} - y^{(j)}||^2)^{-1}\n\t}{ \n\t\t\\sum_{k \\neq l} (1 + ||y^{(k)} - y^{(l)}||^2)^{-1}\n\t}\n\t\\tag{9}\n\t$$\n\t\n\tä¾ç„¶ç”¨ K-L è·ç¦»è¡¡é‡ä¸¤ä¸ªåˆ†å¸ƒä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œæ­¤æ—¶æ¢¯åº¦å˜ä¸ºï¼š\n\t\n\t$$\n\t\\frac{\\delta C}{\\delta y_i} = \n\t4 \\sum_j ( p_{i, j} - q_{i, j})( y_i - y_j )(1 + ||y^{(i)} - y^{(j)}||^2)^{-1}\n\t\\tag{10}\n\t$$\n\t\n- `æ€»ç»“`ï¼šç»¼ä¸Šæ‰€è¿°ï¼Œä»ä¸å¯¹ç§°çš„ SNE ç®—æ³•åˆ° t-SNE ç®—æ³•ï¼Œæ‰€åšçš„æ”¹è¿›å·¥ä½œï¼š\n\t- æŠŠ SNE å˜ä¸ºå¯¹ç§° SNEï¼›\n\t- åœ¨ä½ç»´ç©ºé—´ä¸­é‡‡ç”¨äº† $\\tau$ åˆ†å¸ƒä»£æ›¿åŸæ¥çš„é«˜æ–¯åˆ†å¸ƒï¼Œé«˜ç»´ç©ºé—´ä¸å˜ã€‚\n\t- å…·ä½“ç®—æ³•æ­¥éª¤å¯å‚è€ƒäº†æ–‡ç«  [7] çš„ [t-SNE](https://zhuanlan.zhihu.com/p/33722444) å›¾æ–‡è§£é‡Šï¼Œå¦‚å›¾ 2-2 æ‰€ç¤ºã€‚\n\n\t![å›¾2-2t-SNEçš„ç®—æ³•æ­¥éª¤](/images/illustration/Project/2018/11/The-Best-Way-to-Visualize-a-Dataset-Easily_2-2.jpg)\n\t<center>å›¾ 2-2 t-SNE çš„ç®—æ³•æ­¥éª¤</center>\n\t\n### æ•°æ®å±•ç¤º\n\t\n## å‚è€ƒèµ„æ–™\n- [1] [å¾®è°ƒ. t-SNE æ•°æ®å¯è§†åŒ–ç®—æ³•çš„ä½œç”¨æ˜¯ä¸ºäº†é™ç»´è¿˜æ˜¯è®¤è¯†æ•°æ®. zhihu.com](https://www.zhihu.com/question/52022955/answer/387753267)\n- [2] [Chrispher. t-SNE å®Œæ•´ç¬”è®° [OL]. datakit.cn. 2017](http://www.datakit.cn/blog/2017/02/05/t_sne_full.html#12-sneåŸç†æ¨å¯¼)\n- [3] [Bindog. ä» SNE åˆ° t-SNE å†åˆ° LargeVis. bindog.github.io. 2016](http://bindog.github.io/blog/2016/06/04/from-sne-to-tsne-to-largevis/)\n- [4] Maaten L, Hinton G. Visualizing data using t-SNE [J]. Journal of machine learning r/esearch, 2008, 9(Nov): 2579-2605.\n- [5] Tang J, Liu J, Zhang M, et al. Visualizing large-scale and high-dimensional data[C]. International World Wide Web Conferences Steering Committee, 2016: 287-297.\n- [6] Tang J, Qu M, Wang M, et al. Line: Large-scale information network embedding[C]. International World Wide Web Conferences Steering Committee, 2015: 1067-1077.\n- [7] [å¾å°è´±æ°‘. é™ç»´æŠ€æœ¯è§£æï¼šPCA, t-SNE and Auto Encoders. zhihu.com](https://zhuanlan.zhihu.com/p/33722444)\n- [8] [Bindog. t-SNEä½¿ç”¨è¿‡ç¨‹ä¸­çš„ä¸€äº›å‘. jianshu.com. 2018](https://www.jianshu.com/p/631d6529e0df)","tags":["t-SNE"],"categories":["Project"]},{"title":"è®²åº§ | å¦‚ä½•è½»æ¾æœ‰æ•ˆåœ°é¢„å¤„ç†æ•°æ®","url":"%2F2018%2F11%2Fthe-best-way-to-prepare-a-dataset-easily.html","content":"\n{% note default %}  \nä½œè€…ï¼šSiraj Raval  \nè¯¾å ‚ï¼šThe Best Way to Prepare a Dataset Easily | [Bilibili](https://www.bilibili.com/video/av35419601) | [Youtube](https://www.youtube.com/watch?v=0xVqLJe9_CY)  \næºç ï¼šllSourcell.Prepare dataset challenge | [Github](https://github.com/llSourcell/prepare_dataset_challenge)  \n{% endnote %}\n\næœ¬è¯¾å ‚çš„æ ¸å¿ƒæ˜¯è®²è¿°æ•°æ®åˆ†æå‰å¤•çš„æ•°æ®é¢„å¤„ç†è¿‡ç¨‹ï¼ŒåŒ…æ‹¬å‡†å¤‡æ•°æ®é˜¶æ®µå’Œå¤„ç†æ•°æ®é˜¶æ®µã€‚å†å…·ä½“ä»¥å®ä¾‹ï¼šé€šè¿‡å¤§è„‘æ‰«æå…¬å…±æ•°æ®é›†æ¥å»ºæ¨¡ã€åˆ†æï¼Œé¢„æµ‹æŸäººæ˜¯å¦åœ¨å†¥æƒ³ã€‚\n\n<!-- More -->\n\n## æ›´æ–°è¿›åº¦\n- 2018.11.20ï¼šé‡æ–°æ•´ç†ã€Œæ•°æ®é¢„å¤„ç†ã€ç« èŠ‚ï¼Œç»†åŒ–äº†é¢„å¤„ç†çš„ç»†èŠ‚ï¼Œä¸”é‡æ–°æ•´ç†äº†é¢„å¤„ç†çš„ç»“æ„ï¼›\n\n## å‡†å¤‡æ•°æ®\n- `å‡†å¤‡æ•°æ®é˜¶æ®µ`ï¼šå†³å®šä½¿ç”¨ä½•ç§æ•°æ®ï¼Œè¿™è·Ÿä½ è¯•å›¾è§£å†³çš„é—®é¢˜ç›¸å…³ã€‚\n- `å…³äºæ•°æ®æ¥æº`ï¼šèƒ½ä½¿ç”¨å…¬å…±æ•°æ®é›†è§£å†³çš„é—®é¢˜ï¼Œå°½é‡ä½¿ç”¨å…¬å…±æ•°æ®é›†ã€‚è‹¥å…¬å…±æ•°æ®é›†æ— æ³•æ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œå¼•ç”¨æ¯›ä¸»å¸­çš„è€è¯ï¼šæ²¡æœ‰æ¡ä»¶ä¾¿è‡ªå·±åˆ›é€ æ¡ä»¶ã€‚å³æˆ‘ä»¬é€šè¿‡ç½‘ç»œçˆ¬è™«å½¢å¼ï¼ŒæŠŠåŸå§‹ç½‘é¡µä¸­çš„æ•°æ®æ‰’å–ä¸‹æ¥ï¼Œè‡ªå·±æ¥ \"åˆ›é€ \" æ•°æ®é›†ã€‚\n\t- `å…¬å…±æ•°æ®é›†`ï¼š[Google é«˜çº§æœç´¢](https://www.google.com/advanced_search?hl=zh-CN&fg=1)ã€[Kaggle](https://www.kaggle.com/)ã€‚\n\t- `ç½‘ç»œçˆ¬è™«`ï¼šç½‘ç«™æä¾› API æ¥å£ã€Python æ‰’å–ç½‘é¡µæ•°æ®ã€‚\n\n### å…¬å…±æ•°æ®é›†\n#### è°·æ­Œé«˜çº§æœç´¢\n- `å®˜æ–¹ç½‘å€`ï¼š[Google é«˜çº§æœç´¢](https://www.google.com/advanced_search?hl=zh-CN&fg=1)\n- `ä½¿ç”¨æ–¹å¼`ï¼šé¡¾åæ€ä¹‰ï¼Œå³é€šè¿‡é«˜çº§æœç´¢çš„é™åˆ¶æ¡ä»¶å»è·å¾—æ›´ç²¾ç¡®çš„æœç´¢ç»“æœã€‚å…·ä½“åœ°ï¼Œæˆ‘ä»¬ä¾§é‡å…³æ³¨ä»¥ä¸‹æ£€ç´¢é¡¹ï¼Œå¯è·å¾—æ„æƒ³ä¸åˆ°çš„æ•ˆæœã€‚\n\t- `å…³é”®å­—éƒ¨åˆ†`ï¼šå¡«å†™é—®é¢˜ç›¸å…³çš„å…³é”®è¯ï¼›\n\t- `ç½‘ç«™æˆ–åŸŸå`ï¼šå¡«å†™ `.edu`ã€`.gov`ã€`.org` ç­‰ï¼Œå³ä¸ºç¡®ä¿æ•°æ®çš„æƒå¨å¯é æ€§ï¼Œå°½å¯èƒ½ä»æ•™è‚²ã€æ”¿åºœã€ç»„ç»‡æœºæ„ä¸­è·å–å…¬å…±æ•°æ®é›†ï¼›\n\t- `æ–‡ä»¶ç±»å‹`ï¼šå¯æŒ‡å®šä¸º csv ( é€—å·åˆ†éš”å€¼ )ã€xls ( Microsoft Excel ) ç­‰æ–‡ä»¶ç±»å‹ï¼ŒPython å¯¹ csvã€xls æä¾›äº†è¾ƒå¥½çš„åº“æ”¯æŒï¼Œä¸ºäº†æ›´ä¾¿æ·è¿›è¡Œæ•°æ®å¤„ç†ï¼Œåˆ™ä¼˜å…ˆé€‰æ‹©æ­¤ç±»æ ¼å¼çš„æ–‡ä»¶ã€‚\n\n#### Kaggle\n- `å®˜æ–¹ç½‘å€`ï¼š[Kaggle](https://www.kaggle.com/)\n- `æ¨èç†ç”±`ï¼šKaggle ç”± Anthony Goldbloom åˆ›ç«‹ï¼Œä¸»è¦ä¸ºå¼€å‘å•†å’Œæ•°æ®ç§‘å­¦å®¶æä¾›ä¸¾åŠæœºå™¨å­¦ä¹ ç«èµ›ã€æ‰˜ç®¡æ•°æ®åº“ã€ç¼–å†™å’Œåˆ†äº«ä»£ç çš„å¹³å° ( [ä¸è°·æ­Œè¾¾æˆåˆä½œå…³ç³»](http://blog.kaggle.com/2017/03/08/kaggle-joins-google-cloud/) )ã€‚ç”±æ­¤å¯è§ï¼š\n\t- Kaggle çš„æ¯ä¸ªç«èµ›éƒ½æ˜¯ç‹¬ç«‹çš„ï¼Œæ— éœ€è®¾ç½®é¡¹ç›®èŒƒå›´ç„¶åæ”¶é›†æ•°æ®ï¼Œè¿™è®©ä½ æœ‰æ—¶é—´ä¸“æ³¨å…¶å®ƒæŠ€èƒ½ã€‚\n\t- Kaggle çš„æ¯ä¸ªæ•°æ®é›†éƒ½æœ‰è¦è§£å†³çš„ç°å®é—®é¢˜ï¼Œè¦é¢å‘å‚ä¸ç«èµ›çš„äººç¾¤ï¼Œè®©å‚èµ›è€…æ›´å®¹æ˜“æŒæ¡ä¸šåŠ¡çŸ¥è¯†å’Œæ•°æ®é›†çš„ç»“æ„ç‰¹å¾ï¼Œå› æ­¤æ•°æ®é›†çš„æè¿°æ˜¯ä¸å¯ç¼ºå°‘çš„ã€‚\n\n\t\t> ä¸å¦¨ä½“éªŒä¸‹ Kaggle ç¤¾åŒºæä¾›çš„å…¥é—¨æ¡ˆä¾‹ `æ³°å¦å°¼å…‹ï¼šç¾éš¾ä¸­çš„æœºå™¨å­¦ä¹ `ï¼Œå…¶ç›¸å…³çš„æ•°æ®é›†æè¿°ï¼š[Titanic: Machine Learning from Disaster](https://www.kaggle.com/c/titanic/data)\n\n- `å…¥é—¨æŒ‡å—`ï¼šå‚è€ƒæ–‡ç«  [æœºå™¨ä¹‹å¿ƒ. Kaggle å¦‚ä½•å…¥é—¨. zhihu.com](https://www.zhihu.com/question/23987009) æ•´ç†è€Œå¾—ã€‚\n\n\t- `é€‰æ‹©ä¸€ç§ç¼–ç¨‹è¯­è¨€`ï¼šä½ æ˜¯ä¸€ä¸ªæ¯«æ— ç»éªŒçš„æ–°æ‰‹ï¼Œæ¨è `Python`ï¼Œå› è¿™æ˜¯ä¸€ç§é€šç”¨ç¼–ç¨‹è¯­è¨€ï¼Œä½ å¯ä»¥åœ¨æ•´ä¸ªæµç¨‹ä¸­éƒ½ä½¿ç”¨å®ƒã€‚\n\n\t- `å­¦ä¹ æ¢ç´¢æ•°æ®çš„åŸºç¡€`ï¼šåŠ è½½ã€æµè§ˆå’Œç»˜åˆ¶ä½ çš„æ•°æ®ï¼ˆ`å³æ¢ç´¢æ€§åˆ†æ`ï¼‰çš„èƒ½åŠ›ï¼Œå› ä¸ºå®ƒå¯ä»¥ä¸ºä½ å°†åœ¨æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­åšçš„å„ç§å†³ç­–æä¾›ä¿¡æ¯ã€‚  \n\n\t\tè‹¥ä½ é€‰æ‹©äº† Python è·¯çº¿ï¼Œæ¨èä½¿ç”¨ä¸“é—¨ä¸ºè¿™ä¸ªç›®çš„è®¾è®¡çš„ `Seaborn` åº“ã€‚å…¶ä¸­æœ‰é«˜å±‚é¢çš„ç»˜å›¾å‡½æ•°ï¼Œå¯ä»¥ç»˜åˆ¶è®¸å¤šæœ€å¸¸è§å’Œæœ‰ç”¨çš„å›¾è¡¨ã€‚å¯å‚è€ƒèµ„æ–™ï¼š\n\n\t\t- [Seaborn å®˜ç½‘](https://seaborn.pydata.org/)\n\n\t\t- [Seaborn æ•™ç¨‹. EliteDataScience.com](https://elitedatascience.com/python-seaborn-tutorial)\n\n\t\t- [æœºå™¨ä¹‹å¿ƒ. æ•°æ®ç§‘å­¦ç›¸å…³çš„ Python åº“ä»‹ç»](https://mp.weixin.qq.com/s?__biz=MzA3MzI4MjgzMw==&mid=2650726730&idx=2&sn=89d176a782875afaafc69dd40cbee006&chksm=871b2534b06cac22a9235168a8d8867b97f795d2fba4435a2c7ec18b1039703903e4a79560bd&scene=21#wechat_redirect)\n\n\t- `è®­ç»ƒä½ çš„ç¬¬ä¸€ä¸ªæœºå™¨å­¦ä¹ æ¨¡å‹`ï¼šå°†æ•°æ®é›†åˆ†æˆç‹¬ç«‹çš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œäº¤å‰éªŒè¯é¿å…è¿‡æ‹Ÿåˆä»¥åŠä½¿ç”¨åˆé€‚çš„è¡¨ç°è¯„ä»·æŒ‡æ ‡ã€‚å¯¹äº Pythonï¼Œæœ€å¥½çš„é€šç”¨æœºå™¨å­¦ä¹ åº“æ˜¯ Scikit-Learnã€‚å¯å‚è€ƒèµ„æ–™ï¼š\n\n\t\t- [Scikit-Learn å®˜ç½‘](https://link.zhihu.com/?target=http%3A//scikit-learn.org/stable/)\n\n\t\t- [Scikit-Learn æ•™ç¨‹. EliteDataScience.com](https://elitedatascience.com/python-machine-learning-tutorial-scikit-learn)\n\n\t\t- [æœºå™¨ä¹‹å¿ƒ. ä»é›¶å¼€å§‹æŒæ¡ Python æœºå™¨å­¦ä¹ ](https://mp.weixin.qq.com/s?__biz=MzA3MzI4MjgzMw==&mid=2650724242&idx=1&sn=703d242700e29813d6c482daf6b211c5&chksm=871b13ecb06c9afa28f8aad729496620078985e4eae8a1296fc407dbd70c1d70fabb3b2817fa&scene=21#wechat_redirect)\n\n\t\t- [Ben Hamner (Kaggle CTO). æœºå™¨å­¦ä¹ çš„å…«ä¸ªæ­¥éª¤](https://mp.weixin.qq.com/s?__biz=MzA3MzI4MjgzMw==&mid=2650725654&idx=4&sn=505ababb07a6bee5d42a6254a7493a7e&chksm=871b1968b06c907e9f84888ecb2ced8d3f52f0129720872e97f923b94deb34383eacefb4a5cf&scene=21#wechat_redirect)\n\n\t- `è§£å†³å…¥é—¨çº§ç«èµ›`ï¼š[Getting Started](https://www.kaggle.com/competitions?sortBy=grouped&group=general&page=1&pageSize=20&category=gettingStarted) ç«èµ›éå¸¸é€‚åˆåˆå­¦è€…ï¼Œå› ä¸ºå®ƒä»¬ç»™ä½ æä¾›äº†ä½é£é™©çš„å­¦ä¹ ç¯å¢ƒï¼Œå¹¶ä¸”è¿˜æœ‰å¾ˆå¤šç¤¾åŒºåˆ›é€ çš„æ•™ç¨‹ã€‚\n\n\t\t> Kaggle çš„ç«èµ›åˆ†æˆå››ä¸ªç±»åˆ«ï¼š  \n\t\t> `Featured`ï¼šé€šå¸¸æ˜¯ç”±å…¬å¸ã€ç»„ç»‡ç”šè‡³æ”¿åºœèµåŠ©çš„ï¼Œå¥–é‡‘æ± æœ€å¤§ã€‚     \n\t\t> `Research`ï¼šç ”ç©¶æ–¹å‘çš„ç«èµ›ï¼Œåªæœ‰å¾ˆå°‘æˆ–æ²¡æœ‰å¥–é‡‘ã€‚å®ƒä»¬ä¹Ÿæœ‰éä¼ ç»Ÿçš„æäº¤æµç¨‹ã€‚  \n\t\t> `Recruitment`ï¼šè¿™äº›æ˜¯ç”±æƒ³è¦æ‹›è˜æ•°æ®ç§‘å­¦å®¶çš„å…¬å¸èµåŠ©çš„ã€‚ç›®å‰ä»ç„¶ç›¸å¯¹å°‘è§ã€‚  \n\t\t> `Getting Started`ï¼šè¿™äº›ç«èµ›çš„ç»“æ„å’Œ Featured ç«èµ›ç±»ä¼¼ï¼Œä½†æ²¡æœ‰å¥–é‡‘ã€‚å®ƒä»¬æœ‰æ›´ç®€å•çš„æ•°æ®é›†ã€å¤§é‡æ•™ç¨‹å’Œæ»šåŠ¨çš„æäº¤çª—å£è®©ä½ å¯ä»¥éšæ—¶è¾“å…¥ã€‚\n\n### ç½‘ç»œçˆ¬è™«\n#### ç½‘ç«™ API\n- å½“å…¬å…±æ•°æ®é›†æ— æ³•æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚æ—¶ï¼Œåˆ™éœ€è¦è‡ªå®šä¹‰é‡‡é›†æ•°æ®ã€‚è€Œé‡‡é›†æ•°æ®åˆ™é€šè¿‡ç½‘ç»œçˆ¬è™«å®ç°ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„ç½‘é¡µï¼Œéƒ½éœ€è¦æˆ‘ä»¬èŠ±è´¹å¤§åŠŸå¤«å»æ‰’å–è·å¾—ï¼Œè€Œæ˜¯å®ƒä»¬æœ¬èº«å°±æä¾›äº†è°ƒç”¨æ•°æ®çš„ APIã€‚\n- å½“ç„¶ï¼Œä¹Ÿæœ‰ Github å¤§ç¥æœé›†å¹¶æ•´ç†äº†è¾ƒå®ç”¨çš„ APIï¼š[TonnyL. Awesome APIs](https://github.com/TonnyL/Awesome_APIs/blob/master/README-zh.md)\n\n#### ç½‘é¡µçˆ¬è™«\n- [Beautiful Soup](https://www.crummy.com/software/BeautifulSoup/)ï¼šBeautiful Soup æ˜¯ä¸€ä¸ªå¯ä»¥ä» HTML æˆ– XML æ–‡ä»¶ä¸­æå–æ•°æ®çš„ `Python` åº“ã€‚\n- [Web Magic](http://webmagic.io/)ï¼šWeb Magic æ˜¯ä¸€ä¸ªç®€å•çµæ´»çš„ `Java` çˆ¬è™«æ¡†æ¶ã€‚åŸºäº WebMagicï¼Œä½ å¯ä»¥å¿«é€Ÿå¼€å‘å‡ºä¸€ä¸ªé«˜æ•ˆã€æ˜“ç»´æŠ¤çš„çˆ¬è™«ã€‚\n\n## å¤„ç†æ•°æ®\n- ä¸ºä»€ä¹ˆè¦å¯¹æ•°æ®é¢„å¤„ç†ï¼šç¡®ä¿æ•°æ®è´¨é‡ï¼Œä»¥ä¿è¯é¢„æµ‹çš„ç»“æœæ›´ç²¾ç¡®ã€‚è€Œæ•°æ®è´¨é‡æ¶‰åŠè®¸å¤šå› ç´ ï¼Œä¾‹å¦‚å‡†ç¡®æ€§ã€å®Œæ•´æ€§ã€ä¸€è‡´æ€§ã€å¯ä¿¡æ€§å’Œå¯è§£é‡Šæ€§ï¼Œé’ˆå¯¹ä¸åŒçš„ç‰¹æ€§ï¼Œéƒ½æœ‰å¯¹åº”çš„ `å¤„ç†ç­–ç•¥`ã€‚\n\n\t> æ³¨æ„ï¼Œæ•°æ®é¢„å¤„ç†çš„ä¸»è¦ä»»åŠ¡ä¹‹é—´å­˜åœ¨è®¸å¤šé‡å å·¥ä½œï¼Œè‹¥å‰é¢ç« èŠ‚æœ‰é˜è¿°çš„ï¼Œåé¢æ¶‰åŠçš„åˆ™ç•¥è¿‡ã€‚\n\n- æ•°æ®é¢„å¤„ç†çš„ä¸»è¦ä»»åŠ¡ï¼š\n\t- `æ•°æ®æ¸…æ´—`ï¼šç¼ºå¤±å€¼å¤„ç†ã€å…‰æ»‘å™ªå£°æ•°æ®ã€è¯†åˆ«å’Œåˆ é™¤ç¦»ç¾¤ç‚¹ã€‚\n\n\t\t> å…³äºæ•°æ®æ¸…æ´—ï¼Œä¹Ÿæ¨èé˜…è¯»å…·æœ‰å®æ“æ„ä¹‰çš„ä¸€ç¯‡åšæ–‡ï¼š[TowardsDataScience. How to Handle Missing Data](https://towardsdatascience.com/how-to-handle-missing-data-8646b18db0d4)\n\t\n\t- `æ•°æ®é›†æˆ`ï¼šå¤šä¸ªæ•°æ®æºçš„æ•°æ®åˆå¹¶ï¼Œå­˜æ”¾äºåŒä¸€ä¸ªæ•°æ®ä»“åº“ä¸­ã€‚\n\t\t- `å®ä½“è¯†åˆ«é—®é¢˜`ï¼šæ¥è‡ªå¤šä¸ªä¿¡æ¯æºï¼Œå„æ•°æ®æºä¸­çš„å®ä½“ä¹‹é—´å¦‚ä½•åŒ¹é…ï¼Œè¿™æ¶‰åŠå®ä½“è¯†åˆ«é—®é¢˜ã€‚å¦‚ä¸åŒæ•°æ®æ¥æºäºä¸åŒæ•°æ®åº“ä¸­ï¼Œç°å®æ„ä¹‰ä¸Šå®ƒä»¬æ˜¯åŒä¸€å®ä½“ï¼Œä½†å®ƒä»¬å±æ€§çš„å…ƒæ•°æ®è¡¨è¾¾å´ä¸åŒ ( å¦‚ä¸»é”® )ã€‚\n\t\t- `å†—ä½™å’Œç›¸å…³åˆ†æ`ï¼šé›†æˆå¤šä¸ªæ•°æ®æºï¼Œæ•°æ®ä¸­å¯èƒ½æœ‰å¤šç»„å±æ€§é‡å¤å­˜åœ¨ã€‚è€Œå†—ä½™å¯è¢«ç›¸å…³åˆ†ææ£€æµ‹åˆ°ï¼Œå¦‚é’ˆå¯¹åˆ†ç±» ( æ ‡ç§° ) å±æ€§çš„å¡æ–¹æ£€éªŒã€æ•°å€¼å±æ€§çš„ç›¸å…³ç³»æ•°ã€æ•°å€¼å±æ€§çš„æ–¹å·®å’Œåæ–¹å·®ã€‚\n\t\t- `å…ƒç»„é‡å¤`ï¼šå…ƒç»„çº§æ£€æµ‹é‡å¤ã€‚\n\t- `æ•°æ®å½’çº¦`ï¼šåœ¨å°½å¯èƒ½ä¿æŒæ•°æ®åŸè²Œå‰æä¸‹ï¼Œæœ€å¤§é™åº¦ç²¾ç®€æ•°æ®é‡ã€‚ç­–ç•¥åŒ…æ‹¬ï¼š\n\t\t- `ç»´å½’çº¦`ï¼šä¹Ÿç§°ä¸ºç‰¹å¾å½’çº¦ï¼Œå‡å°‘æ‰€è€ƒè™‘çš„å±æ€§çš„ä¸ªæ•°ã€‚æ–¹æ³•åŒ…æ‹¬ï¼šå°æ³¢å˜æ¢ã€ä¸»æˆåˆ†åˆ†æã€å±æ€§å­é›†é€‰æ‹©ç­‰ã€‚å½“ç„¶åˆ©ç”¨å†—ä½™å’Œç›¸å…³åˆ†æä¹Ÿæ˜¯å¯è¡Œçš„ã€‚\n\t\t- `æ•°é‡å½’çº¦`ï¼šç”¨æ›¿ä»£çš„ã€è¾ƒå°çš„æ•°æ®è¡¨ç¤ºå½¢å¼æ›¿æ¢åŸæ•°æ®ã€‚æ–¹æ³•åŒ…æ‹¬ï¼šå›å½’å’Œå¯¹æ•°-çº¿æ€§æ¨¡å‹ã€èšç±»ã€é™ç»´ç­‰ã€‚\n\t- `æ•°æ®å˜æ¢`ï¼šä¸»è¦æ€æƒ³æ˜¯å°†æ•°æ®å˜æ¢æˆ–ç»Ÿä¸€æˆé€‚åˆæ•°æ®æŒ–æ˜çš„å½¢å¼ã€‚æ–¹æ³•å¯ä»¥æ˜¯æ•°æ®å½’ä¸€åŒ–ã€æ•°æ®ç¦»æ•£åŒ–ã€æ¦‚å¿µåˆ†å±‚ç­‰ã€‚\n\t\t- `ç‰¹å¾æ„é€ `ï¼šç”±ç»™å®šçš„å±æ€§æ„é€ æ–°çš„å±æ€§å¹¶æ·»åŠ è‡³å±æ€§é›†ä¸­ã€‚\n\t\t- `èšé›†åˆ†è§£`ï¼šå¯¹æ•°æ®è¿›è¡Œ `æ±‡æ€»` æˆ–è€… `èšé›†`ã€‚å¦‚èšé›†æ—¥é”€å”®æ•°æ®ã€‚ä¸ä¹‹ç›¸å¯¹çš„æ˜¯ `åˆ†è§£`ï¼Œå¦‚å¸¸è§çš„ â€œæ—¥æœŸâ€ å±æ€§ï¼Œä¸åŒçš„éœ€æ±‚ï¼Œæˆ‘ä»¬è¦è§£æ„çš„ç²’åº¦æ˜¯ä¸åŒçš„ã€‚å¦‚é¢„æµ‹å½“æ—¥çš„æ°”æ¸©å˜åŒ–ï¼Œåˆ™æˆ‘ä»¬å¯æŠŠå¹´å’Œæœˆä»½å‰”é™¤ã€‚\n\t\t- `å½’ä¸€åŒ–`ï¼šé’ˆå¯¹æ¯ä¸€ä¸ªç‰¹å¾ ( ç»´åº¦ )ï¼Œå»å‡å€¼å’Œæ–¹å·®å½’ä¸€åŒ–ã€‚å³æŠŠå±æ€§æ•°æ®æŒ‰æ¯”ä¾‹ç¼©æ”¾ï¼Œè®©æ‰€æœ‰ç‰¹å¾åœ¨ç»Ÿä¸€æ•°é‡çº§ä¸Šè¿ä½œï¼Œå¦‚æ­¤ä¸€æ¥æ•°æ®æŒ‡æ ‡ä¹‹é—´å°±æœ‰äº†å¯æ¯”æ€§ã€‚\n\t\t- `ç¦»æ•£åŒ–`ï¼šæŠŠå±æ€§å€¼çš„åŸå§‹å€¼ç”¨åŒºé—´æ ‡ç­¾æˆ–è€…æ¦‚å¿µæ ‡ç­¾æ›¿æ¢ï¼Œå³è¿™äº›æ ‡ç­¾å¯é€’å½’åœ°ç»„ç»‡æˆæ›´é«˜å±‚æ¦‚å¿µï¼Œå¯¼è‡´æ•°å€¼å±æ€§çš„ `æ¦‚å¿µåˆ†å±‚`ã€‚\n\t\t\n\t\t\t> ä¾‹å¦‚ï¼Œæˆ‘ä»¬\tå¯¹å¹´é¾„è¿›è¡Œåˆ†å±‚ï¼š1 to 17 ä¸º Adolescentï¼›18 to 45 ä¸º Adultï¼›46 ä»¥ä¸Šä¸º Seniorã€‚\n\t\n### æ•°æ®æ¸…æ´—\n- `ç¼ºå¤±å€¼å¤„ç†`ï¼šæŸäº›å®ä¾‹æ•°æ®ä¸­å±æ€§å€¼ä¸ºç©ºï¼Œæˆ‘ä»¬é€šè¿‡éå†æ•°æ®é›†å°†å…¶å‰”é™¤ã€‚è‹¥æ•°æ®é›†ä¸­å­˜åœ¨å¤§é‡å®ä¾‹å«æœ‰ç¼ºå¤±å€¼çš„æƒ…å†µï¼Œåˆ™æˆ‘ä»¬é‡‡ç”¨ `å¡«è¡¥ç¼ºå¤±å€¼` çš„æ–¹æ³•ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ ¹æ®ä¸åŒæƒ…å†µï¼Œå¡«è¡¥ç¼ºå¤±å€¼æœ‰å¤šç§æ–¹å¼ï¼š\n\t- äººå·¥å¡«å†™ç¼ºå¤±å€¼ã€‚\n\t- ä½¿ç”¨å…¨å±€å¸¸é‡å¡«å……ç¼ºå¤±å€¼ï¼š`N/A` æˆ–è€… $\\infty $ã€‚\n\t- ä½¿ç”¨å±æ€§çš„ä¸­å¿ƒåº¦é‡ï¼šè‹¥æ˜¯å¯¹ç§°çš„æ•°æ®åˆ†å¸ƒï¼Œåˆ™ä½¿ç”¨å‡å€¼ï¼›è‹¥æ˜¯å€¾æ–œçš„æ•°æ®åˆ†å¸ƒï¼Œåˆ™ä½¿ç”¨ä¸­ä½æ•°ã€‚\n\t- ä½¿ç”¨æœ€å¯èƒ½çš„å€¼å¡«å……ç¼ºå¤±å€¼ï¼šå›å½’ã€è´å¶æ–¯å½¢å¼åŒ–çš„æ¨ç†å·¥å…·æˆ–å†³ç­–æ ‘ã€‚\n\n\t\t> æŸäº›æƒ…å†µä¸‹ï¼Œç¼ºå¤±å€¼å¹¶ä¸æ„å‘³æ•°æ®æœ‰é”™è¯¯ã€‚ä¾‹å¦‚åœ¨ç”³è¯·ä¿¡ç”¨å¡æ—¶ï¼Œè¦æ±‚å¡«å†™ç”³è¯·äººçš„é©¾é©¶æ‰§ç…§å·ï¼Œæ²¡æœ‰çš„äººå¯å¡«å†™ \"æ— \" æˆ–è€…ä¸å¡«ã€‚\n\t\n- `å…‰æ»‘å™ªå£°`ï¼šå™ªå£°æŒ‡æ•°æ®ä¸­å­˜åœ¨ç€é”™è¯¯æˆ–å¼‚å¸¸ ( åç¦»æœŸæœ›å€¼ ) çš„æ•°æ®ï¼Œè¿™äº›æ•°æ®å¯¹æ•°æ®çš„åˆ†æé€ æˆäº†å¹²æ‰°ã€‚æˆ‘ä»¬å¯é€šè¿‡ `åˆ†ç®±`ã€`å›å½’`ã€`ç¦»ç¾¤ç‚¹åˆ†æ` ç­‰å™ªå£°å…‰æ»‘æŠ€æœ¯æ¥æ¶ˆé™¤å™ªå£°ã€‚\n\t- `åˆ†ç®±`ï¼šè€ƒå¯Ÿæ•°æ®çš„è¿‘é‚» ( å‘¨å›´çš„å€¼ ) æ¥å…‰æ»‘æœ‰åºæ•°æ®å€¼ã€‚\n\t- `å›å½’`ï¼šç”¨ä¸€ä¸ªå‡½æ•°æ‹Ÿåˆæ•°æ®æ¥å…‰æ»‘æ•°æ®ã€‚\n\t- `ç¦»ç¾¤ç‚¹åˆ†æ`ï¼šäº”æ•°æ¦‚æ‹¬ ( ä¸­ä½æ•°ã€å››åˆ†ä½æ•°ã€æœ€å¤§æœ€å°è§‚æµ‹å€¼ )ã€ç®±çº¿å›¾ä¸ç¦»ç¾¤ç‚¹ï¼›æˆ–é€šè¿‡èšç±»æ¥æ£€æµ‹ç¦»ç¾¤ç‚¹ã€‚\n\n### æ•°æ®é›†æˆ\n- `å®ä½“è¯†åˆ«é—®é¢˜`ï¼š\n\t- é—®é¢˜æè¿°ï¼šæ¥è‡ªå¤šä¸ªä¿¡æ¯æºï¼Œå„æ•°æ®æºä¸­çš„å®ä½“ä¹‹é—´å¦‚ä½•åŒ¹é…ï¼Œè¿™æ¶‰åŠå®ä½“è¯†åˆ«é—®é¢˜ã€‚å¦‚ä¸åŒæ•°æ®æ¥æºäºä¸åŒæ•°æ®åº“ä¸­ï¼Œç°å®æ„ä¹‰ä¸Šå®ƒä»¬æ˜¯åŒä¸€å®ä½“ï¼Œä½†å®ƒä»¬å±æ€§çš„å…ƒæ•°æ®è¡¨è¾¾å´ä¸åŒ ( å¦‚ä¸»é”® )ã€‚\n\t- è§£å†³æ–¹æ³•ï¼šæ¯ä¸ªå±æ€§çš„å…ƒæ•°æ®åŒ…å«åå­—ã€å«ä¹‰ã€æ•°æ®ç±»å‹å’Œå±æ€§çš„å…è®¸å€¼èŒƒå›´ï¼Œä»¥åŠå¤„ç†ç©ºå€¼çš„ç©ºå€¼è§„åˆ™ã€‚è¿™æ ·çš„å…ƒæ•°æ®å¯å¸®åŠ©æˆ‘ä»¬é¿å…æ¨¡å¼é›†æˆçš„é”™è¯¯ã€‚\n- `å†—ä½™å’Œç›¸å…³åˆ†æ`ï¼šè¿™é‡Œè®¨è®ºçš„å†—ä½™æ˜¯å¯¹åº”äºæ•°æ®çš„å±æ€§ ( ç‰¹å¾ ) å±‚é¢è®¨è®ºçš„ã€‚\n\t- åˆ†ç±» ( æ ‡ç§° ) å±æ€§çš„ `å¡æ–¹æ£€éªŒ` ( $\\chi^2$ )ï¼Œå‘ç°å±æ€§ Aã€B ä¹‹é—´çš„ç›¸å…³è”ç³»ã€‚\n\t- æ•°å€¼æ•°æ®çš„ `ç›¸å…³ç³»æ•°`ï¼šè®¡ç®—å±æ€§ Aã€B ä¹‹é—´çš„ç›¸å…³ç³»æ•° ( åˆç§° Pearson ç§¯çŸ©ç³»æ•° )ï¼Œä¼°è®¡è¿™ä¸¤ä¸ªå±æ€§çš„ç›¸å…³åº¦ã€‚\n\t- æ•°å€¼æ•°æ®çš„ `åæ–¹å·®`ï¼šåæ–¹å·®å’Œæ–¹å·®æ˜¯ä¸¤ä¸ªç±»ä¼¼çš„åº¦é‡ ( æ–¹å·®å¯ç†è§£ä¸ºåæ–¹å·®çš„ç‰¹æ®Šå½¢å¼ )ï¼Œå…¶ä½œç”¨æ˜¯è¯„è¿°ä¸¤ä¸ªå±æ€§å¦‚ä½•ä¸€èµ·å˜åŒ–ã€‚\n\n### æ•°æ®å½’çº¦\n- `ç»´å½’çº¦`ï¼šä¹Ÿç§°ä¸ºç‰¹å¾å½’çº¦ï¼Œå‡å°‘æ‰€è€ƒè™‘çš„å±æ€§çš„ä¸ªæ•°ã€‚\n\t- é€šä¿—ç†è§£ï¼šå³ä»åŸæœ‰çš„ç‰¹å¾ä¸­åˆ é™¤ä¸é‡è¦æˆ–ä¸ç›¸å…³çš„ç‰¹å¾ã€‚æ¯”å¦‚ï¼ŒæŸäº›å®ä¾‹æ•°æ®ä¸­å±æ€§å€¼ä¸æ‰€ç ”ç©¶çš„é—®é¢˜æ— å…³ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ€§åœ°å‰”é™¤ã€‚\n\n\t\t> æœ¬è¯¾å ‚å®ä¾‹ä¸­ï¼Œæ˜¯é¢„æµ‹å¿—æ„¿è€…æ˜¯å¦åœ¨å†¥æƒ³ã€‚è€Œç›¸å…³æ•°æ®é›†å‘ˆç°ä¸‰ç§ç‰¹å¾ï¼šç²¾ç¥ä¸“æ³¨åº¦ã€å†·é™åº¦ä»¥åŠå¿—æ„¿è€…çš„å¹´é¾„ã€‚è€Œå¿—æ„¿è€…æ˜¯å¦å‘ç”Ÿå†¥æƒ³æ´»åŠ¨ï¼Œå¾ˆæ˜æ˜¾ä¸æ€§åˆ«æ— å…³ï¼Œåˆ™å¯é€‰æ‹©æ€§åœ°å‰”é™¤è¯¥å±æ€§ã€‚\n\n\t- æ–¹æ³•åŒ…æ‹¬ï¼šå°æ³¢å˜æ¢ã€ä¸»æˆåˆ†åˆ†æã€å±æ€§å­é›†é€‰æ‹©ç­‰ã€‚å½“ç„¶åˆ©ç”¨å†—ä½™å’Œç›¸å…³åˆ†æä¹Ÿæ˜¯å¯è¡Œçš„ã€‚\n\n- `æ•°é‡è§„çº¦`ï¼šç”¨æ›¿ä»£çš„ã€è¾ƒå°çš„æ•°æ®è¡¨ç¤ºå½¢å¼æ›¿æ¢åŸæ•°æ®ã€‚\n\t- é€šä¿—ç†è§£ï¼šå³é€šè¿‡å¯¹ç‰¹å¾è¿›è¡Œé‡ç»„æ¥å‡å°‘ç‰¹å¾çš„ä¸ªæ•°ã€‚æ¯”å¦‚ï¼ŒæŸäº›å®ä¾‹æ•°æ®ä¸­å±æ€§ ( ç»´åº¦ ) å¤ªå¤šï¼Œæˆ‘ä»¬äººç±»å¤§è„‘æ˜¯éš¾ä»¥ç†è§£å®ƒçš„ã€‚åˆ™æˆ‘ä»¬å¯é€šè¿‡é™ç»´æ–¹æ³•ä»¥åŠå¯è§†åŒ–å·¥å…·ï¼Œä»¥äºŒç»´æˆ–è€…ä¸‰ç»´çš„çš„å½¢å¼å¤ç°æ•°æ® ( çš„ç‰¹å¾ )ã€‚\n\t- æ–¹æ³•åŒ…æ‹¬ï¼šå›å½’å’Œå¯¹æ•°-çº¿æ€§æ¨¡å‹ã€æ•°æ®ç«‹æ–¹ä½“èšé›†ã€èšç±»ã€é™ç»´ç­‰ã€‚\n\n### æ•°æ®å˜æ¢\n- `å½’ä¸€åŒ–`ï¼šé’ˆå¯¹æ¯ä¸€ä¸ªç‰¹å¾ ( ç»´åº¦ )ï¼Œå»å‡å€¼å’Œæ–¹å·®å½’ä¸€åŒ–ã€‚å³æŠŠå±æ€§æ•°æ®æŒ‰æ¯”ä¾‹ç¼©æ”¾ï¼Œè®©æ‰€æœ‰ç‰¹å¾åœ¨ç»Ÿä¸€æ•°é‡çº§ä¸Šè¿ä½œï¼Œå¦‚æ­¤ä¸€æ¥æ•°æ®æŒ‡æ ‡ä¹‹é—´å°±æœ‰äº†å¯æ¯”æ€§ã€‚\n- `ç¦»æ•£åŒ–`ï¼šæŠŠå€¼ç”¨åŒºé—´æ ‡ç­¾æˆ–è€…æ¦‚å¿µæ ‡ç­¾æ›¿æ¢ï¼Œå³è¿™äº›æ ‡ç­¾å¯é€’å½’åœ°ç»„ç»‡æˆæ›´é«˜å±‚æ¦‚å¿µï¼Œå¯¼è‡´æ•°å€¼å±æ€§çš„ `æ¦‚å¿µåˆ†å±‚`ã€‚\n\t- `æ•°å€¼å±æ€§`ï¼šåœ¨å®é™…æ“ä½œä¸­ï¼Œå³æŠŠè¿ç»­å‹ç‰¹å¾çš„å€¼ç¦»æ•£åŒ–ï¼Œä½¿ä¹‹æˆä¸ºå°‘é‡çš„åŒºé—´ï¼Œæ¯ä¸ªåŒºé—´æ˜ å°„åˆ°ä¸€ä¸ªç¦»æ•£ç¬¦å·ã€‚è¿™ç§æŠ€æœ¯çš„å¥½å¤„åœ¨äºç®€åŒ–äº†æ•°æ®æè¿°ï¼Œå¹¶æ˜“äºç†è§£æ•°æ®å’Œæœ€ç»ˆçš„æŒ–æ˜ç»“æœã€‚\n\t- `æ ‡ç§° (åˆ†ç±») å±æ€§`ï¼šæ ‡ç§°å±æ€§å…·æœ‰æœ‰ç©·å¤šä¸ªä¸åŒå€¼ï¼Œä¸”å€¼ä¹‹é—´æ— åºã€‚ä¾‹å¦‚åœ°ä½ä½ç½®ã€å¹´é¾„å±‚æ¬¡ç­‰ã€‚å¯¹äºæ ‡ç§°å±æ€§ï¼Œæˆ‘ä»¬éœ€è¦äººå·¥å®šä¹‰æ¦‚å¿µåˆ†å±‚ã€‚\n- `å‘é‡åŒ–`ï¼šå½“æˆ‘ä»¬å·²åŸºæœ¬å®Œæˆæ•°æ®å¤„ç†é˜¶æ®µçš„å·¥ä½œï¼Œå¾—åˆ°å¯ä¾›ä½¿ç”¨çš„æ•°æ®é›†ã€‚é‚£ä¹ˆç´§æ¥ç€çš„æ­¥éª¤ï¼Œå³æŠŠå®ä¾‹æ•°æ®è½¬æ¢æˆ `ç‰¹å¾å‘é‡` ( å‘é‡æ˜¯ç‰¹å¾çš„æ•°å€¼è¡¨ç¤ºå½¢å¼ )ï¼Œæ‰€æœ‰å®ä¾‹çš„ç‰¹å¾å‘é‡ç»„æˆ `ç‰¹å¾çŸ©é˜µ`ã€‚ç„¶åï¼Œåœ¨ `Python` ä¸­é€šè¿‡ `Numpy` å’Œ `Pandas` åŒ…è£…ï¼Œå³å®é™…ä¸Šè®© `narray` æ•°ç»„æˆä¸ºç‰¹å¾çŸ©é˜µçš„å­˜å‚¨å’Œè¿ç®—çš„åª’ä»‹ã€‚\n\n\tå½“å®Œæˆä»¥ä¸Šæµç¨‹åï¼Œæ•°æ®é¢„å¤„ç†é˜¶æ®µå³å¯å‘Šä¸€æ®µè½ï¼Œç´§æ¥ç€ä¾¿å¯å¼€å§‹å¼€å§‹è®­ç»ƒæ¨¡å‹äº†ã€‚\n\n\t> ç”±äºç¯‡å¹…çš„ç¼˜æ•…ï¼Œæ•°æ®é¢„å¤„ç†çš„è®¨è®ºæš‚åˆ°æ­¤ä¸ºæ­¢ã€‚å½“ç„¶ï¼Œæ•°æ®é¢„å¤„ç†çš„å†…å®¹ä¸ä»…å¦‚æ­¤ï¼Œæ›´è¯¦ç»†çš„ç†è®ºç»†èŠ‚å¯å‚è¯¦ Jiewei Han çš„ã€Šæ•°æ®æŒ–æ˜ï¼šæ¦‚å¿µä¸æŠ€æœ¯ã€‹$^{[1]}$ã€‚ è€Œæ•°æ®é¢„å¤„ç†åœ¨ Python ä¸­å¦‚ä½•å®ç°ï¼Œåˆ™å‚è€ƒ Keras ä¹‹çˆ¶å¼—æœ—ç´¢ç“¦Â·è‚–è±çš„ ã€ŠPythonæ·±åº¦å­¦ä¹ ã€‹$^{[2]}$ã€‚\n\n## å‚è€ƒèµ„æ–™\n- [1] [Jiewei Han, Micheline Kamber and Jian Pei. æ•°æ®æŒ–æ˜ (ç¬¬ä¸‰ç‰ˆ) [M]. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾, 2018, 56-79.](https://book.douban.com/subject/2038599/)\n- [2] [å¼—æœ—ç´¢ç“¦Â·è‚–è±ï¼Œå¼ äº® (è¯‘). Python æ·±åº¦å­¦ä¹  [M]. äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾, 2018, 80-82.](https://book.douban.com/subject/30293801/)","tags":["æ•°æ®é¢„å¤„ç†"],"categories":["Project"]},{"title":"æå®¢ | å¤šå¥—è½¯ä»¶è§£å†³æ–¹æ¡ˆåŠ©ä½ æé«˜ç”Ÿäº§åŠ›","url":"%2F2018%2F11%2Fsoftware-solution.html","content":"\nåœ¨è¾“å‡ºæœ¬åšæ–‡ä¹‹åˆï¼Œæ„å›¾æ˜¯å¾ˆçº¯ç²¹çš„ï¼Œå³æŠŠå¹³æ—¥é‡Œä½“éªŒä½³ã€å°‘æŠ˜è…¾ã€è¸©è¿‡å‘çš„ç§ç§è½¯ä»¶æ•´ç†æˆå†Œï¼Œä»¥ä¾¿äºæ—¥åè£…æœºæˆ–æœ‹å‹é—´å®‰åˆ©ã€åˆ†äº«ã€‚\n\nå†è€…ï¼Œåœ¨å¹³æ—¥çš„å·¥ä½œã€å¨±ä¹ç¯å¢ƒä¸­ï¼Œå•ä¸€çš„è½¯ä»¶è¿œè¿œä¸å¤Ÿæ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ã€‚è½¯ä»¶è™½ç„¶ä¸€å®šç¨‹åº¦ä¸Šè§£æ”¾äº†æˆ‘ä»¬çš„ç”Ÿäº§åŠ›ï¼Œè€Œéšç€ä¸ªäººçš„éœ€æ±‚æ—¥ç›Šå¢é•¿ã€æ¶ˆè´¹æ°´å¹³å‡çº§ï¼Œäº«å—çš„æœåŠ¡é€æ¸è¢«åˆ†æ•£ç»†åŒ–ï¼Œæˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡æå‡äº†ï¼Œä½†äººä¸è½¯ä»¶æ›´å¯†åˆ‡çš„äº¤äº’è®©æˆ‘ä»¬ç´§å¯†åœ°æ†ç»‘åœ¨ä¸€èµ·ï¼Œä¼¼ä¹æˆ‘ä»¬å¹¶æ²¡æœ‰è¢«çœŸæ­£æ„ä¹‰åœ° \"è§£æ”¾\" å‡ºæ¥ï¼Ÿå…¶æ¬¡ï¼Œæ¯æ¬¾è½¯ä»¶ç»ˆç©¶æ˜¯ä¸€ä¸ªä½“ï¼Œä¸€äº›è¿è´¯æ€§çš„äº¤äº’éœ€æ±‚ï¼Œå®ƒä»¬æ˜¯å¾ˆéš¾æˆ–æ— æ³•ç‹¬è‡ªå®Œæˆçš„ï¼Œæ•…æˆ‘ä»¬éœ€è¦æ›´é«˜é˜¶çš„å®Œæ•´è½¯ä»¶è§£å†³æ–¹æ¡ˆã€‚ä¾‹å¦‚ï¼Œæ™ºèƒ½è·¯ç”±ç³»ç»Ÿ ( ç½‘ç»œä¸­å¿ƒ + æ§åˆ¶ä¸­å¿ƒ )ã€ä¸ªäººåšå®¢ ( ç¬”è®° + å‚¨å­˜ + åˆ†äº« )ã€ä¸ªäººç§æœ‰äº‘ ( å‚¨å­˜ + è¿œç¨‹ + å…±äº« )ã€æ™ºèƒ½å®¶å±…æ§åˆ¶ä¸­å¿ƒ ( è·¨å¹³å° + æ§åˆ¶ä¸­å¿ƒ )ã€å®¶åº­å½±é™¢ä¸­å¿ƒç­‰ã€‚å³æˆ‘ä»¬é€šè¿‡ä¸“èŒçš„æœåŠ¡å™¨ï¼Œè¿ä½œç›¸åº”çš„æ“ä½œç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºï¼Œä»¥æä¾›å®Œæ•´çš„è½¯ä»¶è§£å†³æ–¹æ¡ˆã€‚\n\næœ€åï¼Œè°ˆèµ·ä¸“èŒçš„æœåŠ¡å™¨ä¾¿æ˜¯ç»„è£…ä¸€å° `å®¶ç”¨æœåŠ¡å™¨`ã€‚åœ¨æœåŠ¡å™¨ä¸­ï¼Œæˆ‘ä»¬å¯é€šè¿‡ `è™šæ‹Ÿæœº` å®ç°ç§æœ‰äº‘ã€æ™ºèƒ½è·¯ç”±ç³»ç»Ÿã€Web æœåŠ¡å™¨ã€ä»£ç æ‰˜ç®¡æœåŠ¡å™¨ç­‰ï¼ŒæŠŠä»¥ä¸Šç³»ç»Ÿæ–¹æ¡ˆæ•´åˆåˆ° N in 1 çš„æœåŠ¡å™¨ä¸­ï¼Œæ—¢å……åˆ†é‡åˆ©ç”¨äº†ç¡¬ä»¶èµ„æºï¼ŒåŒæ—¶ä¹ŸèŠ‚çº¦äº†æˆ¿é—´çš„ç‰©ç†ç©ºé—´ã€‚\t\n<!-- More -->\n\t\n## æ›´æ–°è¿›åº¦\n- 2018.10.22ï¼šå®Œæˆåˆç¨¿ï¼›\n- 2018.10.25ï¼šå®Œæˆç³»ç»Ÿè§£å†³æ–¹æ¡ˆçš„ã€Œ ä¸ªäººåšå®¢è§£å†³æ–¹æ¡ˆ ã€ç« èŠ‚å†…å®¹ï¼›\n- 2018.11.02ï¼šæ›´æ–°ã€Œ å¸¸å¤‡è½¯ä»¶æ¸…å• ã€ç« èŠ‚å†…å®¹ï¼›\n- 2018.11.03ï¼šæ›´æ–°ã€Œæµè§ˆå™¨æ’ä»¶ã€ç« èŠ‚å†…å®¹ï¼›\n- 2018.11.05ï¼šå®Œæˆç³»ç»Ÿè§£å†³æ–¹æ¡ˆçš„ã€Œä»£ç æ‰˜ç®¡æ–¹æ¡ˆï¼šSvnã€ç« èŠ‚å†…å®¹ï¼›\n- 2019.01.28ï¼šæ–°å¢ã€Œä¿¡ä»°è£…æœº ã€ç« èŠ‚å†…å®¹ï¼›\n- 2019.02.20ï¼šæ›´æ–°ã€Œä¿¡ä»°è£…æœº ã€ç« èŠ‚å†…å®¹ï¼›\n\t\n## åŠå…¬åˆ©å™¨ï¼šå¸¸å¤‡è½¯ä»¶æ¸…å•\n### å¼€ç¯‡å¼•è¨€\n- `é€‰åº”ç”¨çš„æ„å›¾`ï¼šå¸¸å¤‡è½¯ä»¶æ¸…å•ï¼Œè¦†ç›–äº†åŠå…¬ã€å¼€å‘ã€è®¾è®¡ã€å†™ä½œã€å½±éŸ³ã€ç³»ç»Ÿç­‰å‡ å¤§ç±»åˆ«çš„åº”ç”¨ï¼Œä¸”é€‰åº”ç”¨çš„æ„å›¾éƒ½æ˜¯å¾ˆæ˜ç¡®çš„ï¼Œå³åŠå…¬ç±»åº”ç”¨ï¼Œåº”å°½å¯èƒ½åœ°æå‡æ•ˆç‡ä»¥æé«˜ç”Ÿäº§åŠ›ï¼›å¨±ä¹ç±»åº”ç”¨ï¼Œåº”æ›´ä¾¿æ·åœ°äº¤äº’ä½“éªŒä»¥æå‡å¹¸ç¦æ„Ÿï¼›ç³»ç»Ÿç±»åº”ç”¨ï¼Œåº”èæ´½åœ°æ¥å…¥ç³»ç»Ÿä»¥ç„•å‘ Mac æœ¬è¯¥æ‹¥æœ‰çš„å¼ºå¤§æœ¬è´¨ã€‚\n- `é€‰åº”ç”¨çš„æ–¹æ³•`ï¼šå†è€…ï¼Œä¸ºä»€ä¹ˆæ¨èè¿™äº›åº”ç”¨ï¼Œä¸»è¦è€ƒè™‘å› ç´ æ˜¯ï¼š\n\t- æ–¹æ¡ˆä¸€ï¼šä¸€æ–¹é¢æ˜¯é’ˆå¯¹å¹³å°ä¼˜åŒ–çš„ç‹¬å å¹³å°åº”ç”¨ï¼Œå¦ä¸€æ–¹é¢åˆ™æ˜¯ä¸ªäººçš„ä¸»æˆ˜è£…å¤‡æ˜¯ Macbook Proï¼Œæ•…æ¨èåº”ç”¨ä»¥ `MacOS` å…ˆå…¥ä¸ºä¸»ï¼Œå†è€ƒè™‘å…¶ä»–æ–¹æ¡ˆï¼›\n\t- æ–¹æ¡ˆäºŒï¼šåˆ™æ˜¯ `å…¨å¹³å°é€šç”¨` çš„æ–¹æ¡ˆã€‚\n\t- æ–¹æ¡ˆä¸‰ï¼šæ€»æœ‰åŠŸèƒ½æ€§åº”ç”¨æ˜¯ç‹¬å å¹³å°çš„ï¼Œé‡åˆ°æ­¤æƒ…å†µåˆ™æä¾› `é€€é˜¶æ–¹æ¡ˆ`ï¼Œå³å¯»æ‰¾åŒç±»åŠŸèƒ½çš„ä¼˜ç§€åº”ç”¨ä½œä¸ºæ›¿ä»£æ–¹æ¡ˆã€‚\n- `é€‰åº”ç”¨çš„å‡†åˆ™`ï¼šå…¶æ¬¡ï¼Œæˆ‘ä»¬ç§‰æ‰¿ `å…è´¹å¼€æº` çš„ç†å¿µæ¥å¯»æ‰¾é«˜è´¨é‡åº”ç”¨ï¼Œä½†å¹¶ä¸ä¼šä¸€å‘³è¿½æ±‚å…è´¹è€Œé”™è¿‡æˆ–æ”¾å¼ƒæ”¶è´¹çš„åº”ç”¨ã€‚ç”±äºæ–¹æ¡ˆåˆåˆ¶å®šï¼ŒåæœŸä¼šä¸æ–­è¡¥å……å†…å®¹ï¼Œé€ æˆä¸ä¾¿è¯·è°…è§£ã€‚\n\n### å½±éŸ³åª’ä½“\n#### IINA\n- åº”ç”¨ç±»å‹ï¼šğŸ“º | åª’ä½“æ’­æ”¾å™¨\n- æ˜¯å¦æ”¶è´¹ï¼šğŸ†“ | å¼€æºå…è´¹\n- æ”¯æŒå¹³å°ï¼š`MacOS`\n- å®˜æ–¹åœ°å€ï¼š[IINA ä¸­æ–‡](https://lhc70000.github.io/iina/zh-cn/) | [IINA è‹±æ–‡](https://lhc70000.github.io/iina/) | [Github å¼€æº](https://github.com/lhc70000/iina)\n- æ¨èç†ç”±ï¼š\n\t- å¼€æºä¸”å®Œå…¨å…è´¹  ( GPLv3 )ï¼›\n\t- åœ¨çº¿å­—å¹•æœç´¢å’Œæ™ºèƒ½æœ¬åœ°å­—å¹•åŒ¹é…ï¼›\n\t- æ»¡è¶³ä½ å…³äºè§†é¢‘ã€éŸ³é¢‘ã€å­—å¹•ç­‰ç›¸å…³çš„åŸºæœ¬åŠŸèƒ½ï¼›\n\t- åŸºäº MPV ( ç¥çº§å¼€æºè§£ç å·¥å…· ) çš„åª’ä½“æ’­æ”¾å™¨ï¼Œæ”¯æŒå‡ ä¹æ‰€æœ‰å¸¸ç”¨åª’ä½“æ’­æ”¾ï¼Œä¸”ç¨³å®šè§£ç å¹¶è¾“å‡ºé«˜è´¨é‡çš„å½±åƒã€‚\n\n#### MPV\n- åº”ç”¨ç±»å‹ï¼šğŸ“º | åª’ä½“æ’­æ”¾å™¨\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å¼€æºå…è´¹\n- æ”¯æŒå¹³å°ï¼š`MacOS` | `Windows` | `Linux` | `Android`\n- å®˜æ–¹åœ°å€ï¼š[MPV ä»‹ç»](https://mpv.io/) | [MPV ä¸‹è½½](https://mpv.io/installation/) | [MPV æ‰‹å†Œ](https://mpv.io/manual/master/) | [Github å¼€æº](https://github.com/mpv-player/mpv)\n- æ¨èç†ç”±ï¼š\n\t- å¼€æºä¸”å®Œå…¨å…è´¹ ( GPLv2 æˆ–æ›´é«˜ç‰ˆæœ¬ )ï¼›\n\t- IINA çš„é€€é˜¶äº§å“ï¼ŒMPV çš„ç‰¹æ€§ä¸å‰è€…ç›¸ä»¿ï¼Œä½†æ”¯æŒå¤šå¹³å°ä½¿ç”¨ã€‚\n\n#### MusicLake\n- åº”ç”¨ç±»å‹ï¼šğŸµ | éŸ³ä¹æ’­æ”¾å™¨\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å¼€æºå…è´¹\n- æ”¯æŒå¹³å°ï¼š`MacOS` | `Windows` | `Linux` | `Android`\n- å®˜æ–¹åœ°å€ï¼š[Github å¼€æº/ä»‹ç»](https://github.com/sunzongzheng/music) | [MusicLake ä¸‹è½½](https://github.com/sunzongzheng/music/releases)\n- æ¨èç†ç”±ï¼š\n\t- å¼€æºå…è´¹ ( ç›®å‰å…è´¹ )ï¼›\n\t- è·¨å¹³å°éŸ³ä¹æ’­æ”¾å™¨ï¼Œå¯æœç½‘æ˜“äº‘ã€QQ éŸ³ä¹ã€è™¾ç±³éŸ³ä¹ï¼Œä¸”æ”¯æŒä¸€é”®å¯¼å…¥éŸ³ä¹å¹³å°æ­Œå•ï¼›\n\t- æ”¯æŒäº‘æ­Œå•åŒæ­¥ï¼Œä½†éœ€è¦åœ¨åº”ç”¨å†…ç™»å½•ï¼›\n\t- æ”¯æŒç¬¬ä¸‰æ–¹æˆæƒç™»å½• ( [OAuth](https://baike.baidu.com/item/oAuth/7153134?fr=aladdin) )ï¼Œå…å»ç¹çæ³¨å†Œã€è´¦å·éšç§æ³„æ¼ç­‰é—®é¢˜ï¼Œç›®å‰æ”¯æŒå¾®åšã€å¾®ä¿¡ã€QQã€Twiterã€Google æˆæƒç™»å½•ã€‚\n\n### åª’ä½“ç¼–è¾‘\n#### Permute\n- åº”ç”¨ç±»å‹ï¼šğŸ“½ | æ ¼å¼è½¬æ¢\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ’µ | ä»˜è´¹åº”ç”¨\n- æ”¯æŒå¹³å°ï¼š`MacOS`\n- å®˜æ–¹åœ°å€ï¼š[Permute å®˜æ–¹](https://software.charliemonroe.net/permute.php)\n- æ¨èç†ç”±ï¼š\n\t- ä¸»è¦ä¸ [Downie](#Downie) é…åˆä½¿ç”¨ï¼Œç”¨äºç½‘ç»œæµåª’ä½“çš„åˆ†æ®µè§†é¢‘æ‹¼æ¥ã€æ ¼å¼è½¬æ¢ï¼›\n\t- ä½œä¸ºåª’ä½“ç¼–è¾‘åº”ç”¨ï¼Œè¶³å¤Ÿåº”ä»˜åŸºæœ¬çš„è§†é¢‘ã€éŸ³é¢‘ã€å›¾ç‰‡æ ¼å¼è½¬æ¢ï¼›\n\t- æ‹–æ‹½æ–¹å¼æ“ä½œå³å¯å®ç°è§†é¢‘æ‹¼æ¥ã€éŸ³è½¨è§†é¢‘ä¸€é”®åˆæˆã€‚\n\n#### FFmpeg\n- åº”ç”¨ç±»å‹ï¼šğŸ“½ | æ ¼å¼è½¬æ¢\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å…è´¹å¼€æº\n- æ”¯æŒå¹³å°ï¼š`MacOS` | `Windows` | `Linux`\n- å®˜æ–¹åœ°å€ï¼š[FFmpeg å®˜æ–¹](http://www.ffmpeg.org/) | [FFmpeg ä¸‹è½½](http://www.ffmpeg.org/download.html) | [FFmpeg æ–‡æ¡£](http://www.ffmpeg.org/documentation.html)\n- æ¨èç†ç”±ï¼š\n\t- å¼€æºä¸”å®Œå…¨å…è´¹  ( GPLv2 æˆ–æ›´é«˜ç‰ˆæœ¬ã€LGPLv2.1 æˆ–æ›´é«˜ç‰ˆæœ¬ )ï¼›\n\t- Permute çš„é€€é˜¶äº§å“ï¼Œè€Œé€€é˜¶å¹¶ä¸æ˜¯å®ƒåŠŸèƒ½æ¯”å‰è€…å¼±ï¼Œè€Œæ˜¯å®ƒä½œä¸º `éŸ³è§†é¢‘çš„å®Œæ•´è§£å†³æ–¹æ¡ˆ`ï¼Œå…¥é—¨æˆæœ¬è¾ƒé«˜ï¼›\n\t- è·¨å¹³å°å‰ªè¾‘ã€è½¬ç ã€åˆæˆéŸ³é¢‘å’Œè§†é¢‘ï¼›\n\n#### ArcTime\n- åº”ç”¨ç±»å‹ï¼šğŸ | åª’ä½“ç¼–è¾‘\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ’µ | å¢å€¼æœåŠ¡å†…è´­\n- æ”¯æŒå¹³å°ï¼š`MacOS` | `Windows` | `Linux`\n- å®˜æ–¹åœ°å€ï¼š[ArcTime å®˜æ–¹](http://www.arctime.cn/zh/index.html) | [ArcTime ä¸‹è½½](http://www.arctime.cn/zh/download.html)\n- æ¨èç†ç”±ï¼š\n\t- è·¨å¹³å°çš„å­—å¹•åˆ¶ä½œè½¯ä»¶ï¼›\n\t- è¯­éŸ³è¯†åˆ«æ–‡å­—ï¼Œæœºå™¨ç¿»è¯‘ ( ç‚¹å‡»äº†è§£ [å¢å€¼æœåŠ¡](http://arctime.cn/zh/service.html) )ï¼›\n\t- å¯¼å‡ºå¤šç§å­—å¹•æ ¼å¼ï¼Œä¸”æ”¯æŒå¯¼å‡ºé¢å‘éç¼–è½¯ä»¶çš„è½¯å­—å¹•ï¼›\n\t- æ— ç¼æ”¯æŒæ‰€æœ‰ä¸»æµéç¼–è½¯ä»¶çš„å·¥ç¨‹æ–‡ä»¶äº’å¯¼å…¥ã€å¯¼å‡ºã€‚\n\n### é«˜æ•ˆåŠå…¬\n#### MacDown\n- åº”ç”¨ç±»å‹ï¼šğŸ“ | æ–‡æ¡£ç¼–è¾‘\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å¼€æºå…è´¹\n- æ”¯æŒå¹³å°ï¼š`MacOS`\n- å®˜æ–¹åœ°å€ï¼š [MacDown å®˜æ–¹](http://macdown.uranusjr.com/blog/macdown-help/) | [Github å¼€æº](https://github.com/MacDownApp/macdown)\n- æ¨èç†ç”±ï¼š\n\t- å¼€æºä¸”å®Œå…¨å…è´¹ï¼›\n\t- ç¨³å®šä¸”æ¸²æŸ“é€Ÿåº¦å¿«ï¼›\n\t- çº¯ç²¹çš„ Markdown æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ”¯æŒæœ¬åœ°åŒ–ç®¡ç† `MD` æ–‡æ¡£ ( å³åŠŸèƒ½ç±»ä¼¼ Windows çš„ TXT æ–‡æœ¬ç¼–è¾‘å™¨ )ã€‚\n\n#### MWeb\n- åº”ç”¨ç±»å‹ï¼šğŸ“ | æ–‡æ¡£ç¼–è¾‘\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ’µ | ä»˜è´¹åº”ç”¨\n- æ”¯æŒå¹³å°ï¼š`MacOS` | `iOS`\n- å®˜æ–¹åœ°å€ï¼š[MWeb å®˜æ–¹](https://zh.mweb.im/) | [å°‘æ•°æ´¾è¯„æµ‹](https://sspai.com/post/33855)\n- æ¨èç†ç”±ï¼š\n\t- è‹¹æœå…¨å®¶æ¡¶å¯æ”¯æŒå¤šç»ˆç«¯äº‘åŒæ­¥ã€äº‘åŠå…¬ï¼›\n\t- æ”¯æŒä¸°å¯Œçš„ `Github Flavored Markdown (GFM)` è¯­æ³•ï¼Œå¦å¤–è¿˜æ”¯æŒè¡¨æ ¼ã€TOCã€LaTeXã€ä»£ç å—ã€ä»»åŠ¡åˆ—è¡¨ã€è„šæ³¨ç­‰ï¼›\n\t- å†…å»ºæ–‡æ¡£åˆ†ç±»ã€æ–‡æ¡£è´´æ ‡ç­¾åŠŸèƒ½ï¼Œå³æ”¯æŒå¿«é€Ÿæ£€ç´¢æ–‡ç« å†…å®¹ï¼Œä¹Ÿæ”¯æŒä¸€ä½“åŒ–çš„æ–‡æ¡£ç®¡ç†ï¼›\n\t- ä¸°å¯Œçš„ Markdown å¯¼å‡ºé…ç½®ï¼Œå…·ä½“æ”¯æŒæœ‰ï¼š`jpg`ã€`html`ã€`epub`ã€`pdf`ã€`rtf`ã€`docx`ï¼›\n\t- æ”¯æŒä¸€é”®å‘å¸ƒåŠŸèƒ½ï¼Œç›´æ¥å‘å¸ƒè‡³ `Wordpress`ã€`å°è±¡ç¬”è®°`ã€`Blogger` ç­‰ã€‚\n\n#### Yu Writer\n- åº”ç”¨ç±»å‹ï¼šğŸ“ | æ–‡æ¡£ç¼–è¾‘\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å…è´¹åº”ç”¨\n- æ”¯æŒå¹³å°ï¼š`MacOS` | `Windows` | `Linux` ( Coming soon )\n- å®˜æ–¹åœ°å€ï¼š[Yu Writer å®˜ç½‘](https://ivarptr.github.io/yu-writer.site/)\n- æ¨èç†ç”±ï¼š\n\t- å¼€æºå…è´¹ ( å¯ä»˜è´¹å‡çº§è‡³ Pro ç‰ˆæœ¬ )ï¼›\n\t- MWeb çš„é€€é˜¶äº§å“ï¼ŒåŠŸèƒ½å‡ ä¹ä¸ MWeb ä¸€æ ·ï¼Œç‰¹è‰²æ˜¯å¤šå¹³å°æ”¯æŒã€‚\n\n### è®¾è®¡å·¥å…·\n#### Adobe Series\n- åº”ç”¨ç±»å‹ï¼šğŸ“ | è®¾è®¡å¥—ä»¶\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ’µ | ä»˜è´¹åº”ç”¨\n- æ”¯æŒå¹³å°ï¼š`MacOS` | `Windows`\n- æ¨èç†ç”±ï¼šAdobe å…¨å®¶æ¡¶ï¼Œè®¾è®¡å¸ˆå¿…å¤‡å¥—ä»¶ã€‚\n\n### å¼€å‘å·¥å…·\n#### Parallels Desktop\n- åº”ç”¨ç±»å‹ï¼šğŸ–¥ | è™šæ‹Ÿæœºè½¯ä»¶\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ’µ | ä»˜è´¹åº”ç”¨\n- æ”¯æŒå¹³å°ï¼š`MacOS`\n- å®˜æ–¹åœ°å€ï¼š[PD å®˜ç½‘](https://www.parallels.com/cn/)\n- æ¨èç†ç”±ï¼šMac ä¸Šæ€§èƒ½é¦–å±ˆä¸€æŒ‡çš„è™šæ‹Ÿæœºå·¥å…·ã€‚\n\n\t> åœ¨è‡ªå·±çš„æœºå™¨ä¸Šï¼Œåˆ†åˆ«ç”¨ VMware å’Œ PD æµ‹è¯•è¿è¡Œ Windows 10ï¼Œæ—¥å¸¸ä½¿ç”¨å¼ºåº¦ ( ç¼–ç ã€æµè§ˆç½‘é¡µã€çœ‹è§†é¢‘ç­‰ )ã€‚ç›¸æ¯”äº VMwareï¼ŒPD è¿è¡Œæµç•…ä¸”å‘çƒ­ç¨‹åº¦æ›´ä½ã€‚å½“ç„¶ï¼Œä¸€ä¸¤å°æœºå™¨çš„æµ‹è¯•ç»“æœå¹¶ä¸å…·æœ‰å‚è€ƒæ€§ï¼Œæ•… PD åœ¨ MacOS ä¸Šçš„ä¼˜åŠ¿å¯è‡ªè¡Œä½“éªŒåå†å†³å®šè´­å…¥ä½¿ç”¨ ( éƒ½æœ‰è¯•ç”¨ç‰ˆæœ¬ä½“éªŒ )ã€‚\n\n#### VMware\n- åº”ç”¨ç±»å‹ï¼šğŸ–¥ | è™šæ‹Ÿæœºè½¯ä»¶\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ’µ | ä»˜è´¹åº”ç”¨\n- æ”¯æŒå¹³å°ï¼š\n\t- `MacOS`ï¼šæ”¯æŒäº§å“ VMware  Fusion\n\t- `Windowã€Linux`ï¼šæ”¯æŒäº§å“ Workstation Pro\n\t- `Windowã€Linux`ï¼šæ”¯æŒäº§å“ Workstation Player\n- å®˜æ–¹åœ°å€ï¼š[VMware Fusion](https://www.vmware.com/cn/products/fusion.html) | [Workstation Pro](https://www.vmware.com/cn/products/workstation-pro.html) | [Workstation Player](https://www.vmware.com/cn/products/workstation-player.html)\n- æ¨èç†ç”±ï¼š è·¨å¹³å°è™šæ‹ŸåŒ–è½¯ä»¶ï¼Œå³å®ƒå¯å®‰è£…åœ¨ Windowsã€Linuxã€MacOS çš„æ“ä½œç³»ç»Ÿä¸Šä½¿ç”¨ã€‚\n\n#### VirtualBox\n- åº”ç”¨ç±»å‹ï¼šğŸ–¥ | è™šæ‹Ÿæœºè½¯ä»¶\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å¼€æºå…è´¹\n- æ”¯æŒå¹³å°ï¼š`MacOS` | `Windows` | `Linux`\n- å®˜æ–¹åœ°å€ï¼š[VirtualBox å®˜ç½‘](https://www.virtualbox.org/) | [VirtualBox ä¸‹è½½](https://www.virtualbox.org/wiki/Downloads) | [ç”¨æˆ·æ‰‹å†Œ](https://www.virtualbox.org/wiki/End-user_documentation) | [å¼€æºæ‰‹å†Œ](https://www.virtualbox.org/wiki/Technical_documentation)\n- æ¨èç†ç”±ï¼š\n\t- å¼€æºä¸”å®Œå…¨å…è´¹ï¼›\n\t- è·¨å¹³å°è™šæ‹ŸåŒ–è½¯ä»¶ï¼Œå³å®ƒå¯å®‰è£…åœ¨ Windowsã€Linuxã€MacOS çš„æ“ä½œç³»ç»Ÿä¸Šä½¿ç”¨ï¼›\n\t- å¯è™šæ‹Ÿçš„æ“ä½œç³»ç»ŸåŒ…æ‹¬ Windowsã€Mac OS Xã€Linuxã€OpenBSDã€Solarisã€IBM OS2ã€Android ç­‰ã€‚\n\n#### DBeaver\n- åº”ç”¨ç±»å‹ï¼šğŸ—„ | æ•°æ®åº“ç®¡ç†\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å¼€æºå…è´¹\n- æ”¯æŒå¹³å°ï¼š`MacOS` | `Windows` | `Linux`\n- å®˜æ–¹åœ°å€ï¼š[DBeaver å®˜ç½‘](https://dbeaver.io/) | [DBeaver ä¸‹è½½](https://dbeaver.io/download/) | [Github å¼€æº](https://github.com/dbeaver/dbeaver/)\n- æ¨èç†ç”±ï¼š\n\t- å¼€æºä¸”å®Œå…¨å…è´¹ ( å¯ä»˜è´¹å‡çº§ [ä¼ä¸šç‰ˆ](https://dbeaver.com/) )ï¼›\n\t- `é€šç”¨æ•°æ®åº“ç®¡ç†å·¥å…·` å’Œ `SQL å®¢æˆ·ç«¯`ï¼Œæ”¯æŒ MySQL, PostgreSQL, Oracle, DB2, MSSQL, Sybase, Mimer, HSQLDB, Derby åŠå…¼å®¹ JDBC çš„æ•°æ®åº“ã€‚\n\t- å®ƒå¯ä»¥å¤„ç†ä»»ä½•çš„ `å¤–éƒ¨æ•°æ®æº` ( æ•°æ®æºåŒ…å«æ•°æ®åº“æœåŠ¡å™¨çš„åç§°å’Œä½ç½®ã€æ•°æ®åº“é©±åŠ¨ç¨‹åºä»¥åŠåœ¨ç™»å½•æ•°æ®åº“æ—¶æ‰€éœ€çš„ä¿¡æ¯ )ã€‚\n\n#### Sequel Pro\n- åº”ç”¨ç±»å‹ï¼šğŸ—„ | æ•°æ®åº“ç®¡ç†\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å¼€æºå…è´¹\n- æ”¯æŒå¹³å°ï¼š`MacOS`\n- å®˜æ–¹åœ°å€ï¼š[Sequel Pro å®˜ç½‘](http://www.sequelpro.com/) | [Github å¼€æº](https://github.com/sequelpro/sequelpro)\n- æ¨èç†ç”±ï¼š\n\t- å¼€æºä¸”å®Œå…¨å…è´¹ï¼›\n\t- MacOS å¹³å°ç‹¬å åº”ç”¨ï¼Œä¸“é—¨ç®¡ç† `MySQL` å’Œ `MariaDB` æ•°æ®åº“çš„å·¥å…·ï¼Œæ“ä½œç•Œé¢éå¸¸å‹å¥½ï¼Œè‹¥ä»…æ˜¯å¤„ç† MySQL æ•°æ®åº“ï¼ŒSequel Pro æ˜¯ä½ å¼€å‘çš„æœ€ä½³ä¼´ä¾£ã€‚\n\n#### FileZilla\n- åº”ç”¨ç±»å‹ï¼šğŸ“¤ | æ–‡ä»¶ä¼ è¾“\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å¼€æºå…è´¹\n- æ”¯æŒå¹³å°ï¼š`MacOS` | `Windows` | `Linux`\n- å®˜ç½‘ç½‘å€ï¼š[FileZilla å®˜æ–¹](https://filezilla-project.org/) | [FileZilla å®¢æˆ·ç«¯](https://filezilla-project.org/download.php?type=client) | [FileZilla æœåŠ¡ç«¯](https://filezilla-project.org/download.php?type=server) | [æºä»£ç ](https://filezilla-project.org/sourcecode.php)\n- æ¨èç†ç”±ï¼š\n\t- å¼€æºä¸”å®Œå…¨å…è´¹ ( å¯ä»˜è´¹å‡çº§ [ä¼ä¸šç‰ˆ](https://filezillapro.com/) )ï¼›\n\t- è·¨å¹³å°çš„ `FTP` è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒ FTPã€FTPSã€SFTP ç­‰æ–‡ä»¶ä¼ è¾“åè®®ï¼›\n\n#### CornerStone\n- åº”ç”¨ç±»å‹ï¼šâŒ¨ï¸ | ä»£ç ç®¡ç†\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ’µ | ä»˜è´¹åº”ç”¨\n- æ”¯æŒå¹³å°ï¼š`MacOS`\n- å®˜æ–¹åœ°å€ï¼š[CornerStone å®˜ç½‘](https://cornerstone.assembla.com/)\n- æ¨èç†ç”±ï¼šé¢å‘ Svn ( å¼€æ”¾æºä»£ç çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ )ï¼Œå³ CornerStone æ˜¯ä¸€æ¬¾æ‹¥æœ‰ç•Œé¢äº¤äº’çš„ Svn å®¢æˆ·ç«¯ã€‚\n\n#### TortoiseSVN\n- åº”ç”¨ç±»å‹ï¼šâŒ¨ï¸ | ä»£ç ç®¡ç†\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å¼€æºå…è´¹\n- æ”¯æŒå¹³å°ï¼š`Windows`\n- å®˜æ–¹åœ°å€ï¼š[TortoiseSVN å®˜ç½‘](https://tortoisesvn.net/) | [TortoiseSVN  ä¸‹è½½](https://tortoisesvn.net/downloads.html)\n- æ¨èç†ç”±ï¼šé¢å‘ Svn ( å¼€æ”¾æºä»£ç çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ )ï¼Œå³ TortoiseSVN æ˜¯ä¸€æ¬¾æ‹¥æœ‰ç•Œé¢äº¤äº’çš„ Svn å®¢æˆ·ç«¯ã€‚\n\t\n#### Git GUI Clients\n- åº”ç”¨ç±»å‹ï¼šâŒ¨ï¸ | ä»£ç ç®¡ç†\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å…è´¹ä½¿ç”¨\n- æ”¯æŒå¹³å°ï¼š`MacOS` | `Windows` | `Linux` | `Android` | `iOS`\n- å®˜æ–¹åœ°å€ï¼š[Git å®˜ç½‘](https://git-scm.com/) | [Git ä¸‹è½½](https://git-scm.com/downloads/guis)\n- æ¨èç†ç”±ï¼šé¢å‘ Git ( å¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ )ï¼Œå³ Git GUI æ˜¯ä¸€æ¬¾æ‹¥æœ‰ç•Œé¢äº¤äº’çš„ Git å®¢æˆ·ç«¯ã€‚\n\n### ç½‘ç»œå·¥å…·\n#### Downie\n- åº”ç”¨ç±»å‹ï¼šğŸ“¥ |  ç½‘ç»œä¸‹è½½\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ’µ | ä»˜è´¹åº”ç”¨\n- æ”¯æŒå¹³å°ï¼š`MacOS`\n- å®˜æ–¹ä¸‹è½½ï¼š[Downie å®˜æ–¹](https://software.charliemonroe.net/downie.php) | [å°‘æ•°æ´¾è¯„æµ‹](https://sspai.com/post/40999)\n- æ¨èç†ç”±ï¼š\n\t- è¶…è¿‡ 1000+ æµåª’ä½“ç½‘ç«™çš„è§†é¢‘ä¸‹è½½ ( YouTubeã€Vimeoã€Bilibiliã€ä¼˜é…·ã€çˆ±å¥‡è‰ºç­‰ )ï¼›\n\t- ç›´æ¥æ‹–æ‹½é“¾æ¥å³å¯ä¸‹è½½ï¼Œä½†æ³¨æ„éƒ¨åˆ†è§†é¢‘æºä»¥åˆ†ç‰‡æ®µå½¢å¼ä¸‹è½½ï¼Œä¸ [Permute](#Permute) æ­é…ä½¿ç”¨å³å¯ï¼›\n\t- å†…ç½®èµ„æºæœç´¢åŠŸèƒ½ã€‚\n\n### ç³»ç»Ÿè¡¥å…¨\n#### Xcode\n- åº”ç”¨ç±»å‹ï¼šâš™ï¸ | ç³»ç»Ÿå†…ç½® ( åŒ…å«å¤§éƒ¨åˆ†åº”ç”¨æ‰€éœ€è¦çš„è¿è¡Œç¯å¢ƒ )\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å…è´¹ä½¿ç”¨\n- æ”¯æŒå¹³å°ï¼š`MacOS`\n- æ¨èç†ç”±ï¼š\n\t-  ç”¨äº MacOS å’Œ iOS åº”ç”¨ç¨‹åºå¼€å‘çš„é›†æˆå¼€å‘å·¥å…· ( IDE )ï¼›\n\t- æ—¢ä½¿ä¸ä»¥å¼€å‘è€…è§’åº¦è€ƒè™‘ï¼Œå®ƒåŒ…å«äº†å¤§éƒ¨åˆ†åº”ç”¨è¿è¡Œæ‰€éœ€è¦çš„ä¾èµ–åº“ ( è¿è¡Œç¯å¢ƒ )ï¼Œæ¨èå®‰è£…ã€‚\n\n#### Automator\n- åº”ç”¨ç±»å‹ï¼šâš™ï¸ | ç³»ç»Ÿå†…ç½®\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å…è´¹ä½¿ç”¨\n- æ”¯æŒå¹³å°ï¼š`MacOS`\n- å®˜æ–¹åœ°å€ï¼š[Automator å®˜æ–¹](https://support.apple.com/zh-cn/guide/automator/welcome/mac) | [å°‘æ•°æ´¾è¯„æµ‹](https://sspai.com/post/36667)\n- æ¨èç†ç”±ï¼šiOS ä¸Šå¤§åé¼é¼çš„ `Workflow`ã€`æ·å¾„`ï¼Œç›¸ä¿¡å¤§ä¼™ä¸ä¼šé™Œç”Ÿï¼Œè€Œä½œä¸ºæå‡å·¥ä½œæ•ˆç‡çš„ç¥å™¨ï¼Œåœ¨ Mac ç«¯ä¹ŸåŒæ ·æœ‰æ›¿ä»£çš„æ–¹æ¡ˆï¼Œå®ƒå°±æ˜¯ `Automator` ï¼Œä¿—ç§° \"æ‰›ç‚®\"ã€‚\n\n#### iStatistic\n- åº”ç”¨ç±»å‹ï¼šğŸŒ¡ | ç³»ç»Ÿç›‘æ§\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ’µ | ä»˜è´¹åº”ç”¨\n- æ”¯æŒå¹³å°ï¼š`MacOS` | `iOS`\n- æ¨èç†ç”±ï¼š\n\t- ç³»ç»Ÿç›‘æµ‹è½¯ä»¶ï¼ŒåŒ…æ‹¬æ€§èƒ½ã€èƒ½è€—åŠæ¸©åº¦æƒ…å†µç›‘æµ‹ï¼›\n\t- åŠ¨æ€åŒ–ã€å›¾è¡¨åŒ–æ˜¾ç¤ºæ•°æ® ( æ”¯æŒ Web DashBoard )ï¼Œå–œæ¬¢è£…æœºçš„æœ‹å‹ä¸å¦¨åœ¨æœºç®±å†…æŒ‚å°å±å¹•åšå±•ç¤ºï¼Œç§‘æŠ€æ„Ÿåè¶³ã€‚\n\n#### åŠ é€Ÿå¤§å¸ˆ\n- åº”ç”¨ç±»å‹ï¼šğŸŒ¡ | ç³»ç»Ÿä¼˜åŒ–\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å…è´¹ä½¿ç”¨\n- æ”¯æŒå¹³å°ï¼š`MacOS`\n- å®˜æ–¹åœ°å€ï¼šæš‚æ—  ( åªèƒ½ä» [Mac App Store](https://itunes.apple.com/cn/app/%E5%8A%A0%E9%80%9F%E5%A4%A7%E5%B8%88/id1144825078?mt=12) ä¸­ä¸‹è½½ï¼Œè¯·è®¤å‡†å°ç«ç®­çš„å›¾æ ‡ã€‚ä½†åé¢å‘ç°ä½œè€…ä»¥å¦ä¸€æ¬¾è½¯ä»¶ [iCare 3](https://itunes.apple.com/cn/app/icare-3/id1142437192) æ›´æ–°é¡¹ç›® )\n- æ¨èç†ç”±ï¼š\n\t- è½»é‡çº§ç³»ç»Ÿåƒåœ¾æ¸…ç†å·¥å…·ï¼Œå¸è½½ç®¡ç†å·¥å…·ï¼Œå¼€æœºè‡ªå¯é¡¹ç®¡ç†å·¥å…·ï¼›\n\t- æ”¯æŒæ€§èƒ½ç›‘æµ‹ ( å†…å­˜ã€CPUã€ç½‘ç»œ I/O ) å’Œå†…å­˜é‡Šæ”¾çš„åŠŸèƒ½ï¼›\n\n#### Keka\n- åº”ç”¨ç±»å‹ï¼šğŸ“¦ | è§£å‹ç¼©å·¥å…·\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å¼€æºå…è´¹\n- æ”¯æŒå¹³å°ï¼š`MacOS`\n- å®˜æ–¹åœ°å€ï¼š[Keka å®˜ç½‘](https://www.keka.io/zh-cn/) | [Github å¼€æº](https://github.com/aonez/Keka)\n- æ¨èç†ç”±ï¼š\n\t- å¼€æºä¸”å®Œå…¨å…è´¹ ( GPL )ï¼›\n\t- MacOS å¹³å°ç‹¬å åº”ç”¨ï¼Œæ”¯æŒ `è§£ã€å‹ç¼©` æ–‡ä»¶ï¼›\n\t- ä¸”æ”¯æŒ `7z` æ–‡ä»¶å’Œ `Zip 2.0` æ–‡ä»¶ä½¿ç”¨ `AES-256` åŠ å¯† ï¼›\n\t- å¯æ”¯æŒåˆ›å»º 7Z, ZIP, TAR, GZIP, BZIP2, XZ, LZIP, DMG, ISO æ ¼å¼æ–‡ä»¶ï¼›\n\t- å¯æ”¯æŒè§£å‹ 7Z, RAR, TAR, GZIP, BZIP2, XZ, LZIP, DMG, ISO, LZMA, EXE, CAB, WIM, PAX, JAR, APK, APPX, CPGZ, CPIO æ ¼å¼æ–‡ä»¶ã€‚\n\n#### 7-Zip\n- åº”ç”¨ç±»å‹ï¼šğŸ“¦ | è§£å‹ç¼©å·¥å…·\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ†“ | å¼€æºå…è´¹\n- æ”¯æŒå¹³å°ï¼š`Windows` | `Linux`\n- å®˜æ–¹åœ°å€ï¼š[7-Zip å®˜ç½‘](https://www.7-zip.org/) | [7-Zip ä¸‹è½½](https://www.7-zip.org/download.html)\n- æ¨èç†ç”±ï¼š\n\t- å¼€æºä¸”å®Œå…¨å…è´¹ ( LGPL )ï¼›\n\t- å›½å†…çš„è§£å‹ç¼©å·¥å…·ä¸æ•¢æ­ç»´ï¼Œä¸è°ˆæ€§èƒ½ï¼Œå†…åµŒå¹¿å‘Šè¡Œä¸ºå°±æ˜¯è€æµæ°“ï¼›\n\t- å¯æ”¯æŒè§£ã€å‹ç¼©æ ¼å¼ï¼š7z, XZ, BZIP2, GZIP, TAR, ZIP, WIM\n\t- ä»…å¯è§£å‹æ ¼å¼ï¼šARJ, CAB, CHM, CPIO, CramFS, DEB, DMG, FAT, HFS, ISO, LZH, LZMA, MBR, MSI, NSIS, NTFS, RAR, RPM, SquashFS, UDF, VHD, WIM, XARã€‚\n\n### è®ºæ–‡å†™ä½œ\n#### Grammarly\n- åº”ç”¨ç±»å‹ï¼šğŸ“„ | è®ºæ–‡å†™ä½œ\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ’µ | å¢å€¼æœåŠ¡å†…è´­\n- æ”¯æŒå¹³å°ï¼š`MacOS` | `Windows` | `MS Office` ( ä»… Windows ) | `æµè§ˆå™¨æ’ä»¶` ( Safariã€Chromeã€fireboxã€IE )\n- å®˜æ–¹åœ°å€ï¼š[Grammarly å®˜ç½‘](https://www.grammarly.com/) | [çæ´› ( å°å§å§ ) è¯„æµ‹](https://www.bilibili.com/video/av28844962)\n- æ¨èç†ç”±ï¼š\n\t- è‹±æ–‡å†™ä½œè¾…åŠ©ç¥å™¨ï¼›\n\t- è‹±è¯­æ£€æŸ¥è½¯ä»¶ï¼Œå¯è‡ªåŠ¨åœ°å•è¯çº é”™ï¼Œæ ‡ç‚¹ç¬¦å·çº é”™å’Œè¯­æ³•çº é”™ã€‚\n\n#### Endnote\n- åº”ç”¨ç±»å‹ï¼šğŸ“„ | æ–‡æ¡£ç®¡ç†\n- æ˜¯å¦ä»˜è´¹ï¼šğŸ’µ | å¢å€¼æœåŠ¡å†…è´­\n\n## éœ€æ±‚å‡çº§ï¼šç³»ç»Ÿè§£å†³æ–¹æ¡ˆ\n### å¼€ç¯‡å¼•è¨€\n- å®Œæ•´è½¯ä»¶è§£å†³æ–¹æ¡ˆï¼šè¿ä½œç›¸åº”çš„ `æ“ä½œç³»ç»Ÿ` å’Œ `åº”ç”¨ç¨‹åº`ï¼Œä»¥æä¾›å®Œæ•´çš„è½¯ä»¶è§£å†³æ–¹æ¡ˆã€‚\n- ä¸‹è¿°æ‰€æœ‰ `è§£å†³æ–¹æ¡ˆ`ï¼ŒåŸåˆ™ä¸Šå¯åœ¨ä¸€å°æœåŠ¡å™¨å®ç°çš„ã€‚å®ç°åŸç†å³æœåŠ¡å™¨ä¸Šå¤šå¼€ `è™šæ‹Ÿæœº`ï¼Œè®©æ¯å°è™šæ‹Ÿæœºå„å¸å…¶èŒï¼Œè¿ä½œç›¸åº”çš„ `æ“ä½œç³»ç»Ÿ` å’Œ `åº”ç”¨ç¨‹åº`ï¼Œæä¾›ç›¸åº”çš„åŠŸèƒ½æˆ–æœåŠ¡ã€‚\n- è¿™ä¹Ÿæ˜¯è¿‘äº›å¹´æƒ³è¾¾æˆçš„å°ç›®æ ‡ï¼šæ„Ÿè°¢ liuspy çš„æ–‡ç«  $^{[1]}$ å¯å‘ï¼Œæ‰æœ‰æƒ³æ³•å»ç»„ä¸€å° `å®¶ç”¨æœåŠ¡å™¨`ï¼Œå®ç° `ä¸ªäººç§æœ‰äº‘ (é»‘ç¾¤æ™–)`ã€`è½¯è·¯ç”± (OpenWrt/iKuai)`ã€`Web æœåŠ¡å™¨`ã€`ä»£ç æ‰˜ç®¡æœåŠ¡å™¨` ç­‰ã€‚å½“ç„¶ï¼Œåœ¨æ¡ä»¶å…è®¸æƒ…å†µä¸‹ï¼Œå°½é‡æŠŠæ”’æœºè¿‡ç¨‹ä¸­æ‰€åšè¿‡çš„è°ƒç ”èµ„æ–™æ•´ç†å¹¶è¾“å‡ºæ–‡ç« ï¼Œä»¥ä¾¿åŒæ ·æœ‰æŠ˜è…¾éœ€æ±‚çš„æœ‹å‹å¤ç”¨ã€‚\n  \n### è·¯ç”±ç³»ç»Ÿè§£å†³æ–¹æ¡ˆ\n- éœ€æ±‚å®šä½ï¼šçªç ´æ™®é€šè·¯ç”±å™¨è¯¸å¤šçš„ç“¶é¢ˆå’Œé™åˆ¶ï¼Œé™¤äº†äº«å—é«˜æ€§èƒ½çš„ç½‘ç»œä½“éªŒï¼Œä¸”è·å¾—æ›´é«˜é˜¶çš„ `æœåŠ¡ä½“éªŒ` å’Œ `ç©æ³•`ã€‚\n\t\n\t> å…³äºæœåŠ¡ä½“éªŒå’Œç©æ³•ï¼Œå…·ä½“å¯å‚è€ƒå¸‚é¢ä¸Šçš„æ™ºèƒ½è·¯ç”±äº§å“ï¼Œå®ƒä»¬è¡¨ç°çš„èŠ±æ ·å·²ç»è¶³å¤Ÿå¤šäº†ï¼Œå¦‚ `ç§‘å­¦ä¸Šç½‘`ã€`å»å¹¿å‘Š`ã€`æ–‡ä»¶æœåŠ¡å™¨ (FTP/SMB)`ã€`è¿è¡Œ Python ç¨‹åº` ç­‰ï¼Œæœ‰å…´è‡´çš„æœ‹å‹å¯ä»¥è‡ªè¡Œäº†è§£è¯¦æƒ…ã€‚\n\n\t- è·¯ç”±ç³»ç»Ÿå¯åˆ†ä¸ºè½¯è·¯ç”±å’Œç¡¬è·¯ç”±ï¼Œåœ¨ä»‹ç»å‰å¤•ï¼Œå…ˆå¼„æ˜ç™½ä¸¤è€…çš„ `æ¦‚å¿µ` $^{[2, 3]}$ï¼š\n\t\t- `è½¯è·¯ç”±`ï¼šæŒ‡åˆ©ç”¨å°å¼æœºæˆ–æœåŠ¡å™¨é…åˆè½¯ä»¶ ( è™šæ‹Ÿæœº ) è€Œå½¢æˆçš„è·¯ç”±è§£å†³æ–¹æ¡ˆã€‚ç®€å•ç†è§£ï¼Œå³ `PC + æ“ä½œç³»ç»Ÿ ( Linux / Windows )  + ä¸“ç”¨è·¯ç”±ç¨‹åº` ç»„æˆçš„è·¯ç”±è§£å†³æ–¹æ¡ˆï¼›\n\t\t- `ç¡¬è·¯ç”±`ï¼šé‡‡ç”¨ç‰¹å®šçš„ç¡¬ä»¶è®¾å¤‡ï¼ŒåŸºäºåµŒå…¥å¼ç³»ç»Ÿæ¶æ„ï¼Œä»¥è‡ªè¡Œå¼€å‘æˆ–æ˜¯ç°æˆçš„åµŒå…¥å¼æ“ä½œç³»ç»Ÿé…åˆè‡ªè¡Œå¼€å‘çš„è·¯ç”±è½¯ä»¶ï¼Œæä¾›ä¸“é—¨çš„è·¯ç”±å™¨åŠŸèƒ½ã€‚å½“ç„¶ï¼Œä¹Ÿå¯ç†è§£ä¸º `å‚å®¶æ¨å‡ºçš„æ•´ä½“è·¯ç”±è§£å†³æ–¹æ¡ˆ`ï¼Œä¾‹å¦‚ç½‘ä»¶ã€åç¡•ã€åä¸ºã€å°ç±³ã€TP-LINK ç­‰ç”Ÿäº§çš„è·¯ç”±äº§å“ã€‚\n\n\t- äº‹å®ä¸Šï¼Œè·¯ç”±å…¶å®æ²¡æœ‰è½¯ã€ç¡¬ä¹‹åˆ†ï¼Œä»»ä½•è·¯ç”±å™¨éƒ½ç”±å¤„ç†å™¨ã€å†…å­˜ã€è·¯ç”±ç¨‹åºå­˜å‚¨å™¨ã€ç½‘ç»œæ¥å£æ¨¡å—ã€ç”µæºæ¨¡å—ã€è¾“å…¥è¾“å‡ºéƒ¨åˆ†ä¸ç³»ç»Ÿæ„æˆçš„ã€‚\n\n\t\tè€ŒåŒºåˆ†ä¸¤è€…çš„æ¦‚å¿µï¼Œä¸»è¦æ˜¯ä¸ºäº†æ›´ç²¾ç¡®å®šä½ï¼Œå°½é‡åœ¨æ»¡è¶³è‡ªå·±æ€§èƒ½éœ€æ±‚çš„å‰æä¸‹ï¼Œæœ€å¤§åŒ–åœ° `èŠ‚çº¦ç¡¬ä»¶æˆæœ¬` å’Œ `è¿ä½œæˆæœ¬` ( ä¸»è¦æ˜¯è€—ç”µæˆæœ¬ )ã€‚\n\n- `æ¶‰åŠç³»ç»Ÿ`ï¼šæ ¹æ®è·¯ç”±çš„å½¢å¼ï¼Œç¡¬ä»¶æ¶æ„ã€ç³»ç»Ÿæ¶æ„æ˜¯ä¸åŒçš„ï¼Œæ•…å„æœ‰è‡ªé€‚ç”¨çš„è·¯ç”±ç³»ç»Ÿï¼Œé€‰æ‹©æ­£ç¡®çš„è·¯ç”±ç³»ç»Ÿä»¥å‘æŒ¥å…¶æœ€å¤§æ•ˆèƒ½ã€‚\n\t- é’ˆå¯¹è½¯è·¯ç”±ï¼š[OpenWrt (LEDE)](https://openwrt.org/start?id=zh/start)ã€[iKuai]()ã€[æµ·èœ˜è››](http://www.hi-spider.com/zh)ã€[æ¢…æ— (koolshare)](http://firmware.koolshare.cn/LEDE_X64_fw867/)\n\t-  é’ˆå¯¹ç¡¬è·¯ç”±ï¼š[OpenWrt (LEDE)](https://openwrt.org/start?id=zh/start)ã€[Padavan (è’é‡æ— ç¯)](http://p4davan.80x86.io/)ã€[æ¢…æ— (æ”¯æŒç¡¬ä»¶æœ‰é™)](http://firmware.koolshare.cn/)\n\n- `æ¶‰åŠç¡¬ä»¶`ï¼šç¡¬è·¯ç”±å™¨çš„ç¡¬ä»¶æ¶æ„åˆ™æ˜¯ä¸“ä¸ºè·¯ç”±å™¨è€Œè®¾è®¡çš„ï¼Œè€Œè½¯è·¯ç”±å™¨çš„ç¡¬ä»¶æ¶æ„æ˜¯é€šç”¨çš„ï¼Œæ•…æˆ‘ä»¬åªèƒ½é’ˆå¯¹è½¯è·¯ç”±å™¨çš„æ–¹æ¡ˆåˆ¶å®š `ç¡¬ä»¶éœ€æ±‚æ–¹æ¡ˆ`ï¼Œè€ƒè™‘æœ¬ç« èŠ‚çš„ä¸»é¢˜æ˜¯è·¯ç”±å™¨ï¼Œåˆ™ç¡¬ä»¶éœ€æ±‚æ–¹æ¡ˆå°†ç•™è‡³ `è£…æœºç¯‡ç« ` è®²è¿°ã€‚\n\n- æ­å»ºæµç¨‹ï¼š\n\n### ä¸ªäººåšå®¢è§£å†³æ–¹æ¡ˆ\n- éœ€æ±‚å®šä½ï¼š\n\t- çº¯ç²¹çš„å›¾æ–‡é™æ€åšå®¢ï¼Œä»…ä»¥å†…å®¹å³å¯é©±åŠ¨çš„åšå®¢è½½ä½“ï¼Œä¸”ä¸éœ€è¦é¢å¤–çš„è¿è¥æˆæœ¬ ( å›¢é˜Ÿè¿è¥ã€æœåŠ¡å™¨ç­‰ )ã€‚\n\t- Hexo åšå®¢æ¡†æ¶çš„å…è´¹å¼€æºæ€§è´¨ï¼Œå®˜æ–¹æä¾›å¼ºå¤§çš„ APIï¼Œè¿˜æœ‰ä¸°å¯Œçš„ç¤¾åŒºèµ„æº ( æ•™ç¨‹ã€æ’ä»¶ã€ä¸»é¢˜ç­‰ )ï¼ŒåŸºæœ¬èƒ½æ»¡è¶³ä½ çš„ä¸ªæ€§åŒ–æœåŠ¡å’Œéœ€æ±‚ã€‚\n\t- Hexo æ”¯æŒ Markdownï¼Œä¸Šç™¾é¡µé¢ç§’çº§çš„æ¸²æŸ“é€Ÿåº¦ï¼Œä¸€é”®å³å¯éƒ¨ç½²è‡³ Githubã€‚\n\n- æ¶‰åŠæ¡†æ¶ï¼š`Hexo`\n\n- æ¶‰åŠæŠ€æœ¯ï¼šåˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ `Git`ã€‚è€Œè¿™é‡Œï¼Œä½¿ç”¨åˆ°çš„ä¸»è¦åŠŸèƒ½æ˜¯ä»£ç æ‰˜ç®¡ï¼Œè€Œæ‰˜ç®¡å¹³å°æˆ‘ä»¬é€‰æ‹© `Github` ( å½“ç„¶é™äºå›½å†…çš„è®¿é—®é€Ÿåº¦ï¼Œä½ å¯åŒæ—¶éƒ¨ç½²å¤šä¸ªå¹³å°ï¼Œä¾‹å¦‚ï¼š[Coding](https://coding.net/)ã€[Gitee](https://gitee.com/)\n\n- æ­å»ºæµç¨‹ï¼š\n\t- ğŸ“– | [Hexo. å®˜æ–¹ä½¿ç”¨æ–‡æ¡£. hexo.io](https://hexo.io/zh-cn/docs/) \n\t- ğŸ“ | [Kofe. åŸºäº Hexo æ¡†æ¶åœ¨ Github ä¸Šæ­å»ºåšå®¢. kofes.cn](https://www.kofes.cn/2018/01/Hexo-Installation-Guide.html)\n\t- ğŸ“ | [Panbaixin. Hexo + Github æ­å»ºä¸ªäººåšå®¢. baixin.io](http://baixin.io/2015/08/HEXOæ­å»ºä¸ªäººåšå®¢/)\n\t- ğŸ“ | [C.J.Scarlett. How to Create a Blog with Hexo On Ubuntu. digitalocean.com]()\n\n### ä¸ªäººç§æœ‰äº‘è§£å†³æ–¹æ¡ˆ\næš‚æœªå®šæ›´æ–°æ—¥æœŸã€‚\n\n### è·¨å¹³å°æ™ºèƒ½å®¶å±…æ–¹æ¡ˆ\næš‚æœªå®šæ›´æ–°æ—¥æœŸã€‚\n\n### ç§‘å­¦ä¸Šç½‘è§£å†³æ–¹æ¡ˆ\næš‚æœªå®šæ›´æ–°æ—¥æœŸã€‚\n\n### è™šæ‹Ÿä¸“ç”¨ç½‘ç»œæ–¹æ¡ˆ\næš‚æœªå®šæ›´æ–°æ—¥æœŸã€‚\n\n### ä»£ç æ‰˜ç®¡æ–¹æ¡ˆï¼šSvn\n- éœ€æ±‚å®šä½ï¼šä½œä¸º `é›†ä¸­å¼` æºä»£ç ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œå…¶é€‚åˆäºä¼ä¸šå†…éƒ¨ç”±é¡¹ç›®ç»ç†ç»Ÿä¸€åè°ƒçš„å¤šä¸ªå¹¶è¡Œé¡¹ç›®çš„å¼€å‘ã€‚æœ‰è¶£çš„æ˜¯ï¼Œæ›´ç”šæœ‰ä¼ä¸šæŠŠ Svn å½“ä½œäº‘ç«¯æ–‡ä»¶å¤¹ï¼Œæ¯•ç«Ÿå…¶å…¥é—¨é—¨æ§›æ¯”è¾ƒä½ã€‚è€Œåœ¨ Git ç››è¡Œçš„ç¯å¢ƒä¸‹ï¼Œæˆ‘ä»¬å­¦ä¹  Svn çš„ç†ç”±æ›´å¤šçš„æ˜¯é€‚åº”å…¬å¸çš„å¼€å‘æ¨¡å¼ã€‚è‡³äº Svn ä¸ Git çš„ä¼˜åŠ£ï¼Œè¿˜æ˜¯è§†å…·ä½“ä½¿ç”¨ç¯å¢ƒè€Œè¨€ï¼Œæœ‰å…´è¶£å¯ä»¥å‚é˜…å‚è€ƒæ–‡ç«  [4]ï¼Œå…¶ä¸­æè¿°äº† Git ä¸ Svn çš„è¯¦ç»†å¯¹æ¯”ï¼Œå®ƒä»¬å„è‡ªçš„ä¼˜åŠ£å¿ƒä¸­è‡ªæœ‰æ ‡å‡†ã€‚  \n- æ¶‰åŠæŠ€æœ¯ï¼šé›†ä¸­å¼çš„æºä»£ç ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ `Svn`ã€‚\n- æ¶‰åŠè½¯ä»¶ï¼š\n\t- æœåŠ¡ç«¯ï¼š[Widnows Server](https://www.visualsvn.com/server/download/)\n\t- å®¢æˆ·ç«¯ï¼š[TortoiseSVN for Windows](https://tortoisesvn.net/downloads.html) | [Cornerstone for MacOS](https://cornerstone.assembla.com/)\n- æ­å»ºæµç¨‹ï¼š\n\t- ğŸ“ | [Kofe. SVN ç¯å¢ƒæ­å»ºä¸ä½¿ç”¨. kofes.cn](https://www.kofes.cn/2018/08/building-a-svn-server.html)\n\n### ä»£ç æ‰˜ç®¡æ–¹æ¡ˆï¼šGit\næš‚æœªå®šæ›´æ–°æ—¥æœŸã€‚\n\n## å¥½é©¬é…å¥½éï¼šæµè§ˆå™¨æ’ä»¶\n### Violentmonkey\n- æ’ä»¶æ€§è´¨ï¼šè¾…åŠ©\n- æ”¯æŒå¹³å°ï¼š`Chrome` | `Firefox` | `Opera` | `Maxthon`\n- å®˜æ–¹åœ°å€ï¼š[Violentmonkey å®˜ç½‘](https://violentmonkey.github.io/) | [Violentmonkey ä¸‹è½½](https://violentmonkey.github.io/get-it/) | [Github å¼€æº](https://github.com/violentmonkey/violentmonkey)\n- æ¨èç†ç”±ï¼šå¼€æºçš„ç”¨æˆ·è„šæœ¬ç®¡ç†å™¨ã€‚\n\n\t> ç”¨æˆ·è„šæœ¬æ˜¯ä»€ä¹ˆï¼šæ˜¯ä¸€æ®µä»£ç ï¼Œå®ƒä»¬èƒ½å¤Ÿä¼˜åŒ–æ‚¨çš„ç½‘é¡µæµè§ˆä½“éªŒã€‚å®‰è£…ä¹‹åï¼Œæœ‰äº›è„šæœ¬èƒ½ä¸ºç½‘ç«™æ·»åŠ æ–°çš„åŠŸèƒ½ï¼Œæœ‰äº›èƒ½ä½¿ç½‘ç«™çš„ç•Œé¢æ›´åŠ æ˜“ç”¨ï¼Œæœ‰äº›åˆ™èƒ½éšè—ç½‘ç«™ä¸Šçƒ¦äººçš„éƒ¨åˆ†å†…å®¹ã€‚\n\n- è„šæœ¬åº“ï¼š[GreasyFork](https://greasyfork.org/zh-CN) | [OpenUserJs](https://openuserjs.org/)\n\n- ä¼˜ç§€è„šæœ¬æ¨èï¼š\n\t- [æœ¬åœ° Youtube ä¸‹è½½å™¨](https://greasyfork.org/zh-CN/scripts/369400-local-youtube-downloader)ï¼šä¸éœ€è¦é€è¿‡ç¬¬ä¸‰æ–¹çš„æœåŠ¡å°±èƒ½ä¸‹è½½ YouTube å½±ç‰‡ã€‚å½“ç„¶ï¼ŒYoutube çš„é«˜ç ç‡ ( 1080Pã€1440Pã€2160P ) çš„åª’ä½“æ˜¯éŸ³é¢‘ã€è§†é¢‘åˆ†ä½“çš„ï¼Œå…·ä½“å¯ä½¿ç”¨ [FFmpeg](#FFmpeg) æˆ– Premiereã€Final Cutã€iMovie ç­‰è§†é¢‘ç¼–è¾‘å·¥å…·åˆæˆã€‚\n\t- [ç½‘ç›˜è‡ªåŠ¨æå–æå–ç ](https://greasyfork.org/zh-CN/scripts/18733-ç½‘ç›˜æå–å·¥å…·)ï¼šç½‘ç›˜è‡ªåŠ¨æå–ã€è¾“å…¥æå–ç ï¼Œçœå¿ƒã€çœåŠ›ã€ä¸æŠ˜è…¾ã€‚\n\n### Tampermonkey\n- æ’ä»¶æ€§è´¨ï¼šè¾…åŠ©\n- æ”¯æŒå¹³å°ï¼š`Chrome` | `Firefox` | `Opera` | `Edge` | `Safari` | `Dolphin`\n- å®˜æ–¹åœ°å€ï¼š[Tampermonkey å®˜ç½‘](https://tampermonkey.net/) | [è°·æ­Œåº”ç”¨å•†åº—](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo?utm_source=chrome-ntp-icon)\n- æ¨èç†ç”±ï¼šç”¨æˆ·è„šæœ¬ç®¡ç†å™¨ã€‚\n\n### å¹¿å‘Šç»ˆç»“è€…\n- æ’ä»¶æ€§è´¨ï¼šè¾…åŠ©\n- æ”¯æŒå¹³å°ï¼š`Chrome` | `360 æµè§ˆå™¨` | `æœç‹—æµè§ˆå™¨` | `UC æµè§ˆå™¨` | `çŒè±¹æµè§ˆå™¨` | `ç™¾åº¦æµè§ˆå™¨`\n- å®˜æ–¹åœ°å€ï¼š[å®˜æ–¹ç½‘ç«™](http://www.adtchrome.com/) | [è°·æ­Œåº”ç”¨å•†åº—](https://chrome.google.com/webstore/detail/å¹¿å‘Šç»ˆç»“è€…/fpdnjdlbdmifoocedhkighhlbchbiikl?utm_source=chrome-ntp-icon)\n- æ¨èç†ç”±ï¼š\n\t- å¯è¿‡æ»¤ç½‘é¡µä¸­å‡ ä¹æ‰€æœ‰çš„æ¨ªå¹…ã€å¼¹çª—ã€è§†é¢‘å¹¿å‘Šï¼›\n\t- æ‰‹åŠ¨å±è”½ç½‘é¡µå¹¿å‘Šï¼šæœ€å–œæ¬¢çš„åŠŸèƒ½ä¹‹ä¸€ï¼Œ\"ä»¥æ°“æ²»æ°“\" å½¢å®¹ä¹Ÿä¸ä¸ºè¿‡å“ˆã€‚\n\n### è°·æ­Œå­¦æœ¯æœç´¢æŒ‰é’®\n- æ’ä»¶æ€§è´¨ï¼šè¾…åŠ©\n- æ”¯æŒå¹³å°ï¼š`Chrome`\n- å®˜æ–¹åœ°å€ï¼š[è°·æ­Œåº”ç”¨å•†åº—](https://chrome.google.com/webstore/detail/google-scholar-button/ldipcbpaocekfooobnbcddclnhejkcpn?utm_source=chrome-ntp-icon)\n- æ¨èç†ç”±ï¼šå¿«é€Ÿæ£€ç´¢å­¦æœ¯è®ºæ–‡ã€æ–‡çŒ®ï¼Œä¸€é”®ä¸‹è½½ï¼Œä¸€é”®å¯¼å‡ºå¤šç§æ ‡å‡†çš„å¼•ç”¨æ ¼å¼ï¼›\n\n## ä¿¡ä»°è£…æœºï¼šå­¦å¨±å¹¶è¿› PC\n### éœ€æ±‚å®šä¹‰\n- `ä»·æ ¼`ï¼šä¸è°ˆä»·æ ¼é€‰é…ç½®ï¼Œæµªè´¹æ—¶é—´ä¸æ­¢ä¸”æ— æ„ä¹‰ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬æ§åˆ¶åœ¨ 8.0k åˆ° 11.4k çš„ä»·æ ¼åŒºé—´å†…ï¼Œä¸è¿½æ±‚ä¸€æ­¥åˆ°ä½ï¼Œå¯è¿­ä»£å¼å‡çº§ç¡¬ä»¶ä»¥è¾¾æˆè£…æœºç›®æ ‡ã€‚å…·ä½“åœ°ï¼Œè£…æœºè®¡åˆ’ä»¥é˜¶æ®µç›®æ ‡æ‰§è¡Œï¼š\n\t- `ç¬¬ä¸€é˜¶æ®µ` (5.3k-8.1k)ï¼šæœºç®± (0.4k-1.0k)ï¼Œä¸»æ¿ (1.0k-1.5k)ï¼ŒCPU (1.8k-2.3k)ï¼Œç”µæº (0.6k-0.8k)ï¼ŒM.2 512GB å›ºæ€ç¡¬ç›˜ (0.4k-0.8k)ï¼Œ8GB å†…å­˜ (0.5k-0.9k)ï¼Œæ•£çƒ­ (0.6k-0.8k)\n\t- `ç¬¬äºŒé˜¶æ®µ` (2.7k-4.0k)ï¼šæ˜¾å¡ (2.5k-3.5k)ï¼Œé£æ‰‡ (0.2k-0.5k)\n\t- `ç¬¬ä¸‰é˜¶æ®µ` (1.5k-2.2k)ï¼šå±å¹• (1.5k-2.2k)\n\n\t\t> æç¤ºï¼šå„ç¡¬ä»¶çš„å”®å–ä»·æ ¼ä¸»è¦å‚è€ƒå„ç¡¬ä»¶çš„äº¬ä¸œæ——èˆ°åº—å®šä»·ï¼Œä¸”æœ‰æ•ˆç»Ÿè®¡æˆªæ­¢äº 2019 å¹´ 3 æœˆã€‚\n\t\n- `å¤–è§‚`ï¼šåŸºäºå·¥ä½œç¯å¢ƒçš„å› ç´ è€ƒé‡ï¼Œé¦–å…ˆåå‘äº ITX è§„æ ¼æˆ–è€…é€‚ä¸­è§„æ ¼çš„æœºç®±ï¼›å†è€…æ˜¯æè´¨æ–¹é¢ï¼Œé’¢åŒ–ç»ç’ƒä¾§é€æœºç®±æˆ–é“åˆ¶æœºç®±ï¼Œä¸”å‰è€…å¯è€ƒè™‘åŠ å…¥ RGB ç¯å…‰ç³»ç»Ÿã€‚\n\n\t> æœºç®±è§„æ ¼åˆ†åˆ«æœ‰ï¼šITXï¼ŒM-ATXï¼ŒATX $^{[5]}$ã€‚\n\n- `ç¡¬ä»¶`ï¼š\n\t- `æœºç®±`ï¼šä¸­ç­‰ç´§å‡‘å‹ï¼Œå†è€ƒè™‘æ ‡å‡†å‹ ( å…¼å®¹ ATX çš„å°æœºç®± )ï¼›ä¼˜å…ˆè€ƒè™‘é’¢åŒ–ç»ç’ƒä¾§é€æœºç®±ï¼Œå†åˆ°ä¸€ä½“æˆå‹é“ææœºç®±ã€‚\n\t- `ä¸»æ¿`ï¼šåç¡• ROG ç³»åˆ—ï¼Œæ²¡æœ‰è¶…é¢‘éœ€æ±‚ï¼›æ¥å£æ”¯æŒä¸°å¯Œï¼›åŒ…å« WI-FI ä»¥åŠè“ç‰™æ¨¡ç»„ï¼›mATXã€ITX è§„æ¨¡çš„ä¸»æ¿ ( ä»å·¦åˆ°å³çš„ä¼˜å…ˆé¡ºåº )ã€‚\n\t- `å¤„ç†`ï¼šæ•£è£… CPU ( æ•£çƒ­å™¨è‡ªç”±è´­ç½® )ã€‚\n\t- `ç”µæº`ï¼šå……è¶³çš„åŠŸç‡æ”¯æŒï¼Œä¾¿äºæ—¥åå‡çº§ä¹‹éœ€ã€‚æ³¨æ„æœºç®±å¯¹ç”µæºçš„å°ºå¯¸è¦æ±‚ã€‚\n\t- `ç¡¬ç›˜`ï¼šM.2 SSD 512GBï¼›2T å¸Œæ·æœºæ¢°ç›˜ 7200 è½¬ã€‚\n\t- `å†…å­˜`ï¼šä¸é™æ¡ä»¶ï¼Œè‡ªç”±é€‰æ‹©ã€‚åŠŸç‡åœ¨ 2666-3000 è¶³çŸ£ã€‚\n\t- `æ•£çƒ­`ï¼šå°½å¯èƒ½é™éŸ³ï¼›æ”¯æŒåç¡• AURA ç¯å…‰åŒæ­¥ç³»ç»Ÿã€‚\n\t- `æ˜¾å¡`ï¼šé™å®šä¸º NVDIA ï¼Œä¸” CUDA ç¨‹åºè‰¯å¥½æ”¯æŒã€Tensorflow è‰¯å¥½æ”¯æŒçš„æ˜¾å¡ã€‚\n\t- `å±å¹•`ï¼š2k åˆ†è¾¨ç‡ï¼Œ23.8 / 27 å°ºå¯¸ï¼Œå½“ç„¶èµ„é‡‘å……è¶³å¯è€ƒè™‘ HDR 10ã€‚\n\n### è£…æœºé¢„ä¹ \n- [çŸ¥ä¹é—®é¢˜. DIY è£…æœºæœ‰å“ªäº›è¯¯åŒº. zhihu.com](https://www.zhihu.com/question/35911743)\n- [3DMGAME. ç”µè„‘æ£€æµ‹è·‘åˆ†å·¥å…·å¤§å…¨. 3dmgame.com](https://dl.3dmgame.com/patch/paofenruanjian.html)\n- [å–ä¸€æ‰‹. å°å¼æœºç”µæºé€‰è´­ç»éªŒç¯‡ä¸€ï¼šå“ç‰Œã€ä»£å·¥åŠé€‰è´­ç‚¹. 2015. smzdm.com](https://post.smzdm.com/p/106088/)\n- [å­å¸Œå…„å¼Ÿ. è¶…è¯¦ç»†ç”µè„‘ç»„è£…ã€ç”µè„‘å®‰è£…æ•™ç¨‹æ•™å­¦. 2018. bilibili.com](https://www.bilibili.com/video/av25211498)\n\n### ç¡¬ä»¶æŒ‘é€‰\n- `æœºç®±`ï¼š\n\t-  Sunmilo BG2 é»‘çº¢è‰²ç‰ˆ ( MOD æœºç®± )\n\t\n\t\t> [Sunmilo. å®˜æ–¹æ ·å¼ . taobao.com](https://item.taobao.com/item.htm?spm=a1z10.1-c.w4004-9691348913.8.65186580AZGN5m&id=538855908500) | [Griffyn. æ¡Œé¢ show. chiphell.com](https://www.chiphell.com/thread-1933774-1-1.html)\n\t- ä¹”æ€ä¼¯ RM3 æ ‡å‡†ç‰ˆï¼Œå…¶ä¸­æ­¤å‹å·è¿˜æœ‰ç‚«å½©ç¯å…‰çš„ç‰ˆæœ¬ï¼Œæ”¯æŒè®¢åˆ¶é“­ç‰Œã€‚\n\n\t\t> å…³äº RM3 çš„æ ·æœºæ¼”ç¤ºå¯å‚è€ƒå®˜ç½‘ç»„å›¾ï¼š[RM3 è£…æœºå®ç‰©å±•ç¤ºå›¾](http://www.jonsbo.com/products_30_2.html)\n- `ä¸»æ¿`ï¼šåç¡• ROG B360/Z370/H370 ç³»åˆ— + I/G/F Gaming\n\t- `é€‰æ‹©ä»€ä¹ˆç³»åˆ—` $^{[6]}$ï¼šä¸»æ¿æ˜¯è¡”æ¥æ‰€æœ‰ç¡¬ä»¶çš„åª’ä»‹ï¼Œç»“åˆéœ€æ±‚é€‰æ‹©é€‚ç”¨çš„ä¸»æ¿ã€‚\n\t\t- Z370ã€Z390 æ˜¯é’ˆå¯¹æ˜¯å¦æœ‰è¶…é¢‘éœ€æ±‚çš„äº§å“ï¼Œéœ€æ±‚ä¸å¼ºåˆ™é€‰æ‹© B360ã€‚\n\t\t- H370 ä¸»æ‰“çš„æ˜¯æ‰©å±•æ€§ã€‚å…¶å®šä½å¾ˆå°´å°¬ï¼Œè‹¥ä½ é€‰æ‹© iTX / mATX è§„æ ¼çš„ä¸»æ¿ï¼Œè€ƒé‡æ€§èƒ½å·®è·ã€ä»·æ ¼å·®è·åˆ™æ²¡æœ‰å¿…è¦ä¸Š H370ã€‚\n\t- `å…·ä½“å‹å·è¯´æ˜`ï¼šF ä¸º ATX è§„æ ¼ä¸»æ¿ï¼Œå« RGB ç¯æ•ˆæ¨¡å—ï¼›I ä¸º ITX è§„æ ¼ä¸»æ¿ï¼Œå« RGB ç¯æ•ˆæ¨¡å—ï¼›Gã€Hï¼Œåˆ†åˆ«æ˜¯ mATX å’Œ ATX è§„æ ¼ä¸»æ¿ï¼Œä½†ä¸å« RGB æ¨¡å—ï¼Œä»·æ ¼ç›¸å¯¹æœ€ä¾¿å®œã€‚å½“ç„¶ï¼Œæ˜¯å¦éœ€è¦ PCIe æ‹“å±•æ§½ä¹Ÿæ˜¯éœ€è€ƒé‡çš„å› ç´ ã€‚\n\t- `æ˜ç¡®æœ€ç»ˆéœ€æ±‚`ï¼šå¯¹ä»¥ä¸Šä¸»æ¿å‹å·æœ‰äº†å®è§‚è®¤è¯†åå³å¯æŒ‘é€‰å…·ä½“çš„ä¸»æ¿ã€‚\n\t\t- é¦–å…ˆï¼Œæ˜ç¡®éœ€è¦ç»„è£…æœºçš„è§„æ ¼ä¸º ITX / mATXï¼ŒåŒæ ·é™åˆ¶äº†ä¸»æ¿å°ºå¯¸å¤§å°ï¼›\n\t\t- å…¶æ¬¡ï¼Œæˆ‘ä»¬è¦æ‰“é€ ä¸€å¥—ç¯å…‰ç³»ç»Ÿï¼Œæ•…åç¡•çš„ `AURA` ç¥å…‰åŒæ­¥æ˜¯ä¸å¯ç¼ºå°‘çš„ï¼›\n\t\t- æœ€åï¼Œé€‰æ‹© `åç¡• ROG B360-I Gaming` / `åç¡• TUF Z390M Pro`ã€‚\n- `ç”µæº`ï¼šå› ä¸ºå°æœºç®±ç¼˜æ•…ï¼Œä¸”è¦æ±‚èµ°èƒŒçº¿ï¼Œæ•…é‡‘ç‰Œå…¨æ¨¡ç»„ç”µæºæ˜¯å¿…é¡»çš„ã€‚\n\t- EVGA G3 é‡‘ç‰Œå…¨æ¨¡ç»„ 650W\n\t- æµ·éŸµ 550W é‡‘ç‰Œå…¨æ¨¡ç»„ FOCUS+ 550FX\n\t- æµ·ç›—èˆ¹ SF600  é‡‘ç‰Œå…¨æ¨¡ç»„ 600W\n- `CPU`ï¼šIntel i7 8700 \n- `å†…å­˜`ï¼šæ”¯æŒ AURA ç¯æ•ˆçš„å†…å­˜ï¼Œé¢‘ç‡ä¿æŒ 2666-3000 Hz æ°´å¹³å·¦å³ã€‚\n\t- åé“¨ DDR4 3200 RGB ç¯æ¡ 8GB \\* 2\n\t- èŠå¥‡ DDR4 3000 å¹»å…‰æˆŸ 8GB  \\* 2\n- `ç¡¬ç›˜`ï¼š\n\t- `å›ºæ€`ï¼šæµ¦ç§‘ç‰¹  M9PeG 512GB M.2 NVMe\n\t- `æœºæ¢°`ï¼šå¸Œæ· ST2000DM008 2TB 7200 SATA\n- `æ•£çƒ­`ï¼š\n\t- åˆ©æ°‘ é“¶ç®­ 130 Plus + NF-A12  2000 PWM æ•£çƒ­é£æ‰‡ * 1\n\t- çŒ«å¤´é¹° D15S çŸ³å¢¨çƒ¯ç‰ˆæœ¬ + NF-A14 1500 PWM æ•£çƒ­é£æ‰‡ * 1\n- `é£æ‰‡`ï¼šMOD å®šåˆ¶çš„æœºç®±ï¼Œç”¨äºæœºç®±çš„é£æ‰‡éœ€è¦ 5 ä¸ªã€‚\n\t- æœºç®±åº•è¿›é£ï¼šå‡ºäº AURA ç¯å…‰åŒæ­¥ç³»ç»Ÿçš„è€ƒé‡ï¼Œæš‚è€ƒè™‘è¶…é¢‘ä¸‰ çš“æœˆ RGB\n\t- æœºç®±åæ’é£ï¼šçŒ«å¤´é¹° NF-A8 2200 PWM æ•£çƒ­é£æ‰‡ * 2\n- `æ˜¾å¡`ï¼šåç¡• ROG STRIX RTX2060 / æŠ€å˜‰ RTX2060 å°é›•\n- `å±å¹•`ï¼šæˆ´å°” 2518DR\n\n### è´­ä¹°æ¸ é“\n- åŸºäºä»·æ ¼ã€ä¾›è´§æ¸ é“ã€ç»´ä¿®å”®åä¿éšœï¼Œé€‰æ‹©è´­ä¹°ç¡¬ä»¶çš„ç”µå•†å¹³å°ï¼š\n\t- çº¿ä¸‹ï¼šCPUã€æ˜¾å¡\n\t- æ·˜å®ï¼šæœºç®±ã€çº¿æ\n\t- äº¬ä¸œï¼šä¸»æ¿ã€ç”µæºã€å†…å­˜ã€ç¡¬ç›˜ã€æ•£çƒ­ã€é£æ‰‡ã€æ˜¾ç¤ºå™¨\n\t- é—²é±¼ï¼šæ˜¾ç¤ºå™¨\n\n### æ¡ˆä¾‹æœé›†\n- å…³äºè£…æœºçš„æ¡ˆä¾‹ï¼Œä¸»è¦å›´ç»•ä»¥ä¸‹éœ€æ±‚è¿›è¡Œæœé›†ï¼š\n\t- åŸºäºå·¥ä½œç¯å¢ƒçš„å› ç´ è€ƒé‡ï¼Œé¦–å…ˆåå‘äº ITX / mATX è§„æ ¼çš„æ¡ˆä¾‹ã€‚\n\t- æœºç®±æ˜¯é’¢åŒ–ç»ç’ƒæè´¨ä¾§é€æœºç®±ï¼Œæ‹¥æœ‰é€è§†å†…éƒ¨ç»“æ„æ•ˆæœï¼Œè€ƒè™‘ RGB ç¯å…‰ç³»ç»Ÿï¼Œä¸”æ³¨é‡ RGB ç³»ç»Ÿçš„å¯æ§æ€§ã€‚\n\t- æ³¨é‡èµ°çº¿å·¥æ•´æ€§ï¼Œæœ€ç†æƒ³çš„åˆ™æ˜¯åŒ…å«å®‰è£…è¿‡ç¨‹ä¸æ•™ç¨‹çš„æ¡ˆä¾‹ã€‚\n\n#### ITX è§„æ ¼\n- æ¡ˆä¾‹ï¼š[80itç”µè„‘ç½‘. çµé­‚èµ°çº¿ç³»åˆ—19. 2018. bilibili.com](https://www.bilibili.com/video/av35835083)\n\t- æœºç®±ï¼šè¿å¹¿ in win A1 ( ITX )\n\t- ä¸»æ¿ï¼šåç¡• Strix ROG Z390-I Gaming ( mini-ITX )\n\t- ç”µæºï¼šæµ·ç›—èˆ¹ SF600 å…¨æ¨¡ç»„\n\t- CPUï¼šIntel i7 9700k\n\t- å†…å­˜ï¼šèŠå¥‡ Trident Z RGB * 3\n\t- ç¡¬ç›˜ï¼šä¸‰æ˜Ÿ M.2 SSD 970 EVO 500GB\n\t- æ˜¾å¡ï¼šåç¡• Strix ROG 2080 8G çŒ›ç¦½\n\t- æ•£çƒ­ï¼šåç¡• ROG é¾™ç‹ 120 ( CPU æ•£çƒ­ )\n\t- é£æ‰‡ï¼šæµ·ç›—èˆ¹ LL120 RGB * 3 ( æœºç®±æ•£çƒ­ )\n- æ¡ˆä¾‹ï¼š[ITXå®éªŒå®¤. ITX ä¸šç•Œæ ‡æ† MK3S & StarWars ä¸»é¢˜è£…æœº. 2019. bilibili.com](https://www.bilibili.com/video/av41426930)\n\t- æœºç®±ï¼šMK3S å®šåˆ¶æœºç®± ( å·¥æœŸå¾ˆé•¿ï¼Œå¿…é¡»æœ‰å¾ˆå¼ºä¿¡ä»°æ‰æ•¢ä¹°å•Š )\n\t- ä¸»æ¿ï¼šåæ“ Z390 ITX å¹»å½±ç”µç«\n\t- ç”µæºï¼šæµ·ç›—èˆ¹ SF600 å…¨æ¨¡ç»„\n\t- CPUï¼šIntel i7 9900k\n\t- å†…å­˜ï¼šåé“¨ ç‹è€…ä¹‹å‰‘ å¤œé¹° RGB\n\t- ç¡¬ç›˜ï¼šæƒ æ™® M.2 SSD EX920 1TB\n\t- æ˜¾å¡ï¼šTITAN XP Starwars é™å®š\n\t- æ•£çƒ­ï¼šåˆ©æ°‘ é“¶ç®­130 + çŒ«å¤´é¹° NF-F12 industrialPPC-3000 PWM ( CPU æ•£çƒ­ )\n\t- é£æ‰‡ï¼šTt Luna 8cm RED RGB * 2 ( æœºç®±æ•£çƒ­ )\n- æ¡ˆä¾‹ï¼š[FUSION II. æé™æ€§èƒ½TXè¿·ä½ å°é’¢ç‚®è£…æœºæ‘„å½±. 2017. bilibili.com](https://www.bilibili.com/video/av16513351) \n\t- æœºç®±ï¼šNCASE M1 ( ITX )\n\t- ä¸»æ¿ï¼šå¾®æ˜Ÿ Z370I Pro CarBon AC ( mini-ITX )\n\t- ç”µæºï¼šæµ·ç›—èˆ¹ SF600 å…¨æ¨¡ç»„\n\t- CPUï¼šIntel i5 8600k\n\t- å†…å­˜ï¼šæµ·ç›—èˆ¹ ç™½é‡‘ç»Ÿæ²»è€… 16G 2666MHz * 2\n\t- ç¡¬ç›˜ï¼šä¸‰æ˜Ÿ M.2 SSD 960 EVO 250GB\n\t- æ˜¾å¡ï¼šEVGA GTX1080TI SC2\n\t- æ•£çƒ­ï¼šçŒ«å¤´é¹° D9L ( CPU æ•£çƒ­ ) \n\t- é£æ‰‡ï¼šEK Vardar EVO 12cm 2200RPM ( æœºç®±æ•£çƒ­ )\n\n#### mATX è§„æ ¼\n- æ¡ˆä¾‹ï¼š[FUSION II. ä»·å€¼$3300ç¾åˆ€æé™æ€§èƒ½è£…æœº. 2018.bilibili.com](https://www.bilibili.com/video/av21497419)\n\t- æœºç®±ï¼šMeshify C Mini\n\t- ä¸»æ¿ï¼šåæ“ X399M å¤ªæ ( mATX )\n\t- ç”µæºï¼šæµ·ç›—èˆ¹ SF600 å…¨æ¨¡ç»„\n\t- CPUï¼šIntel i5 8600k\n\t- å†…å­˜ï¼šæµ·ç›—èˆ¹ å¤ä»‡è€… 8GB DDR4 3000 MHz * 2\n\t- ç¡¬ç›˜ï¼šä¸‰æ˜Ÿ M.2 SSD 960 EVO 250GB\n\t- æ˜¾å¡ï¼šEVGA GTX1080TI SC2\n\t- æ•£çƒ­ï¼šå®‰è€ç¾ LiqTech TR4 240 ä¸€ä½“æ°´å†·æ•£çƒ­å™¨ ( CPU æ•£çƒ­ )\n\t- é£æ‰‡ï¼šé…·å†·è‡³å°Š MasterFan Pro 120 RGB é£æ‰‡å¥—è£… ( æœºç®±æ•£çƒ­ )\n\n\t\t> æœ¬å¥—æ–¹æ¡ˆåŒ…å«å®‰è£…è¿‡ç¨‹çš„è¯¦ç»†è§£è¯´ä»¥åŠèµ°çº¿æ¼”ç¤ºï¼Œæ¨èè§‚çœ‹ã€‚\n\t\n- æ¡ˆä¾‹ï¼š[Okeydokeyç§‘æŠ€. è¶…å¹²å‡€çš„æ— RGBæ©æ°è£…æœº. 2018.bilibili.com](https://www.bilibili.com/video/av32759959)\n\t- æœºç®±ï¼šæ©æ° H400i\n\t- ä¸»æ¿ï¼šåç¡• ROG Strix Z370-G ( mATX )\n\t- ç”µæºï¼šæµ·ç›—èˆ¹ RM650X å…¨æ¨¡ç»„ç”µæº\n\t- CPUï¼šIntel i7 8700k\n\t- å†…å­˜ï¼šåé“¨ DARK PRO 32GB DDR4\n\t- ç¡¬ç›˜ï¼šä¸‰æ˜Ÿ M.2 SSD 960 EVO 250GB\n\t- æ˜¾å¡ï¼šEVGA GTX 1080 Ti SC2\n\t- æ•£çƒ­ï¼šEK Coolstream 280mm ( CPU æ°´å†·æ•£çƒ­ )\n\t- æ•£çƒ­ï¼šçŒ«å¤´é¹° NH-U9S + NF-B9 \\* 2 ( CPU é£å†·æ•£çƒ­ )\n\t- é£æ‰‡ï¼šEK Vardar EVO 120mm \\* 2 + 140mm \\* 2 ( æœºç®±æ•£çƒ­ )  \n\n\t\t> æœ¬å¥—æ–¹æ¡ˆå°è¯•äº†ä¸¤å¥—æ•£çƒ­ç³»ç»Ÿï¼Œåˆ†åˆ«æ˜¯çŒ«å¤´é¹°çš„é£å†·å¥—è£…å’Œ EK çš„æ°´å†·å¥—è£…ã€‚\n\n## å‚è€ƒèµ„æ–™\n- [1] [Liuspy. åƒå…ƒ DIY æå®š 7*24 å°æ—¶ N in 1 æœåŠ¡å™¨. smzdm.com](https://post.smzdm.com/p/674680/)\n- [2] [å‘¨æ™“é”‹. è½¯è·¯ç”± Vs. ç¡¬è·¯ç”±. 2011. 51cto.com](http://blog.51cto.com/likespc/714064)\n- [3] [äº‘ä¸Šå°æ‚Ÿ. è½¯è·¯ç”± Vs ç¡¬è·¯ç”±. 2013. maixj.net](http://www.maixj.net/ict/ruanluyou-yingluyou-5723)\n- [4] [è·ªç€è¡Œèµ°çš„boY. Git å’Œ Svn çš„è¯¦ç»†å¯¹æ¯”. cnblogs.com. 2017](http://www.cnblogs.com/dazhidacheng/p/7478438.html)\n- [5] [å¤æ–¹æ—¥æœˆå·²ä½¿ç”¨. ç”µè„‘ä¸»æ¿æ¿å‹æ€ä¹ˆé€‰ ATXã€ITXè¿˜å‚»å‚»åˆ†ä¸æ¸…. 2017. zol.com.cn](http://bbs.zol.com.cn/diybbs/d402_9829.html)\n- [6] [å¤ªå¹³æ´‹ç”µè„‘ç½‘. Z370/H370/B360/H310ä¸»æ¿æ€ä¹ˆé€‰. 2018. baijiahao.baidu.com](http://baijiahao.baidu.com/s?id=1601905877566591798&wfr=spider&for=pc)","tags":["sunmilo"],"categories":["Technique"]},{"title":"ç¬”è®° | æ•°æ®åˆ†æå­¦ä¹ æ¡†æ¶","url":"%2F2018%2F09%2Fdata-analysis-learning-framework.html","content":"\næœ¬ç¬”è®°ä»¥ç§¦è·¯è€å¸ˆçš„æ–‡ç« ã€Œå¦‚ä½•ä¸ƒå‘¨æˆä¸ºæ•°æ®åˆ†æå¸ˆã€ä¸ºå†…å®¹æ¡†æ¶ï¼Œæ•´åˆç›¸å…³çš„è®ºæ–‡ã€ä¹¦ç±ã€è§†é¢‘èµ„æ–™ï¼Œè¾“å‡ºå­¦ä¹ ç¬”è®°ã€‚ä¸»è¦ç›®çš„æ˜¯æ£€éªŒè‡ªå·±çš„å­¦ä¹ æ•ˆæœå’Œæ—¥å¸¸å¤ä¹ ä¹‹éœ€ã€‚\n\nåˆå…¥æ•°æ®åˆ†æçš„å¤§é—¨ï¼Œç¬”è®°å¤§éƒ¨é—¨çš„çŸ¥è¯†æ¨¡å—ä»¥é˜…è¯»åŸèµ„æ–™æ€»ç»“æ•´ç†è€Œå¾—ï¼Œéš¾å…æœ‰ç†è§£åå·®ã€é”™è¯¯çš„åœ°æ–¹ï¼Œè‹¥æœ‰ä¸æ­£å½“çš„è§£é‡Šè¿˜æœ›æœ‹å‹ä»¬ä¸åæŒ‡æ•™ï¼\n\n<!-- More -->\n\n## æ›´æ–°è¿›åº¦\n- 2018.09.29ï¼šå®Œæˆåˆç¨¿ï¼Œå½¢æˆç¬”è®°çš„æ•´ä½“æ¡†æ¶ï¼›\n- 2018.09.30ï¼šæ›´æ–°ã€Œæ•°æ®åˆ†æå…¥é—¨ã€ç« èŠ‚ï¼›\n\n## å­¦ä¹ æ¡†æ¶\n- `æ•´ä½“æ¡†æ¶`ï¼šæœ¬ç¬”è®°ä»¥ç§¦è·¯è€å¸ˆçš„æ–‡ç« ã€Œå¦‚ä½•ä¸ƒå‘¨æˆä¸ºæ•°æ®åˆ†æå¸ˆã€$^{[1]}$ ä¸ºå†…å®¹æ¡†æ¶ï¼Œæ•´åˆç›¸å…³çš„è®ºæ–‡ã€ä¹¦ç±ã€è§†é¢‘èµ„æ–™ï¼Œè¾“å‡ºå­¦ä¹ ç¬”è®°ã€‚\n- `æ•°å­¦éƒ¨åˆ†`ï¼šæ•°æ®åˆ†æï¼Œç¦»ä¸å¼€æ•°å­¦ã€‚å…³äºå­¦ä¹ èµ„æ–™çš„é€‰æ‹©ï¼Œæ¨èç››éª¤è€å¸ˆçš„ã€Šæ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡Â·ç¬¬4ç‰ˆã€‹å’Œå¼ å®‡è€å¸ˆçš„ã€Šå¸¦ä½ å­¦æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡Â·æµ™å¤§4ç‰ˆã€‹ã€‚\n\n\t> æ•°å­¦å¹¶ä¸æ˜¯è‡ªå·±æ“…é•¿çš„ç§‘ç›®ï¼Œå‡ºäºè¿™æ ·çš„è€ƒè™‘ï¼Œæ•…é€‰æ‹©äº† `å¤§å­¦æ•™æ` å’Œ `è€ƒç ”è¾…å¯¼ä¹¦`ï¼Œå¸Œæœ›å€Ÿä»¥ä¹ é¢˜è¾…å¯¼ä¹¦å¤ä¹ æ•™æå†…å®¹ï¼Œä»¥çŸ­æ—¶é—´è·å¾—æœ€å¤§æˆæ•ˆæ¯”ã€‚\n\n\t- ğŸ“– | ä¹¦ç± | [ç››éª¤. æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡Â·ç¬¬4ç‰ˆ. é«˜ç­‰æ•™è‚²å‡ºç‰ˆç¤¾](https://book.douban.com/subject/3165271/)\n\n\t- ğŸ“– | ä¹¦ç± | [å¼ å®‡. å¸¦ä½ å­¦æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡Â·æµ™å¤§4ç‰ˆ. åŒ—äº¬ç†å·¥å¤§å­¦å‡ºç‰ˆç¤¾](https://book.douban.com/subject/26630236/)\n\n\t- ğŸ“º | è§†é¢‘ | [å¼ å®‡. 2018 è€ƒç ”æ¦‚ç‡è®ºå¼ºåŒ–è¯¾ç¨‹. bilibili.com](https://www.bilibili.com/video/av14690558?from=search&seid=2673720085936060940)\n\n\t- ğŸ“ | æ–‡ç«  | [Kofe | ç¬”è®° | æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡](https://www.kofes.cn/2018/09/probability-and-statistics.html)\n\n- `ç»Ÿè®¡éƒ¨åˆ†`ï¼šå¾ˆé—æ†¾å¯¹æ­¤éƒ¨åˆ†çŸ¥è¯†ä¸äº†è§£ï¼Œåœ¨æ­¤ä¸å…·ä½“å±•å¼€æ¢è®¨ã€‚ä½†ã€Šæ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ã€‹çš„æ•°ç†ç»Ÿè®¡éƒ¨åˆ†å¯ä»¥é¢„å…ˆå¤ä¹ ã€‚\n\n- `æ•°æ®åº“éƒ¨åˆ†`ï¼šåœ¨ç§¦è·¯è€å¸ˆçš„æ–‡ç« ä¸­ï¼Œæ•°æ®åº“éƒ¨åˆ†ä¾§é‡ SQL ( ç»“æ„åŒ–æŸ¥è¯¢è¯­è¨€ ) çš„è®²è§£ï¼Œå½“ç„¶è¿™ä¹Ÿæ˜¯æ“ä½œæ€§å’Œå®ç”¨æ€§å¾ˆå¼ºçš„ä¸€æ¨¡å—ã€‚ä¸”æ®ä»¥å¾€è¯­è¨€å­¦ä¹ çš„ç»å†ï¼Œ`å¤šå†™ã€å¤šç»ƒ` æ˜¯å¿…ä¸å¯å°‘çš„é˜¶æ®µï¼ŒSQL ä¹Ÿä¸ä¾‹å¤–ï¼Œé™„å¸¦çš„ç»ƒä¹ é¢˜ç›®ä¸­æœ‰ä¸å°‘ç»å…¸çš„å®ä¾‹ï¼Œä½œä¸ºå…¥é—¨è®­ç»ƒææ–™åˆšå¥½åˆé€‚ã€‚\n\n\tå½“ç„¶ï¼Œæ•°æ®åº“çš„çŸ¥è¯†ä¸ä»…å¦‚æ­¤ï¼Œæœ‰éœ€æ±‚çš„æœ‹å‹å¯ç»§ç»­å‚é˜…ä¹¦ç±ã€Šæ•°æ®åº“ç³»ç»Ÿæ¦‚å¿µã€‹$^{[2]}$ï¼Œå³ä»¥æ•°æ®åº“å·¥ç¨‹å¸ˆçš„è§’åº¦å‡ºå‘ï¼Œä»éœ€æ±‚åˆ°ç»´æŠ¤çš„æµç¨‹åŒ–å­¦ä¹ è¿‡ç¨‹ï¼Œæ•´ä½“æ¶æ„ä¸Šå­¦ä¹ æ•°æ®åº“è¿™é—¨å­¦ç§‘ã€‚\n\t\n\t- ğŸ“ | æ–‡ç«  | [W3CSchool SQL æ•™ç¨‹ & ç»ƒä¹ é¢˜](http://www.w3school.com.cn/sql/index.asp)\n\n\t- ğŸ“ | æ–‡ç«  | [LeetCode SQL ç»ƒä¹ é¢˜](https://leetcode-cn.com/problemset/database/)\n\n\t- ğŸ“– | ä¹¦ç± | [Abraham Silberschatz. æ•°æ®åº“ç³»ç»Ÿæ¦‚å¿µ. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾](https://book.douban.com/subject/10548379/)\n\n\t- ğŸ“– | ä¹¦ç± | [ç¦è¾¾(Ben Forta). SQL å¿…çŸ¥å¿…ä¼š. äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾](https://book.douban.com/subject/24250054/)\n\t\n- `ç¼–ç¨‹éƒ¨åˆ†`ï¼šä¸»å¯¼ Python è¯­è¨€ç¼–ç¨‹ã€‚ç”±äºç¯‡å¹…çš„ç¼˜æ•…ï¼Œè¯¥éƒ¨åˆ†å†…å®¹è¯·å‚é˜…å¦ä¸€ç¯‡åšæ–‡ï¼š\n\n\t- ğŸ“ | æ–‡ç«  | [Kofe | ç¬”è®° | Python 3 å…¥é—¨ç³»åˆ—æ•™ç¨‹](https://www.kofes.cn/2018/09/life-is-short-we-need-python.html)\n\n\t- ğŸ“ | æ–‡ç«  | [å»–é›ªå³°. Python æ•™ç¨‹. 2018. liaoxuefeng.com](https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000)\n\n\t\t> å½“ç„¶ï¼ŒPython çš„å­¦ä¹ è¿˜å¯ä»¥å‚è€ƒå»–é›ªå³°è€å¸ˆçš„æ•™ç¨‹ã€‚\n\n\t- ğŸ“– | ä¹¦ç± | [Iamseancheney (è¯‘). Python æ•°æ®åˆ†æ (ç¬¬äºŒç‰ˆ). 2017. github.com](https://github.com/iamseancheney/python_for_data_analysis_2nd_chinese_version)\n\n\t\t> æœ¬ä¹¦æ˜¯ 2017 å¹´ 10 æœˆ 20 å·æ­£å¼å‡ºç‰ˆçš„ï¼Œå’Œç¬¬ä¸€ç‰ˆçš„ä¸åŒä¹‹å¤„æœ‰ï¼š  \n\t\t> 1) åŒ…æ‹¬ Python æ•™ç¨‹å†…çš„æ‰€æœ‰ä»£ç å‡çº§ä¸º `Python 3.6`ï¼›  \n\t\t> 2) æ›´æ–°äº† Anaconda å’Œå…¶å®ƒåŒ…çš„ Python å®‰è£…æ–¹æ³•ï¼›   \n\t\t> 3) æ›´æ–°äº† Pandas ä¸º 2017 æœ€æ–°ç‰ˆï¼›  \n\t\t> 4) æ–°å¢ `é«˜çº§çš„ Pandas å·¥å…·` ç« èŠ‚ï¼›   \n\t\t> 5) ç®€è¦ä»‹ç»å’Œä½¿ç”¨ `StatsModels` å’Œ `scikit-learn`.  \n\n- `ç ”ç©¶éƒ¨åˆ†`ï¼šè‡ªå·±è¯¾é¢˜çš„éœ€æ±‚ï¼Œæ•°æ®ç§‘å­¦æ–¹å‘çš„ç ”ç©¶æ˜¯å¿…ä¸å¯å°‘çš„ç¯èŠ‚ã€‚ç¯‡å¹…åŸå› ï¼Œåˆ™ç»†èŠ‚åœ¨ä¸‹æ–‡ä¸­å±•å¼€æ¢è®¨ã€‚æŒ‰ç…§æƒ¯ä¾‹ï¼Œä¸ºäº†ä¾¿äºçŸ¥è¯†çš„å¼•ç”¨å’Œé—®é¢˜çš„æ¢è®¨ï¼Œä»¥ä¸‹ç½—åˆ—è‡ªå·±æ‰€ä½¿ç”¨åˆ°çš„å­¦ä¹ èµ„æ–™ã€‚\n\t- ğŸ‰ | ä¹¦ç± | [å‘¨å¿—å. æœºå™¨å­¦ä¹  (è¥¿ç“œä¹¦). æ¸…åå¤§å­¦å‡ºç‰ˆç¤¾](https://book.douban.com/subject/26708119/)\n\n\t- ğŸŒ¼ | ä¹¦ç± | [[ç¾] ä¼Šæ©Â·å¤å¾·è´¹æ´›. æ·±åº¦å­¦ä¹  (èŠ±ä¹¦). äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾](https://book.douban.com/subject/27087503/)\n\n\t- ğŸ“º | è§†é¢‘ | [æ·±åº¦å­¦ä¹ . è¯»ä¹¦ä¼šåˆ†äº«è§†é¢‘é›†. bilibili.com](https://www.bilibili.com/video/av15558220)\n\n\t\t> è§†é¢‘è½¬è½½è‡ªï¼š[Alena Kruchkova. Deep Learning Book Live Streams. youtube.com](https://www.youtube.com/playlist?list=PLsXu9MHQGs8eO64mazCnCU3bc9l25Z1ZZ)  \n\t\t> è‹¥æœ‰æ¡ä»¶ç§‘å­¦ä¸Šç½‘çš„æœ‹å‹ï¼Œå¯è‡³ Youtube æ­é…åœ¨çº¿å­—å¹•è§‚çœ‹ã€‚\n\t\n\t- ğŸ“– | ä¹¦ç± | [æèˆª. ç»Ÿè®¡å­¦ä¹ æ–¹æ³•. æ¸…åå¤§å­¦å‡ºç‰ˆç¤¾](https://book.douban.com/subject/10590856/)\n\n\t- ğŸ“– | ä¹¦ç± | [[ç¾] Jiawei Han. æ•°æ®æŒ–æ˜ï¼šæ¦‚å¿µä¸æŠ€æœ¯ (åŸä¹¦ç¬¬3ç‰ˆ). æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾](https://book.douban.com/subject/11542972/)\n\n## æ•°æ®åˆ†æå…¥é—¨\n\n### Excelï¼šä¸è€ƒè™‘æ€§èƒ½å’Œæ•°æ®é‡\n- æŒæ¡å„ç±»åŠŸèƒ½å¼ºå¤§çš„å‡½æ•° -- [å¸¸è§ Excel å‡½æ•°](https://ask.hellobi.com/blog/qinlu/5976)\n\t- æ¸…æ´—å¤„ç†ç±»ï¼štrimã€concatenateã€replaceã€substituteã€left/right/midã€len/lenbã€findã€searchã€text\n\t- å…³è”åŒ¹é…ç±»ï¼šlookupã€vlookupã€indexã€matchã€rowã€columnã€offset\n\t- é€»è¾‘è¿ç®—ç±»ï¼šifã€andã€orã€isç³»åˆ—\n\t- è®¡ç®—ç»Ÿè®¡ç±»ï¼šsum/sumif/sumifsã€sumproductã€count/countif/countifsã€maxã€minã€rankã€rand/randbetweenã€averageaã€quartileã€stdevã€`substotal`ã€int/round\n\t- æ—¶é—´åºåˆ—ç±»ï¼šyearã€monthã€weekdayã€weeknumã€dayã€dateã€nowã€todayã€`datedif`\n- Excel å¸¸ç”¨å·¥å…· -- [æ•°æ®åˆ†æï¼šExcel æŠ€å·§å¤§æ­ç§˜](https://ask.hellobi.com/blog/qinlu/5977)\n\t- `æ ¼å¼è½¬æ¢`ï¼šè‡ªå®šä¹‰æ ¼å¼è§„èŒƒæ—¶é—´ã€‚\n\t\t\n\t\t> 2016/11/11 å†™æˆ yyyy/MM/dd  \n\t\t> 2016-11-11 23:59:59 å†™æˆ yyyy-MM-dd HH:mm:ss\n\t\t\n\t- `åˆ†åˆ—`ï¼šåˆ†åˆ—åŠŸèƒ½å¯ä»¥å°†æŸä¸€åˆ—æŒ‰ç…§ç‰¹å®šè§„åˆ™æ‹†åˆ†ï¼Œå¸¸å¸¸ç”¨æ¥è¿›è¡Œæ•°æ®æ¸…æ´—ã€‚\n\t- `æ•°æ®é€è§†è¡¨`ï¼šæ•°æ®é€è§†è¡¨çš„æ ¸å¿ƒæ€æƒ³æ˜¯èšåˆè¿ç®—ï¼Œå°†å­—æ®µåç›¸åŒçš„æ•°æ®èšåˆèµ·æ¥ï¼Œæ‰€è°“æ•°ä»¥ç±»åˆ†ã€‚\n\n\t\t> åˆ—å’Œè¡Œçš„è®¾ç½®ï¼Œåˆ™æ˜¯æŒ‰ä¸åŒè½´å‘å±•ç°æ•°æ®ã€‚ç®€å•è¯´ï¼Œä½ æƒ³è¦ä»€ä¹ˆç»“æ„çš„æŠ¥è¡¨ï¼Œå°±ç”¨ä»€ä¹ˆæ ·çš„æ‹–æ‹½æ–¹å¼ã€‚\n\t\t\n\t- `åˆ é™¤é‡å¤é¡¹`ï¼šä¸€ç§æ•°æ®æ¸…æ´—å’Œæ£€éªŒçš„å¿«é€Ÿæ–¹å¼ã€‚æƒ³è¦éªŒè¯æŸä¸€åˆ—æœ‰å¤šå°‘ä¸ªå”¯ä¸€å€¼ï¼Œæˆ–è€…æ•°æ®æ¸…æ´—ï¼Œéƒ½å¯ä»¥ä½¿ç”¨ã€‚\n\t- `è‡ªå®šä¹‰ä¸‹æ‹‰èœå•` (æ•°æ®æœ‰æ•ˆæ€§)ï¼šæ•°æ®æœ‰æ•ˆæ€§æ˜¯ä¸€ç§çº¦æŸï¼Œé’ˆå¯¹å•å…ƒæ ¼é™åˆ¶å…¶è¾“å…¥ï¼Œä¹Ÿå°±æ˜¯è®©å…¶åªèƒ½å›ºå®šå‡ ä¸ªå€¼ã€‚ä¸‹æ‹‰èœå•æ˜¯ä¸€ç§é«˜é˜¶åº”ç”¨ï¼Œé€šè¿‡å…è®¸ä¸‹æ‹‰ç®­å¤´å³å¯ã€‚\n\t- `æŸ¥æ‰¾å…¬å¼é”™è¯¯`ï¼šå…¬å¼æŠ¥é”™ä¹Ÿä¸çŸ¥é“é”™åœ¨å“ªé‡Œæ—¶å€™å¯ä»¥ä½¿ç”¨è¯¥åŠŸèƒ½ï¼Œå°¤å…¶æ˜¯å„ç±»IFåµŒå¥—æˆ–è€…å¤šè¡¨å…³è”ï¼Œé€»è¾‘å¤æ‚æ—¶ã€‚æŸ¥æ‰¾å…¬å¼é”™è¯¯æ˜¯é€æ­¥è¿ç®—çš„ï¼Œä»¥æ–¹ä¾¿å®šä½ã€‚\n\t- `åˆ†ç»„å’Œåˆ†çº§æ˜¾ç¤º`ï¼šå¸¸ç”¨åœ¨æŠ¥è¡¨ä¸­ï¼Œåœ¨æŠ¥è¡¨è¡Œæ•°å¤šåˆ°ä¸€å®šç¨‹åº¦æ—¶ï¼Œé€šè¿‡åˆ†ç»„è¾¾åˆ°å¿«é€Ÿåˆ‡æ¢å’Œéšè—çš„ç›®çš„ã€‚\n\t- **`åˆ†æå·¥å…·åº“`**ï¼šåˆ†æå·¥å…·åº“æ˜¯é«˜é˜¶åˆ†æçš„åˆ©å™¨ï¼ŒåŒ…å«å¾ˆå¤šç»Ÿè®¡è®¡ç®—ï¼Œæ£€éªŒåŠŸèƒ½ç­‰å·¥å…·ã€‚Excelæ˜¯é»˜è®¤ä¸å®‰è£…çš„ï¼Œè¦å®‰è£…éœ€è¦åŠ è½½é¡¹ï¼Œåœ¨å·¥å…·èœå•ä¸‹ï¼ˆä¸åŒç‰ˆæœ¬å®‰è£…æ–¹å¼ä¼šæœ‰ä¸€ç‚¹å°å·®å¼‚ï¼‰ã€‚\n\t\n\t   > åˆ†æå·¥å…·åº“æ˜¯ç»Ÿè®¡åŒ…ï¼Œå¦‚éšæœºæ•°å‘ç”Ÿå™¨ã€æ’ä½ä¸ç™¾åˆ†æ¯”æ’ä½ã€å›å½’ã€æŠ½æ ·ã€t-æ£€éªŒç­‰ã€‚\n\t\t\n- Excel å®æˆ˜æ•™ç¨‹ -- [æ•°æ®åˆ†æï¼šæ‰‹æŠŠæ‰‹æ•™ä½ Excelå®æˆ˜](https://ask.hellobi.com/blog/qinlu/5978)\n\t- æ˜ç¡®ç›®çš„\n\t\t- æ•°æ®ç”¨æ¥è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Ÿ\n\t\t- æ±‡æ€»ç»Ÿè®¡åˆ¶ä½œæŠ¥è¡¨ï¼Ÿ\n\t\t- æ•°æ®å¯è§†åŒ–ï¼Œä½œä¸ºä¸€å¼ ä¿¡æ¯å›¾ï¼Ÿ\n\t\t- éªŒè¯æŸä¸€ç±»ä¸šåŠ¡å‡è®¾ï¼Ÿ\n\t\t- æé«˜æŸä¸€ä¸ªæŒ‡æ ‡çš„KPIï¼Ÿ\n\t- è§‚å¯Ÿæ•°æ®\n\t\t- æ•°æ®æœ‰æ— ç¼ºå¤±å€¼\n\t\t  - æŸä¸€å­—æ®µç¼ºå¤±æ•°æ®è¾ƒå¤šï¼Œè¦è€ƒè™‘æ˜¯å¦åˆ é™¤è¯¥å­—æ®µï¼ˆè¶…è¿‡ 50% å³æ²¡æœ‰ä¸šåŠ¡æ„ä¹‰äº†ï¼‰\n\t\t- æ•°æ®æ˜¯å¦ä¸€è‡´åŒ–\n\t\t- æ•°æ®æ˜¯å¦æœ‰è„æ•°æ®ï¼šä¹±ç ï¼Œé”™ä½ï¼Œé‡å¤å€¼ï¼ŒæœªåŒ¹é…æ•°æ®ï¼ŒåŠ å¯†æ•°æ®\n\t\t- æ•°æ®æ ‡å‡†ç»“æ„\n\t- æ•°æ®æ¸…æ´—ï¼šç»“åˆ `è§‚å¯Ÿæ•°æ®` é˜¶æ®µå®Œæˆçš„å·¥ä½œï¼Œå¯¹æ•°æ®è¿›è¡Œ `é¢„å¤„ç†æ“ä½œ`ã€‚\n\t- åˆ†æè¿‡ç¨‹\n\t   - æ•°æ®é€è§†è¡¨\n- å•å…ƒæ ¼æ ¼å¼ï¼šæ•°æ®åˆ†æå¸ˆä¼šå’Œå„ç§æ•°æ®ç±»å‹æ‰“äº¤é“ï¼ŒåŒ…æ‹¬å„ç±» timestampï¼Œdateï¼Œstringï¼Œintï¼Œbigintï¼Œcharï¼Œfactorï¼Œfloat ç­‰ã€‚\n- äº†è§£ä¸­æ–‡ç¼–ç ï¼šUTF-8ã€GBKã€ASCII ç ã€‚\n\n### Excelï¼šæ•°æ®å¯è§†åŒ–\n- Excelï¼šå¤šç§ç»å…¸å›¾è¡¨\n\t- [æ•°æ®å¯è§†åŒ–ï¼šä½ æƒ³çŸ¥é“çš„ç»å…¸å›¾è¡¨å…¨åœ¨è¿™](https://ask.hellobi.com/blog/qinlu/5986)\n\t   - æ•£ç‚¹å›¾ï¼šè¡¨ç¤ºä¸¤ä¸ªå˜é‡ä¹‹é—´çš„å…³ç³»ã€‚åç»­çš„å­¦ä¹ ä¸­ï¼Œå¤šæ¬¡å€Ÿç”¨åˆ°æ•£ç‚¹ï¼Œç»Ÿè®¡ä¸­çš„ `å›å½’åˆ†æ`ï¼Œæ¯”å¦‚æ•°æ®æŒ–æ˜ä¸­çš„ `èšç±»`ã€‚\n\t   - æŠ˜çº¿å›¾ï¼šäº†è§£æŸä¸€ç»´åº¦åœ¨æ—¶é—´ä¸Šçš„è§„å¾‹æˆ–è€…è¶‹åŠ¿ã€‚\n\t   - æŸ±å½¢å›¾ï¼šå †ç§¯æŸ±å½¢å›¾ï¼Œç€‘å¸ƒå›¾ï¼Œæ¨ªå‘æ¡å½¢å›¾ï¼Œæ¨ªè½´æ­£è´Ÿå›¾ã€‚\n\t   - åœ°ç†å›¾ï¼šä¸€åˆ‡å’Œç©ºé—´å±æ€§æœ‰å…³çš„åˆ†æéƒ½å¯ä»¥ç”¨åˆ°åœ°ç†å›¾ã€‚\n\t   - é¥¼å›¾\n\t   - é›·è¾¾å›¾ï¼šä¹Ÿå«è››ç½‘å›¾ï¼Œé€‚åˆç”¨åœ¨å›ºå®šçš„æ¡†æ¶å†…è¡¨è¾¾æŸç§å·²çŸ¥çš„ç»“æœã€‚\n\t   - ç®±çº¿å›¾ï¼šå®ƒèƒ½å‡†ç¡®åœ°åæ˜ æ•°æ®ç»´åº¦çš„ç¦»æ•£ï¼ˆæœ€å¤§æ•°ã€æœ€å°æ•°ã€ä¸­ä½æ•°ã€å››åˆ†æ•°ï¼‰æƒ…å†µã€‚å‡¡æ˜¯ç¦»æ•£çš„æ•°æ®éƒ½é€‚ç”¨ç®±çº¿å›¾ã€‚\n\t   - çƒ­åŠ›å›¾ï¼šä»¥é«˜äº®å½¢å¼å±•ç°æ•°æ®ã€‚\n\t   - å…³ç³»å›¾\n\t   - çŸ©å½¢æ ‘å›¾ï¼šæŸ±å½¢å›¾ä¸é€‚åˆè¡¨è¾¾è¿‡å¤šç±»ç›®ï¼ˆæ¯”å¦‚ä¸Šç™¾ï¼‰çš„æ•°æ®ï¼Œé‚£åº”è¯¥æ€ä¹ˆåŠï¼ŸçŸ©å½¢æ ‘å›¾å‡ºç°äº†ï¼Œå®ƒç›´è§‚åœ°ä»¥é¢ç§¯è¡¨ç¤ºæ•°å€¼ï¼Œä»¥é¢œè‰²è¡¨ç¤ºç±»ç›®ã€‚\n\t   - æ¡‘åŸºå›¾ï¼šå¸¸è¡¨ç¤ºä¿¡æ¯çš„å˜åŒ–å’ŒæµåŠ¨çŠ¶æ€ã€‚\n\t   - æ¼æ–—å›¾\n\t- [æ•°æ®å¯è§†åŒ–ï¼šæ•™ä½ æ‰“é€ å‡èŒåŠ è–ªçš„æŠ¥è¡¨](https://ask.hellobi.com/blog/qinlu/5987)\n- PowerBIï¼šDashboard ä»ªè¡¨ç›˜ï¼Œç”±å¤šä¸ªå›¾è¡¨é›†åˆæˆçš„å›¾è¡¨ä»ªç›˜ -- [æ•°æ®å¯è§†åŒ–ï¼šæ‰‹æŠŠæ‰‹æ‰“é€ BI](https://ask.hellobi.com/blog/qinlu/5989)\n\t- å•†ä¸šæ™ºèƒ½ï¼ˆBusiness Intelligenceï¼ŒBIï¼‰ï¼Œåœ¨ä¼ ç»Ÿä¼ä¸šä¸­ï¼Œå®ƒæ˜¯ä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆã€‚å°†ä¼ä¸šçš„æ•°æ®æœ‰æ•ˆæ•´åˆï¼Œå¿«é€Ÿåˆ¶ä½œå‡ºæŠ¥è¡¨ä»¥ä½œå‡ºå†³ç­–ã€‚æ¶‰åŠ `æ•°æ®ä»“åº“`ï¼Œ`ETL`ï¼Œ`OLAP`ï¼Œ`æƒé™æ§åˆ¶` ç­‰æ¨¡å—ã€‚\n\n## æ•°æ®åˆ†ææ€ç»´\n- éº¦è‚¯é”¡çš„åˆ†ææ€ç»´ï¼šç»“æ„åŒ–æ€è€ƒï¼ŒMECEåŸåˆ™ï¼Œå‡è®¾å…ˆè¡Œï¼Œå…³é”®é©±åŠ¨ç­‰æ–¹æ³•è®ºã€‚ -- [å¿«é€ŸæŒæ¡éº¦è‚¯é”¡çš„åˆ†ææ€ç»´](https://ask.hellobi.com/blog/qinlu/6002)\n- åˆ†ææ€ç»´æ¡†æ¶ï¼šSMARTã€5W2Hã€SWOTã€4P4Cã€å…­é¡¶æ€è€ƒå¸½ç­‰ -- [å¦‚ä½•å»ºç«‹æ•°æ®åˆ†æçš„æ€ç»´æ¡†æ¶](https://ask.hellobi.com/blog/qinlu/6003)\n\n## ä¸šåŠ¡çŸ¥è¯†\n\n## è¯¾é¢˜ç ”ç©¶\n\n## å‚è€ƒèµ„æ–™\n- \\[1\\] [ç§¦è·¯. å¦‚ä½•ä¸ƒå‘¨æˆä¸ºæ•°æ®åˆ†æå¸ˆ. hellobi.com. 2017](https://ask.hellobi.com/blog/qinlu/8930)\n- \\[2\\] [Abraham Silberschatz. æ•°æ®åº“ç³»ç»Ÿæ¦‚å¿µ (åŸä¹¦ç¬¬6ç‰ˆ) [M]. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾, 2012](https://book.douban.com/subject/10548379/)","tags":["æ•°æ®åº“"],"categories":["Reading"]},{"title":"ç¬”è®° | æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡","url":"%2F2018%2F09%2Fprobability-and-statistics.html","content":"\næœ¬ç¬”è®°æ˜¯å¤‡æˆ˜è€ƒç ”æ—¶ï¼Œè·Ÿç€å¼ å®‡è€å¸ˆçš„æ¦‚ç‡è®ºè¯¾ç¨‹å­¦ä¹ æ•´ç†æ‰€å¾—ã€‚ä¸”è¾“å‡ºæœ¬ç¬”è®°çš„ä¸»è¦ç›®çš„æ˜¯å¿«é€Ÿæ„å»ºæ¦‚ç‡çš„åŸºç¡€çŸ¥è¯†ä½“ç³»ï¼Œä»¥ä¾¿äºæ—¥åå¤ä¹ æŸ¥é˜…å’Œé—®é¢˜æ¢ç©¶ã€‚æˆ–æ˜¯æ›´å…·ä½“çš„åº”ç”¨åœºæ™¯ï¼Œå¦‚ `æœºå™¨å­¦ä¹ `ã€`æ•°æ®æŒ–æ˜`ã€`ç»æµç»Ÿè®¡` ç­‰é¢†åŸŸï¼Œæ¦‚ç‡è®ºä½œä¸ºè¿™äº›é¢†åŸŸçš„ `å…ˆä¿®è¯¾ç¨‹`ï¼Œç†è®ºåŸºç¡€å°¤ä¸ºé‡è¦ã€‚ç”±æ­¤ï¼Œæ— è®ºæ˜¯åˆå…¥é—¨è¿˜æ˜¯æ¸©æ•…çŸ¥æ–°ï¼Œå­¦ä¹ åŸºç¡€å­¦ç§‘ä¸ºå¿…ç»é˜¶æ®µï¼Œä¸å¦¨é€‰æ‹©å¼ å®‡è€å¸ˆçš„æ¦‚ç‡è®ºè¯¾ç¨‹ï¼Œè¿™ä¸å¤±ä¸€ç§é«˜æ•ˆçš„å¤ä¹ æ–¹æ¡ˆã€‚\n\nå½“ç„¶ï¼Œç¬”è®°ä»…æ˜¯å¯¹çŸ¥è¯†ç‚¹çš„æ•´ç†å’Œå½’çº³ï¼Œå¹¶ä¸èƒ½ä»£è¡¨åŸæœ¬çŸ¥è¯†ç‚¹çš„ä¸¥è°¨å®šä¹‰ã€‚è‹¥æœ‰æ›´è¿›é˜¶çš„éœ€æ±‚ï¼Œè¿˜è¯·æŸ¥é˜…æ¦‚ç‡è®ºç›¸å…³æ•™æï¼Œæˆ–é‡æ¸©è¯¾ç¨‹ã€‚\n\n<!-- More -->\n\n## æ›´æ–°è¿›åº¦\n- 2018.10.04ï¼šå®Œæˆåˆç¨¿ï¼Œå¹¶æ›´æ–°ã€Œå¦‚ä½•å¤„ç†å¤æ‚äº‹ä»¶ã€ç« èŠ‚ ( å…± 4 èŠ‚ )ï¼›\n\n## å­¦ä¹ èµ„æ–™\n- æ¨èç››éª¤è€å¸ˆçš„ã€Šæ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡Â·ç¬¬4ç‰ˆã€‹å’Œå¼ å®‡è€å¸ˆçš„ã€Šå¸¦ä½ å­¦æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡Â·æµ™å¤§4ç‰ˆã€‹ã€‚\n\n\t> æ•°å­¦å¹¶ä¸æ˜¯è‡ªå·±æ“…é•¿çš„ç§‘ç›®ï¼Œå‡ºäºè¿™æ ·çš„è€ƒè™‘ï¼Œæ•…é€‰æ‹©äº† `å¤§å­¦æ•™æ` å’Œ `è€ƒç ”è¾…å¯¼ä¹¦`ï¼Œå¸Œæœ›å€Ÿä»¥ä¹ é¢˜è¾…å¯¼ä¹¦å¤ä¹ æ•™æå†…å®¹ï¼Œä»¥çŸ­æ—¶é—´è·å¾—æœ€å¤§æˆæ•ˆæ¯”ã€‚\n\t\n\t- ğŸ“– | ä¹¦ç± | [ç››éª¤. æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡Â·ç¬¬4ç‰ˆ. é«˜ç­‰æ•™è‚²å‡ºç‰ˆç¤¾](https://book.douban.com/subject/3165271/)\n\t- ğŸ“– | ä¹¦ç± | [å¼ å®‡. å¸¦ä½ å­¦æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡Â·æµ™å¤§4ç‰ˆ. åŒ—äº¬ç†å·¥å¤§å­¦å‡ºç‰ˆç¤¾](https://book.douban.com/subject/26630236/)\n\t- ğŸ“º | è§†é¢‘ | [å¼ å®‡. 2018 è€ƒç ”æ¦‚ç‡è®ºå¼ºåŒ–è¯¾ç¨‹. bilibili.com](https://www.bilibili.com/video/av14690558?from=search&seid=2673720085936060940)\n\n## å­¦ä¹ ç›®æ ‡\n- ä»¥`å¼ å®‡è€å¸ˆ` çš„æ¦‚ç‡è®ºè¯¾ç¨‹ä¸ºæ¡†æ¶çš„ï¼Œå›´ç»• `äº”å¤§é—®é¢˜` å±•å¼€å­¦ä¹ ä¸æ¢è®¨ï¼šåœ¨å¯¼è¯¾éƒ¨åˆ†å°±æ˜ç¡®äº† `è¯¾ç¨‹ä½“ç³»` å’Œ `å­¦ä¹ ç›®æ ‡`ï¼Œå³å­¦ä¹ ä»€ä¹ˆã€å­¦äº†æ€ä¹ˆç”¨éƒ½åœ¨æµ“ç¼©äºäº”å¤§é—®é¢˜å½“ä¸­ã€‚\n\t- å¦‚ä½•å¤„ç†å¤æ‚äº‹ä»¶ $P(A)$ï¼›\n\t- å¦‚ä½•æ±‚åˆ†å¸ƒ $F(x)$ã€$F(x, y)$ï¼›\n\t- å¦‚ä½•æ±‚æ•°å­—ç‰¹å¾ $EX$ã€$DX$ã€$Cov(x, y)$ã€$\\rho_{x,y}$ï¼›\n\t- å¦‚ä½•ä½¿ç”¨æé™å®šç† ( å¤§æ ·æœ¬ï¼Œ $n \\to \\infty$ );\n\t- å¦‚ä½•åšä¼°è®¡ä¸è¯„ä»·.\n\n- å‰ `å››å¤§é—®é¢˜` ä¸»è¦è®¨è®ºçš„æ˜¯ `æ¦‚ç‡è®º` éƒ¨åˆ†çš„å†…å®¹ï¼Œ`æœ€åä¸€é—®é¢˜` åˆ™æ˜¯ `æ•°ç†ç»Ÿè®¡` çš„å†…å®¹æ¢è®¨ã€‚\n- äº‹ä¸å®œè¿Ÿï¼Œå®šä¸‹å°ç›®æ ‡ï¼Œè®©è‡ªå·±èµ¶ç´§è¡ŒåŠ¨èµ·æ¥ï¼\n\t\n## å£¹ å¦‚ä½•å¤„ç†å¤æ‚äº‹ä»¶\n\t\n### éšæœºè¯•éªŒä¸æ ·æœ¬ç©ºé—´\n#### éšæœºè¯•éªŒ\n- éšæœºè¯•éªŒï¼Œè®°ä½œ $E$ï¼š\n\t- åŒæ¡ä»¶ä¸‹å¯é‡å¤ã€‚\n\t- è¯•éªŒç»“æœæ˜ç¡®å¯çŸ¥ï¼Œä¸”ä¸æ­¢ä¸€ä¸ªã€‚\n\t- è¯•éªŒå‰ä¸çŸ¥å“ªä¸ªç»“æœä¼šå‘ç”Ÿã€‚\n\n#### åŸºæœ¬æ¦‚å¿µ\n- `è¯•éªŒç»“æœ` ä¸­æ¯ä¸€ä¸ªæœ€ç®€å•ã€æœ€åŸºæœ¬ (ä¸å¯å†åˆ†çš„ç»“æœ) å« `æ ·æœ¬ç‚¹` (åŸºæœ¬äº‹ä»¶)ï¼Œè®°ä½œ $\\omega$ã€‚\n- $\\omega$ çš„å…¨ä½“å« `æ ·æœ¬ç©ºé—´`ï¼Œè®°ä½œ $\\Omega$ã€‚\n- `æ ·æœ¬ç©ºé—´çš„å­é›†` å« `éšæœºäº‹ä»¶`ï¼Œè®°ä½œ $A, B, C, ...$ï¼Œå³è‹±æ–‡å¤§å†™å­—æ¯è¡¨ç¤ºã€‚\n- å­é›†ä¸­ï¼š\n\t- $\\Omega$ æœ¬èº«ä¸ºå¿…ç„¶äº‹ä»¶ã€‚\n\t- $\\emptyset$ ä¸ºä¸å¯èƒ½äº‹ä»¶ã€‚\n\n### å¤å…¸æ¦‚å‹\n#### æ¦‚å¿µæ¢³ç†\n- è‹¥éšæœºäº‹ä»¶ $E$ çš„æ ·æœ¬ç©ºé—´ $\\Omega$ ä¸­æ»¡è¶³ä¸‹è¿°ä¸¤ç§æ¡ä»¶ï¼Œç§°å…¶ä¸ºå¤å…¸æ¦‚å‹ï¼š\n\t- å­˜åœ¨ `æœ‰é™ä¸ª` æ ·æœ¬ç‚¹ï¼›\n\t- æ ·æœ¬ç‚¹çš„å‘ç”Ÿå…·æœ‰ `ç­‰å¯èƒ½æ€§`.\n- åˆ™å…¶æ¦‚ç‡è¡¨è¾¾å¼ä¸ºï¼š\n\n$$\nP(A) = \\frac{Aä¸­å«æ ·æœ¬ç‚¹ä¸ªæ•°}{\\Omega ä¸­å«æ ·æœ¬ç‚¹æ€»æ•°}\n\\tag{1}\n$$\n\t\n- å¯¹äºæ¦‚ç‡è¡¨è¾¾å¼ (1)ï¼Œæˆ‘ä»¬ä¾§é‡å…³æ³¨å…¶ `è®¡æ•°æ–¹æ³•`ï¼š\n\t- `ç©·ä¸¾æ³•`ï¼šä¸ªæ•°ä¸å¤šæ—¶ï¼Œç›´æ¥è®¡æ•°å³å¯ã€‚\n\t- `é›†åˆå¯¹åº”æ³•`ï¼š\n\t\t- `åŠ æ³•åŸç†`ï¼šå®Œæˆä¸€ä»¶äº‹æœ‰ $n$ ç±»æ–¹æ³•ï¼Œç¬¬ä¸€ç±»æ–¹æ³•æœ‰ $m_1$ ç§æ–¹æ³•ï¼Œç¬¬äºŒç±»æœ‰ $m_2$ ç§æ–¹æ³•ï¼Œå®Œæˆæ­¤äº‹å…± $\\sum_{i = 1}^n m_i$ ç§æ–¹æ³•ã€‚\n\t\t- `ä¹˜æ³•åŸç†`ï¼šå®Œæˆä¸€ä»¶äº‹æœ‰ $n$ ä¸ªæ­¥éª¤ï¼Œç¬¬ä¸€æ­¥æœ‰ $m_1$ ç§æ–¹æ³•ï¼Œç¬¬äºŒæ­¥æœ‰ $m_2$ ç§æ–¹æ³•ï¼Œç¬¬ $n$ æ­¥æœ‰ $m_n$ ç§æ–¹æ³•ï¼Œæ•…å®Œæˆæ­¤äº‹å…± $\\prod_{i=1}^n m_i$ ç§æ–¹æ³•ã€‚\n\t\t- `æ’åˆ—`ï¼šä» $n$ ä¸ªä¸åŒçš„å…ƒç´ ä¸­å–å‡º $m(\\leq n)$ ä¸ªå…ƒç´ ï¼Œå¹¶æŒ‰ç…§ä¸€å®šé¡ºåºæ’æˆä¸€åˆ—ï¼Œå«åšæ’åºã€‚æ‰€æœ‰æ’åˆ—çš„ä¸ªæ•°å«æ’åˆ—æ•°ï¼Œè®°ä½œï¼š\n\n\t\t$$\n\t\tA_n^m = n(n-1)Â·Â·Â·(n - m + 1) = \\frac{n!}{(n - m)!}\n\t\t\\tag{2}\n\t\t$$\n\t\t\n\t\t`å…¨æ’åˆ—`ï¼šå½“ $m = n$ æ—¶ï¼Œ$A_n^m = \\frac{n!}{0!} = n!$ ç§°ä¸ºå…¨æ’åˆ—ã€‚\n\t\t\n\t\t- `ç»„åˆ`ï¼šä» $n$ ä¸ªä¸åŒå…ƒç´ ä¸­å–å‡º $m(\\leq n)$ ä¸ªå…ƒç´ ï¼Œå¹¶æˆä¸€ç»„ï¼Œå«ç»„åˆã€‚æ‰€æœ‰ç»„åˆä¸ªæ•°å«ç»„åˆæ•°ï¼Œè®°ä½œï¼š\n\n\t\t$$\n\t\tC_n^m = \\frac{A_n^m}{m!}\n\t\t\\tag{3}\n\t\t$$\n\t\t\t\n\t\t> æ³¨æ„ï¼šæŒ‰ç…§æ¬§ç¾è§„èŒƒï¼Œå¯¹äº $A_n^m$ æˆ–æ˜¯ $C_n^m$ï¼Œm å’Œ n çš„ä¸Šä¸‹ä½ç½®ä¸æˆ‘ä»¬å¹³å¸¸è§çš„æ˜¯ç›¸åçš„ï¼Œå›½å†…çš„æ•™æä»¥ç›¸åä¸ºä¸»ã€‚\n\t\t\n\t- `å¯¹ç«‹äº‹ä»¶æ€æƒ³`ï¼šè‹¥ç ”ç©¶å¯¹è±¡æ˜¯å¤æ‚çš„ï¼Œåˆ™è½¬è€Œç ”ç©¶å¯¹ç«‹äº‹ä»¶ $\\overline{A}$ï¼Œæ•…æœ‰ï¼š\n\t\n\t$$\n\tn - n_{\\overline{A}} = n_A\n\t\\tag{4}\n\t$$\n\t\t\n#### ç»ƒä¹ å·©å›º\n##### ä¾‹é¢˜ä¸€\n- [é¢˜ç›®] ä» 0 åˆ° 9 ä¸ªæ•°å­—ä¸­ä»»å– 3 ä¸ªä¸åŒæ•°å­—ï¼Œæ±‚ï¼š  \n\t- $A_1$ = {ä¸‰ä¸ªæ•°ä¸­ä¸å« 0 å’Œ 5}\n\t- $A_2$ = {ä¸‰ä¸ªæ•°ä¸­ä¸å« 0 æˆ– 5}\n\t- $A_3$ = {ä¸‰ä¸ªæ•°ä¸­å« 0ï¼Œä½†ä¸å« 5}\n- [åˆ†æ]  ä»¤å«æ•°å­— 0 çš„äº‹ä»¶ä¸º $B_1$ï¼Œå«æ•°å­— 5 çš„äº‹ä»¶ä¸º $B_2$ï¼š\n\t- $P(A_1) = \\frac{ C_8^3 }{ C_{10}^3 } = \\frac{7}{15}$\n\t\n\t- $P(A_2) = \\frac{ C_{10}^3 - C_1^1Â·C_1^1Â·C_8^1 }{ C_{10}^3 } = \\frac{14}{15}$\n\n\t\t> $A_2$ äº‹ä»¶å¯é€š `å¯¹ç«‹äº‹ä»¶æ€æƒ³` è§£é¢˜ï¼Œå³æ‰€æœ‰æ•°å­—å–å€¼å¯èƒ½å‡å»ä¸‰ä¸ªæ•°ä¸­å« 0 ä¸”å« 5 çš„æƒ…å†µï¼Œå³ $A_2 = \\overline{ B_1 \\bigcup B_2 } = \\overline{B_1} \\bigcap \\overline{B_2}$ã€‚\n\t\n\t- $P(A_3) = \\frac{ C_1^1Â·C_8^2 }{ C_{10}^3 } = \\frac{7}{30}$\n\n##### ä¾‹é¢˜äºŒ\n- [é¢˜ç›®] è¢‹ä¸­æœ‰ 5 çƒï¼Œ3 ç™½ 2 é»‘ï¼š\n\t- å…ˆåæœ‰æ”¾å›å– 2 çƒï¼Œæ±‚ $B_1$ = {è‡³å°‘ä¸€ç™½çƒ}\n\t- å…ˆåæ— æ”¾å›å– 2 çƒï¼Œæ±‚ $B_2$ = {è‡³å°‘ä¸€ç™½çƒ} \n\t- ä»»å– 2 çƒï¼Œæ±‚ $B_3$ = {è‡³å°‘ä¸€ç™½çƒ}\n- [åˆ†æ] æ³¨æ„ `æœ‰æ”¾å›` å’Œ `æ— æ”¾å›` çš„æƒ…å†µï¼Œæ˜¯æœ‰åŒºåˆ«çš„ï¼š\n\t- $P(B_1) = \\frac{ C_5^1Â·C_5^1 - C_2^1Â·C_2^1 }{ C_5^1Â·C_5^1 } = \\frac{21}{25}$\n\n\t- $P(B_2) = \\frac{ C_5^1Â·C_4^1 - C_2^1Â·C_1^1 }{ C_5^1Â·C_4^1 } = \\frac{9}{10}$\n\n\t- é€šè¿‡ `å¯¹ç«‹äº‹ä»¶æ€æƒ³` è§£é¢˜ï¼Œå…ˆæ±‚ $\\overline{B_3}$ = {ä»»å–ä¸¤çƒå…¨é»‘} çš„æ¦‚ç‡ï¼š\n\n\t$$\n\tP(\\overline{B_3}) = \\frac{ C_2^2 }{ C_5^2 } = \\frac{1}{10} \\\\\n\tP(B_3) = 1 - P(\\overline{B_3}) = \\frac{9}{10}\n\t$$\n\t\n- æˆ‘ä»¬æ³¨æ„åˆ°ï¼Œ$P${å…ˆåæ— æ”¾å›å–ï¼Œè‡³å°‘ä¸€ç™½çƒ} ç­‰äº $P${ä»»å–ä¸¤çƒï¼Œè‡³å°‘ä¸€ç™½çƒ} çš„æ¦‚ç‡ï¼Œå³ $P(B_2) = P(B_3)$ã€‚\n\t- `å¾—å‡ºç»“è®º`ï¼š`P{å…ˆåæ— æ”¾å›} = P{ä»»å–}`\n\t- `è¯æ˜æ–¹å¼`ï¼šåˆ†åˆ«ç”¨ `å…ˆåæ— æ”¾å›å–ä¸¤çƒ` çš„æ–¹å¼å’Œ `ä»»å–ä¸¤çƒ` çš„æ–¹å¼ï¼Œæ±‚ `P{ä¸¤çƒå…¨é»‘}`ï¼Œå†é€šè¿‡ `1 - P{ä¸¤çƒå…¨é»‘}` æ±‚ `P{è‡³å°‘ä¸€ç™½çƒ}`ï¼š \n\n\t\t$$\n\t\tp(\\text{å…ˆåæ— æ”¾å›å–å¾—ä¸¤çƒå…¨é»‘}) = \n\t\t    \\frac{ C_2^1Â·C_1^1 }{ C_5^1Â·C_4^1 } = \\frac{1}{10} \\\\\n\t\tp(\\text{ä»»å–ä¸¤çƒå…¨é»‘}) =\n\t\t    \\frac{ C_2^2 }{ C_5^2 } = \\frac{1}{10}\n\t\t$$\n\t\n\t\tå½“ç„¶ï¼Œä»»å–æ¶‰åŠå…ˆåé¡ºåºé—®é¢˜ï¼Œåº”è¯¥å¯¹ä»»å–ç»“æœä½œæ’åˆ—ï¼Œä½†ç”±äºä¸Šä¸‹åŒä¹˜ä¸€ç§é¡ºåºæ•…å¯ç•¥å»ã€‚\n\t\n\t\t$$\n\t\t\\require{cancel}\n\t\tp(\\text{ä»»å–ä¸¤çƒå…¨é»‘}) =\n\t\t    \\frac{ C_2^2Â·\\bcancel{A_2^2} }{ C_5^2 Â·\\bcancel{A_2^2} } = \\frac{1}{10}\n\t\t$$\n\t\t\t\n\t- é€šè¿‡æ­¤ç»“è®ºï¼Œè®¡ç®— `å…ˆåæ— æ”¾å›` æŠ½å–é—®é¢˜ä¼šæœ‰å¾ˆå¤§å¸®åŠ©ã€‚ä¾‹å¦‚ï¼Œä» 100 ä¸ªçƒä¸­ï¼Œå…ˆåæ— æ”¾å›å– 40 ä¸ªçƒï¼Œåˆ™å¯ç†è§£ä¸º `ä¸€æŠŠæŠ“ 40 ä¸ªçƒ`ã€‚\n\n##### ä¾‹é¢˜ä¸‰\n- [é¢˜ç›®] è¢‹æœ‰ 100 ä¸ªçƒï¼Œ40 ç™½ 60 é»‘ï¼š\n\t- å…ˆå `æ— æ”¾å›` å– 20 ä¸ªçƒï¼Œæ±‚ $C_1$ = {15 ç™½ 5 é»‘}\n\t- å…ˆå `æ— æ”¾å›` å– 20 ä¸ªçƒï¼Œæ±‚ $C_2$ = {ç¬¬ 20 æ¬¡å–åˆ°ç™½çƒ}\n\t- å…ˆå `æœ‰æ”¾å›` å– 20 ä¸ªçƒï¼Œæ±‚ $C_3$ = {15 ç™½ 5 é»‘}\n\t- å…ˆå `æœ‰æ”¾å›` å– 20 ä¸ªçƒï¼Œæ±‚ $C_4$ = {ç¬¬ 20 æ¬¡å–åˆ°ç™½çƒ}\n- [åˆ†æ] æ ¹æ®ä¾‹é¢˜äºŒçš„ç»“è®ºï¼Œæ— æ”¾å›æŠ½å–å¯ç­‰åŒäºä»»æ„æŠ½å–ã€‚\n\t- $P(C_1) = \\frac{ C_{40}^{15}Â·C_{60}^5 }{ C_{100}^{20} }$\n\n\t- $P(C_2) = \\frac{C_{40}^1Â·99!}{100!} = \\frac{40}{100}$ \n\n\t\t- 1) åˆ©ç”¨ `æŠ“é˜„æ¨¡å‹` è¿›è¡Œè§£é¢˜ã€‚å³åœ¨æœ¬é¢˜ä¸­å¯ç†è§£ä¸ºï¼šè¢‹ä¸­è£…æœ‰ 100 ä¸ªâ€œç°çƒâ€ï¼ŒæŒ‰æ¦‚ç‡æ‘¸çƒï¼Œåˆ™æœ‰ 40% å¯èƒ½æ‘¸åˆ°ç™½çƒï¼Œ60% å¯èƒ½æ‘¸åˆ°é»‘çƒã€‚\n\t\t- 2) åœ¨æœ¬é¢˜ä¸­ï¼Œæˆ‘ä»¬å¯æŠŠ 100 ä¸ªçƒæƒ³è±¡æˆ 100 ä¸ªä½ç½®ï¼Œä»å·¦å¾€å³æ’åˆ—ï¼Œä½ç½®ä¸æ¬¡æ•°åŒ¹é…ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æ±‚ç¬¬ 20 æ¬¡å–åˆ°ç™½çƒçš„æ¦‚ç‡ï¼Œå³å¾€ 20 çš„ä½ç½®åªè€ƒè™‘æ”¾å…¥ç™½çƒçš„æƒ…å†µï¼Œå‰©ä½™ä½ç½®è‡ªç”±æ’åˆ—å³å¯ï¼Œæ•…æœ‰ $C_{40}^1Â·99!$ã€‚\n\n\t\t![å›¾1-1æŠ“é˜„æ¨¡å‹æ¼”ç¤º](/images/illustration/Reading/2018/10/probability-and-statistics_1-1.png)\n\t\t<center>å›¾1-1 æŠ“é˜„æ¨¡å‹æ¼”ç¤º</center>\n\n\t- $P(C_3) = C_{20}^{15}Â·(\\frac{40}{100})^{15}Â·(\\frac{60}{100})^5$\n\n\t\t- ç¬¦åˆäºŒé¡¹åˆ†å¸ƒï¼Œè®°å–åˆ°ç™½çƒçš„æ¬¡æ•°ä¸º X (å®éªŒæ— éå–åˆ°é»‘/ç™½ä¸¤ç§çƒ)ï¼Œåˆ™å¯æ ¹æ®å…¬å¼æ±‚è§£ï¼š\n\t\t$$P\\{X = k\\} = C_n^kÂ·p^kÂ·(1-p)^{n-k}, k = 0, 1, 2, ..., n$$\n\n\t- $P(C_4) = \\frac{40}{100}$\n\n### å‡ ä½•æ¦‚å‹\n\n#### æ¦‚å¿µæ¢³ç†\n- å®šä¹‰ $\\Omega$ æ˜¯ä¸€ä¸ªå¯åº¦é‡çš„å‡ ä½•åŒºåŸŸï¼Œæ¯ä¸ªæ ·æœ¬ç‚¹çš„å‘ç”Ÿå…·æœ‰ç­‰å¯èƒ½æ€§ã€‚å³æ ·æœ¬ç‚¹è½å…¥ $\\Omega$ ä¸­çš„æŸä¸€å¯åº¦é‡å­åŒºåŸŸ $A$ çš„å¯èƒ½æ€§å¤§å°ä¸ $A$ çš„ `å‡ ä½•åº¦é‡` æˆæ­£æ¯”ï¼Œè€Œä¸ $A$ çš„ä½ç½®åŠå½¢çŠ¶æ— å…³ã€‚åˆ™ç§°å…¶ä¸º `å‡ ä½•æ¦‚å‹`ï¼Œè®°ä½œï¼š\n\n\t$$\n\tP(A) = \\frac{ A çš„æµ‹åº¦ }{ \\Omega çš„æµ‹åº¦ }\n\t\\tag{5}\n\t$$\n\n#### ç»ƒä¹ å·©å›º\n##### ä¾‹é¢˜ä¸€\n- [é¢˜ç›®] å‡è®¾æˆ‘ä¸Šåˆ 8:00-9:00 æ—¶é—´æ®µå†…è¿›å…¥æ•™å®¤ï¼š\n\t- æ±‚ $A_1$ = {æˆ‘åœ¨ 8:30-9:00 æ—¶é—´æ®µè¿›æ•™å®¤} çš„æ¦‚ç‡\n\t- æ±‚ $A_2$ = {æˆ‘æ°å¥½åœ¨ 8:30 è¿›å…¥æ•™å®¤} çš„æ¦‚ç‡\n- [åˆ†æ] å¦‚å›¾ 1-2 æ‰€ç¤ºï¼Œè®¾ 8:00-9:00 çš„æ—¶é—´æ®µä¸ºå•ä½ 1ï¼š\n\t- $P(A_1) = \\frac{ \\frac12 }{1} = \\frac12$\n\n\t- $P(A_2) = \\frac01 = 0$\n\n\t\t> åœ¨ 8:30 è¿™ä¸€åˆ»æ‰€å é•¿åº¦ä¸º \"0\"ï¼Œåªæ˜¯æ•°æ®ç ”ç©¶å·¥å…·çš„ç¼ºé™·ï¼Œè‡´ä½¿æµ‹ä¸å‡ºæ¥ã€‚æ‰€ä»¥ $P(A) = 0$ å¹¶ä¸èƒ½æ¨å¯¼ $A_2$ ä¸ºä¸å¯èƒ½äº‹ä»¶ã€‚\n\n\t![å›¾1-2å•ä½1é•¿æ—¶é—´æ®µ](/images/illustration/Reading/2018/10/probability-and-statistics_1-2.png)\n\t<center>å›¾1-2 å•ä½ 1 é•¿æ—¶é—´æ®µ</center>\n\n##### ä¾‹é¢˜äºŒ\n- [é¢˜ç›®] å›å­æœ‰çº¦ï¼Œ9:00-10:00 ç”²ã€ä¹™åœ¨æ ¡é—¨å£è§é¢ï¼Œç­‰ 20 åˆ†é’Ÿå³ç¦»å¼€ï¼š\n\t- æ±‚ $B$ = {ç”²ã€ä¹™èƒ½è§é¢} çš„æ¦‚ç‡\n- [åˆ†æ] è®¾ç”²å‡ºç°çš„æ—¶é—´ä¸º $x$ï¼Œä¹™å‡ºç°çš„æ—¶é—´ä¸º $y$ï¼š\n\t- åˆ™ä¸¤æ–¹çš„æ—¶é—´å·®ä¸º $|x - y| \\leq 20, 0 \\leq x \\leq 60, 0 \\leq y \\leq 60$\n\n\t![å›¾1-3å‡½æ•°å›¾åƒ](/images/illustration/Reading/2018/10/probability-and-statistics_1-3.png)\n\t<center>å›¾1-3  $|x - y| \\leq 20$ çš„å‡½æ•°å›¾åƒ</center>\n\n\t- æ ¹æ®ä¸Šè¿°å‡½æ•°çš„å›¾åƒå¯å¾— $P(B) = \\frac{ \\int_A }{ \\int_\\Omega } = \\frac{ 1 - (\\frac{40}{60})^2 }{1} = \\frac59$\n\n##### ä¾‹é¢˜ä¸‰\n- [é¢˜ç›®] åœ¨ (0, 1) å†…éšæœºå–ä¸¤ä¸ªæ•°ï¼Œ$P\\{ä¸¤æ•°ä¹‹å’Œå°äº \\leq \\frac65\\}$\n- [è§£æ] ç”±é¢˜æ„å¯å¾—ï¼Œåˆ™æœ‰ï¼š\n\n\t![å›¾1-4å‡½æ•°å›¾åƒ](/images/illustration/Reading/2018/10/probability-and-statistics_1-4.png)\n\t<center>å›¾1-4  $x + y \\leq \\frac65$ çš„å‡½æ•°å›¾åƒ</center>\n\n\t$$P\\{ x + y < \\frac65\\} = \\frac{1 - \\frac45*\\frac45*\\frac12}{1} = \\frac{17}{25}$$\n\n### é‡è¦å…¬å¼æ±‚æ¦‚ç‡\n\n#### æ¦‚å¿µæ¢³ç†\n##### å¯¹ç«‹äº‹ä»¶\n$$\nP(A) = 1- P(\\overline{A})\n\\tag{6}\n$$\n\n##### å‡æ³•å…¬å¼\n$$\nP(A - B) = P(A) - P(AB)\n\\tag{7}\n$$\n\n##### åŠ æ³•å…¬å¼\n\n- ä¸€èˆ¬æƒ…å†µ ( é€šç”¨å…¬å¼ )ï¼š\n \n\t$$\n\tP(A + B) = P(A) + P(B) - P(AB)\n\t\\tag{9}\n\t$$\n\t\n\t$$\n\tP(A + B + C) = P(A) + P(B) + P(C) - P(AB) - P(AC) - P(BC) + P(ABC)\n\t$$\n\n- è‹¥ $A_1, A_2, ..., A_n (n > 3)$ `ä¸¤ä¸¤äº’æ–¥ (äº’ä¸ç›¸å®¹)`ï¼Œåˆ™å¯å¾—ï¼š\n\n\t$$\n\tP(A_1 + A_2 + ... + A_n) = \\sum_{i = 1}^n P(A_i)\n\t\\tag{6}\n\t$$\n\t\n- è‹¥ $A_1, A_2, ..., A_n (n > 3)$  `ç›¸äº’ç‹¬ç«‹`ï¼Œåˆ™å¯å¾—ï¼š\n\t\n\t$$\n\tP(A_1 + A_2 + ... + A_n) = 1 - P ( \\overline{A_1 + A_2 + ... + A_n} ) \\\\\n\t = 1 - P( \\overline{A_1}Â·\\overline{A_2}Â·...Â·\\overline{A_n} ) = 1 - \\prod_{i=1}^n P(\\overline{A_i})\n\t\\tag{10}\n\t$$\n\t\n\t- `ç›¸äº’ç‹¬ç«‹`ï¼šè®¾ $A_1, A_2, ..., A_n $ï¼Œè‹¥å¯¹å…¶ä¸­ä»»æ„æœ‰é™ä¸ª $A_{i_1}, A_{i_2}, ..., A_{i_k}$ éƒ½æœ‰ $P(A_{i_1})Â·P(A_{i_2})Â·...Â·P(A_{i_k})$ï¼Œåˆ™ç§° $A_1, A_2, ..., A_n $ ç›¸äº’ç‹¬ç«‹ã€‚  \n\t- `å¦‡å”±å¤«éš`ï¼š$n$ ä¸ªäº‹ä»¶ç›¸äº’ç‹¬ç«‹ $\\Longleftrightarrow$ å®ƒä»¬ä¸­ä»»æ„ä¸€éƒ¨åˆ†äº‹ä»¶æ¢æˆå…¶å„è‡ªçš„å¯¹ç«‹äº‹ä»¶ï¼Œæ‰€å¾—çš„ $n$ ä¸ªæ–°äº‹ä»¶ä¹Ÿæ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚\n\n![å›¾1-5ä¸Šè¿°å…¬å¼å›¾è§£](/images/illustration/Reading/2018/10/probability-and-statistics_1-5.png)\n<center>å›¾ 1-5 ä¸Šè¿°å…¬å¼å›¾è§£</center>\n\n##### æ¡ä»¶æ¦‚ç‡å…¬å¼\n> æ ‡å¿—æ€§è¯æ±‡ï¼šå·²çŸ¥...ï¼Œå½“...å‘ç”Ÿäº†ã€‚\n\n$$\nP(A | B) = \\frac{ P(AB) } { P(B) }, P(B) > 0\n\\tag{11}\n$$\n\t\n##### ä¹˜æ³•å…¬å¼\n$$\nP(AB) = P(A | B)Â·P(B) \\\\\nP(AB) = P(B | A)Â·P(A)\n\\tag{12}\n$$\n\t\nä¸€èˆ¬åœ°ï¼Œæ¨å¹¿è‡³ $P(A_1A_2...A_n)$ï¼š\n\n$$\nP(A_1A_2...A_n) = \\\\\nP(A_n | A_1A_2...A_{n-1})Â·P(A_{n-1} | A_1A_2...A_{n-2})Â·...P(A_2 | A_1)Â·P(A_1)\n\\tag{13}\n$$\n\t\n##### å…¨é›†åˆ†è§£å…¬å¼\n> ä¹Ÿç§° `å…¨æ¦‚ç‡å…¬å¼`ï¼Œå·²çŸ¥ç¬¬ä¸€é˜¶æ®µï¼Œæ±‚ç¬¬äºŒé˜¶æ®µã€‚\n\t\n- å¼•ä¾‹ï¼šè®¾ä¸€ä¸ªæ‘å­å’Œä¸‰ä¸ªå°å·ï¼Œå°å·åˆ†åˆ«ä¸º $A_1ã€A_2ã€A_3$ï¼ŒB = {æ‘å­å¤±çªƒ}\n\t- é˜¶æ®µ (I). ä»€ä¹ˆäººå»å·ï¼š$A_1, A_2, A_3$\n\t\n\t- é˜¶æ®µ (II). æ‘å­å¤±çªƒï¼Œå„å°å·å»å·çš„æ¦‚ç‡ï¼š$P(B | A_1) = 0, P(B | A_2) = \\frac12, P(B | A_3) = 1$\n\n\t- åˆ™æ‘å­å¤±çªƒçš„æ¦‚ç‡ï¼š\n\t\n\t\t$$P(B) = P(A_1)Â·P(B | A_1) + P(A_2)Â·P(B | A_2) + P(A_3)Â·P(B | A_3) \\\\\n\t\t= \\frac13 * 0 + \\frac13 * \\frac12 + \\frac13 * 1 = \\frac12\n\t\t$$\n\t\n- å®šä¹‰ä¸å…¬å¼ï¼Œè®¾ä¸€éšæœºäº‹ä»¶ $E$ å¯åˆ†ä¸¤ä¸ªé˜¶æ®µï¼š\n\t- é˜¶æ®µ (I) $\\bigcup_{i = 1}^n A_i = \\Omega, A_iA_j = \\emptyset (ä¸¤ä¸¤äº’æ–¥), i \\neq j$ï¼Œåˆ™ç§° $A_1, A_1,..., A_n$ ä¸º $\\Omega$ çš„ä¸€ä¸ªåˆ’åˆ†ï¼Œä¹Ÿå« `å®Œå¤‡äº‹ä»¶ç»„`ã€‚\n\t- é˜¶æ®µ (II) äº‹ä»¶ $B$ å‘ç”Ÿçš„æ¦‚ç‡ï¼š\n\t\t- $P(B\\Omega) = P(BÂ·(\\bigcup_{i = 1}^n A_i) )$ ä¸ºå…¨é›†åˆ†è§£è¿‡ç¨‹ã€‚\n\t\t- $B$ ä¸ºç¬¬ (II) é˜¶æ®µï¼Œ$A_i$ ä¸ºç¬¬ (I) é˜¶æ®µã€‚\n\n\t\t$$\n\t\tP(B) = P(B\\Omega) = P(BÂ·(\\bigcup_{i = 1}^n A_i) ) = P( B\\bigcap(A_1 + A_2 + ... + A_n) ) \\\\\n\t\t= P(BA_1 + BA_2 + ... + BA_n) = \\sum_{i = 1}^n P(BA_i) \\\\\n\t\t= \\sum_{i = 1}^n P(B | A_i)Â·P(A_i)\n\t\t\\tag{13}\n\t\t$$\n\n##### è´å¶æ–¯\n> ä¹Ÿç§° `é€†æ¦‚ç‡å…¬å¼`ï¼Œå·²çŸ¥ç¬¬äºŒé˜¶æ®µåæ¨ç¬¬ä¸€é˜¶æ®µ ( æ‰§æœç´¢å›  )ã€‚\n\n- è®¾ä¸€éšæœºäº‹ä»¶ $E$ åˆ†æˆä¸¤ä¸ªé˜¶æ®µï¼š\n\t- é˜¶æ®µ (I) $\\bigcup_{j = 1}^n A_j = \\Omega, A_iA_j = \\emptyset (ä¸¤ä¸¤äº’æ–¥), j \\neq i$ï¼Œåˆ™ç§° $A_1, A_1,..., A_n$ ä¸º $\\Omega$ çš„ä¸€ä¸ªåˆ’åˆ†ï¼Œä¹Ÿå« `å®Œå¤‡äº‹ä»¶ç»„`ã€‚\n\t- é˜¶æ®µ (II) å·²çŸ¥ $B$ å‘ç”Ÿäº†ï¼Œæ±‚ $P(A_j | B)$ï¼š\n\t\t- $P(B | A_j)$ æ˜¯å·²çŸ¥çš„ã€‚\n\t\t- ä¸€ä¸ªäº‹ä»¶åˆ†ä¸¤ä¸ªé˜¶æ®µï¼Œè€ƒè™‘å…¨æ¦‚ç‡å…¬å¼ã€‚\n\n\t\t$$\n\t\tP(A_j | B) = \\frac{ P(A_jB) }{ P(B) }\n\t\t= \\frac{\n\t\t    P(B | A_j)Â·P(A_j)\n\t\t}{\n\t\t    \\sum_{i = 1}^n P(B | A_i)Â·P(A_i)\n\t\t}\n\t\t\\tag{14}\n\t\t$$\n \n#### ç»ƒä¹ å·©å›º\n##### ä¾‹é¢˜ä¸€\n- [é¢˜ç›®] æœ‰ç”²ã€ä¹™ä¸¤åå°„å‡»æ‰‹ï¼Œè½®æµç‹¬ç«‹å°„å‡»æ‰“é¶ï¼Œç”²å‘½ä¸­çš„æ¦‚ç‡ä¸º $\\alpha$ï¼Œä¹™å‘½ä¸­çš„æ¦‚ç‡ä¸º $\\beta$ã€‚ç”²å…ˆå°„å‡»ï¼Œè°å…ˆå‘½ä¸­è°è·èƒœï¼Œæ±‚ $P$ = {ç”²è·èƒœ} çš„æ¦‚ç‡ã€‚\n- [åˆ†æ] è®° $A_i = \\{ç¬¬ i æ¬¡å‘½ä¸­\\}, i = 1, 2, ...$ï¼Œåˆ™æœ‰ï¼š\n\n\t- æ ¹æ®ç‹¬ç«‹äº’æ–¥æ¡ä»¶ï¼Œç»“åˆé¢˜æ„å¯å¾—ï¼š\n\n\t$$\n\tP\\{ç”²è·èƒœ\\} = P\\{ A_1 + \\overline A_1 \\overline A_2 A_3 + \\overline A_1 \\overline A_2 \\overline A_3 \\overline A_4 A_5 + ... \\}\n\t= P(A_1) + P(\\overline A_1 \\overline A_2 A_3) + P(\\overline A_1 \\overline A_2 \\overline A_3 \\overline A_4 A_5) + ... \\\\\n\t= P(A_1) + P(\\overline A_1)P(\\overline A_2)P(A_3) + P(\\overline A_1)P(\\overline A_2)P(\\overline A_3)P(\\overline A_4)P(A_5) + ... \\\\\n\t= \\alpha + (1 - \\alpha)(1 - \\beta)\\alpha + (1 - \\alpha)^2(1 - \\beta)^2\\alpha + ... \\\\\n\t$$\n\t\n\t- è§‚å¯Ÿä¸Šè¿°å¼å­ï¼Œæˆ‘ä»¬å¯è®¾å…¬æ¯” $q = (1 - \\alpha)(1 - \\beta)$ï¼Œåˆ™å…¬å¼ç»§ç»­å¾€ä¸‹æ¨æ¼”ï¼š\n\n\t$$\n\t\\int_n^{\\infty} \\alpha + \\alpha q + \\alpha q^2 + ... + \\alpha q^{n-1}\n\t= \\int_n^{\\infty} \\frac{\\alpha (1 - q^n)}{1 - q}\n\t= \\frac{a}{1 - q} = \\frac{a}{1 - (1 - \\alpha)(1 - \\beta)}\n\t$$\n\t\n- [æ³¨æ„] $P$ = {ç”²è·èƒœ} çš„æ¦‚ç‡ï¼š\n\n\t$$\n\tP\\{ä¹™è·èƒœ\\} = 1 - P\\{ç”²è·èƒœ\\} = \\frac{\\beta (1 - \\alpha)}{1 - (1 - \\alpha)(1 - \\beta)}\n\t$$\n\t\n\tè‹¥ $\\alpha = \\beta = p$ï¼Œåˆ™æœ‰ï¼š\n\t\n\t$$\n\tP\\{ç”²è·èƒœ\\}  = \\frac{p}{1 - (1 - p)^2}, ä»¤ \\, p + q = 1, \\, \n\t= \\frac{p}{1-q^2} = \\frac{p}{(1 + q)(1 - q)} = \\frac{1}{1 + q} \\\\\n\tP\\{ä¹™è·èƒœ\\} = 1 - P\\{ç”²è·èƒœ\\} = \\frac{q}{1 + q}\n\t$$\n\t\n\tç”±æ­¤å¯è§ï¼Œ**å…ˆä¸‹æ‰‹ä¸ºå¼º**ã€‚å³è°å…ˆå°„å‡»ï¼Œè°çš„èƒœç‡é«˜ã€‚\n\n##### é¢˜ç›®äºŒ\n- [é¢˜ç›®] æŸå½©ç¥¨æ¯å‘¨å¼€å¥–ä¸€æ¬¡ï¼Œä¸­å¥–æ¦‚ç‡ä¸ºåä¸‡åˆ†ä¹‹ä¸€ï¼Œä¸”æ¯å‘¨å¼€å¥–ç›¸äº’ç‹¬ç«‹ã€‚æŸäººæ¯å‘¨ä¹°ä¸€æ¬¡ï¼ŒåšæŒåå¹´ ( æ¯å¹´ 52 å‘¨ )ï¼Œåˆ™æ±‚ $P$ = {æ­¤äººä»æœªä¸­å¥–} çš„æ¦‚ç‡ã€‚\n- [åˆ†æ] è®° $A_i = \\{ç¬¬ i æ¬¡ä¸­å¥–\\}, \\, i. = 1, 2, ... 52, ä¸” \\, p = 10^{-5}$ï¼Œåˆ™æœ‰ï¼š\n\n\t$$\n\tP\\{æ­¤äººä»æœªä¸­å¥–\\} = \n\tP\\{ \\overline A_1 \\overline A_2 ... \\overline A_{52} \\} = \n\t(1 - 10^{-5})^{52} = 0.9948\n\t$$\n\t\n\tç”±æ­¤å¯è§ï¼Œ**å¤©ä¸Šæ˜¯ä¸ä¼šå¹³ç™½æ— æ•…æ‰é¦…é¥¼**ã€‚\n\n##### é¢˜ç›®ä¸‰\n- 10 ä»½æŠ¥åè¡¨ï¼Œ 3 å¥³ 7 ç”·ï¼Œå…ˆåæ— æ”¾å›æŠ½å–ï¼Œåˆ™:\n\t- (1) $A_1$ = {ç¬¬ä¸‰æ¬¡å–åˆ°å¥³çš„æŠ¥åè¡¨} çš„æ¦‚ç‡\n\t- (2) $A_2$ = {ç¬¬ä¸‰æ¬¡æ‰å–åˆ°å¥³çš„æŠ¥åè¡¨} çš„æ¦‚ç‡\n\t- (3) $A_3$ = {å·²çŸ¥å‰ä¸¤æ¬¡å‡å–åˆ°ç”·ï¼Œç¬¬ä¸‰æ¬¡æ‰å–åˆ°å¥³} çš„æ¦‚ç‡\n\n- [åˆ†æ] \n\t- (1) ç”±é¢˜æ„å¯çŸ¥ï¼Œåˆ©ç”¨ `æŠ“é˜„æ¨¡å‹` è¿›è¡Œè§£é¢˜ï¼Œå³ä½¿ç”¨ `ç»å¯¹æ¦‚ç‡` æ±‚è§£ï¼š\n\n\t\t$$\n\t\tP(A_1) = \\frac{C_3^1 9!}{10!} = \\frac{3}{10}\n\t\t$$\n\t\t\n\t- (2) ç”±é¢˜æ„å¯çŸ¥ï¼Œä½¿ç”¨ `ç§¯äº‹ä»¶æ¦‚ç‡` æ±‚è§£ï¼š\n\n\t\t$$\n\t\tè®° A_i = \\{ç¬¬ i æ¬¡å–åˆ°å¥³çš„æŠ¥åè¡¨\\}, \\,  i = 1,2, ... \\\\\n\t\tåˆ™ P(A_2) = P(\\overline A_1 \\overline A_2 A_3) = \n\t\tP(A_3 | \\overline A_1 \\overline A_2 )P(A_2 | \\overline A_1 )P(A_1)\n\t\t\\\\ = \\frac{3}{8} * \\frac{6}{9} * \\frac{7}{10}= \\frac{7}{40}\n\t\t$$\n\t\t\n\t- (3) ç”±é¢˜æ„å¯çŸ¥ï¼Œä½¿ç”¨ `æ¡ä»¶æ¦‚ç‡` æ±‚è§£ï¼š\n\n\t\t$$\n\t\tP(A_3) = P(A_3 | \\overline A_1 \\overline A_2) = \\frac38\n\t\t$$\n\n##### é¢˜ç›®å››\n- [é¢˜ç›®] è®¾ä¸¤æ‰¹æ•°é‡ç›¸åŒçš„é›¶ä»¶ï¼Œæœ‰ä¸€æ‰¹å…¨éƒ¨åˆæ ¼ï¼Œå¦ä¸€æ‰¹ 25% ä¸åˆæ ¼ï¼Œ75% åˆæ ¼ã€‚ä»ä¸¤æ‰¹äº§å“ä¸­ä»»å–ä¸€ä»¶ï¼Œç»æ£€éªŒä¸ºåˆæ ¼å“ï¼Œæ”¾å›åŸå¤„ï¼Œå¹¶ä»è¯¥å¤„å†å–ä¸€ä»¶ï¼Œæ±‚è¿™ä¸€ä»¶ä¸ºä¸åˆæ ¼çš„æ¦‚ç‡ã€‚\n\n- [åˆ†æ] ä»ä¸¤æ‰¹é›¶ä»¶ä¸­å–å¾—ä¸åˆæ ¼çš„äº‹ä»¶ï¼Œå¯åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š\n\t- (â… ) é€‰æ‰¹æ¬¡ï¼šç¬¬ä¸€æ‰¹è®°ä½œ $H_1$ï¼Œç¬¬äºŒæ‰¹è®°ä½œ $H_2$ã€‚\n\t- (â…¡) å–é›¶ä»¶ï¼šåˆæ ¼è®°ä½œ $A$ï¼Œä¸åˆæ ¼è®°ä½œ $\\overline A$ã€‚\n\n\t\tç”±é¢˜æ„å¯çŸ¥ï¼Œ $P(H_1) = P(H_2) = \\frac12, P(A | H_1) = 1, P(A | H_2) = \\frac34$\n\t\t\n\t\té¦–å…ˆï¼Œä»ä¸¤æ‰¹äº§å“ä¸­ä»»å–ä¸€ä»¶é›¶ä»¶ä¸ºåˆæ ¼å“çš„æ¦‚ç‡ï¼Œç”±å…¨æ¦‚ç‡å…¬å¼æ±‚å¾—ï¼š\n\t\t\n\t\t$$\n\t\tP(A) = P(A \\Omega) = P(A | H_1)P(H_1) + P(A | H_2)P(H_2) = \\frac78\n\t\t$$\n\t\t\n\t\tå†è€…ï¼Œæ‰§å› ç´¢æœï¼Œå·²çŸ¥ç¬¬ä¸€æ¬¡æ‰€å–é›¶ä»¶ä¸ºåˆæ ¼å“ï¼Œåˆ™é€‰è‡ªç¬¬ä¸€æ‰¹ã€ç¬¬äºŒæ‰¹çš„æ¦‚ç‡ç”±è´å¶æ–¯å…¬å¼å¯å¾—ï¼š\n\t\t\n\t\t$$\n\t\tP(H_1 | A) =\n\t\t\\frac{P(AH_1)}{P(A)} = \\frac{P(A | H_1)P(H_1)}{\\frac78} = \\frac47 \\\\\n\t\tP(H_2 | A) = \n\t\t\\frac{P(AH_2)}{P(A)} = \\frac{P(A | H_2)P(H_2)}{\\frac78} = \\frac37\n\t\t$$\n\t\t\n\t\täºæ˜¯ï¼Œè®¾ $C_i = \\{ç¬¬äºŒæ¬¡æ˜¯ä»ç¬¬ i æ‰¹ä¸­å–å¾—é›¶ä»¶çš„\\}, i = 1, 2$ï¼Œåˆ™æœ‰ï¼š\n\t\t\n\t\t$$\n\t\tP(C_1) = P(H_1 | A) = \\frac47, \\, P(C_2) = P(H_2 | A) = \\frac37 \\\\\n\t\t$$\n\t\t\n\t\tåˆ™ç¬¬äºŒæ¬¡ä»è¯¥å¤„å–å¾—ä¸åˆæ ¼é›¶ä»¶çš„æ¦‚ç‡ä¸ºï¼š\n\t\t\n\t\t$$\n\t\tP(\\overline A) =\n\t\tP(\\overline A | C_1)P(C_1) + P(\\overline A | C_2)P(C_2) = \n\t\t0 * \\frac47 + \\frac14 * \\frac 37 = \\frac{3}{28}\n\t\t$$\n\n##### é¢˜ç›®äº”\n- [é¢˜ç›®] è®¾æœ‰ä¸¤ç®±åŒç§é›¶ä»¶ï¼Œç¬¬ä¸€ç®± 50 ä»¶ï¼Œ10 ä»¶ä¸€ç­‰å“ï¼›ç¬¬äºŒç®± 30 ä»¶ï¼Œ18 ä»¶ä¸€ç­‰å“ã€‚å…ˆä»ä¸­éšæœºæŒ‘å‡ºä¸€ç®±ï¼Œå†ä»è¯¥ç®±ä¸­å…ˆåæ— æ”¾å›å–å‡ºä¸¤ä¸ªé›¶ä»¶ï¼Œæ±‚ï¼š\n\t- (1) $P$ = {ç¬¬ä¸€æ¬¡å–åˆ°ä¸€ç­‰å“} çš„æ¦‚ç‡\n\t- (2) $Q$ = {åœ¨ç¬¬ä¸€æ¬¡å–å‡ºçš„æ˜¯ä¸€ç­‰å“çš„æ¡ä»¶ä¸‹ï¼Œç¬¬äºŒæ¬¡ä»å–åˆ°ä¸€ç­‰å“} çš„æ¦‚ç‡\n- [åˆ†æ] ä»ä¸¤ç®±ä¸­å–å¾—ä¸€ç­‰å“é›¶ä»¶çš„äº‹ä»¶ï¼Œå¯åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š\n\t- (â… ) é€‰ç®±å­ï¼šç¬¬ä¸€ç®±è®°ä½œ $H_1$ï¼Œç¬¬äºŒç®±è®°ä½œ $H_2$ã€‚\n\t- (â…¡) å–é›¶ä»¶ï¼šç¬¬ä¸€æ¬¡å–åˆ°ä¸€ç­‰å“è®°ä½œ $B_1$ï¼Œç¬¬äºŒæ¬¡å–åˆ°ä¸€ç­‰å“è®°ä½œ  $B_2$ã€‚\n\n\t\tç”±é¢˜æ„å¯çŸ¥ï¼Œ $P(H_1) = P(H_2) = \\frac12, P(B_1 | H_1) = \\frac{10}{50}, P(B_1 | H_2) = \\frac{18}{30}$\n\t\t\n\t\t(1) ç”±æ­¤å¯å¾—ï¼Œ$P$ = {ç¬¬ä¸€æ¬¡å–åˆ°ä¸€ç­‰å“} çš„æ¦‚ç‡ä¸ºï¼š\n\n\t\t$$\n\t\tP = P(B_1\\Omega) = P(B_1 | H_1)P(H_1) + P(B_1 | H_2)P(H_2) = \n\t\t\\frac{10}{50} * \\frac12 + \\frac{18}{30} * \\frac12 = \\frac{4}{10}\n\t\t$$\n\t\t\n\t\t(2) ä¾é¢˜æ„ï¼Œå¯ä½¿ç”¨æ¡ä»¶æ¦‚ç‡å…¬å¼æ±‚ $P$ = {åœ¨ç¬¬ä¸€æ¬¡å–å‡ºæ˜¯ä¸€ç­‰å“çš„æ¡ä»¶ä¸‹ï¼Œç¬¬äºŒæ¬¡ä»å–åˆ°ä¸€ç­‰å“}ï¼š\n\t\t\n\t\t$$\n\t\tP(B_2 | B_1) = \\frac{P(B_1B_2)}{P(B_1)} = \n\t\t\\frac{ P(B_1B_2 | H_1)P(H_1) + P(B_1B_2 | H_2)P(H_2) }{\\frac{4}{10}} \\\\\n\t\t= \\frac{10}{4} * (\n\t\t\t\\frac{10}{50} * \\frac{9}{49} * \\frac12 + \n\t\t\t\\frac{18}{30} * \\frac{17}{29} * \\frac12\n\t\t) = 0.486\n\t\t$$\n\t\t\n\t\tå½“ç„¶ï¼Œä¹Ÿå¯ä»¥å‚ç…§ä¾‹é¢˜å››çš„æ€è·¯è§£é¢˜ ( è´å¶æ–¯ )ï¼š\n\t\t\n\t\t$$\n\t\tP(H_1 | B_1) = \\frac{ P(B_1 | H_1)P(H_1)}{P(B_1)} = \n\t\t\\frac{ \\frac{10}{50} * \\frac12 }{ \\frac{4}{10} } = \\frac{1}{4}\\\\\n\t\tP(H_1 | B_1) = \\frac{ P(B_1 | H_2)P(H_2)}{P(B_1)} = \n\t\t\\frac{ \\frac{18}{30} * \\frac12 }{ \\frac{4}{10} } = \\frac34 \\\\\n\t\tP(B_2 | B_1) = P(H_1 | B_1) * \\frac{9}{49} + P(H_2 | B_1) * \\frac{17}{29} = 0.486\n\t\t$$\n\n## è´° å¦‚ä½•æ±‚åˆ†å¸ƒ\n\n### åŸºæœ¬æ¦‚å¿µ\n#### éšæœºå˜é‡\n#### åˆ†å¸ƒå‡½æ•°\n##### ç¦»æ•£å‹éšæœºå˜é‡\n##### è¿ç»­å‹éšæœºå˜é‡\n\n### å¸¸è§ä¸€ç»´åˆ†å¸ƒ\n#### ä¸¤ç‚¹åˆ†å¸ƒ\n#### äºŒé¡¹åˆ†å¸ƒ\n#### å‡ ä½•åˆ†å¸ƒ\n#### è¶…å‡ ä½•åˆ†å¸ƒ\n#### æ³Šæ¾åˆ†å¸ƒ\n#### å‡åŒ€åˆ†å¸ƒ\n#### æŒ‡æ•°åˆ†å¸ƒ\n#### æ­£æ€åˆ†å¸ƒ\n\n### ä¸€ç»´éšæœºå˜é‡åŠå…¶åˆ†å¸ƒå‡½æ•°\n\n### äºŒç»´éšæœºå˜é‡åŠå…¶åˆ†å¸ƒå‡½æ•°\n\n## å å¦‚ä½•æ±‚æ•°å­—ç‰¹å¾\n\n### æ•°å­¦æœŸæœ›\n### æ–¹å·®\n### åæ–¹å·®\n### ç›¸å…³ç³»æ•°\n\n## è‚† å¦‚ä½•ä½¿ç”¨æé™å®šç†\n\n### ä¾æ¦‚ç‡æ”¶æ•›\n\n### æé™å®šç†\n#### å¤§æ•°å®šå¾‹\n#### ä¸­å¿ƒæé™å®šç†\n\n## ä¼ å¦‚ä½•ä½œä¼°è®¡\n\n### æ€»ä½“ä¸æ ·æœ¬\n### ä¼°è®¡æ–¹æ³•\n#### çŸ©ä¼°è®¡\n#### æœ€å¤§ä¼¼ç„¶ä¼°è®¡","tags":["æ•°å­—ç‰¹å¾"],"categories":["Reading"]},{"title":"ç¬”è®° | Python 3 å…¥é—¨ç³»åˆ—æ•™ç¨‹","url":"%2F2018%2F09%2Flife-is-short-we-need-python.html","content":"\n## åºè¨€\n- æœ¬æ–‡ç« ä¸»è¦ä»¥é»‘é©¬ç¨‹åºå‘˜çš„ã€Œ[ä¼ æ™ºæ’­å®¢ Python å°±ä¸šç­ (ij6g)](https://pan.baidu.com/s/1oBnk19WfBWQ1Pwd7rNGixw)ã€ã€ã€Œ [Python ä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹](https://www.bilibili.com/video/av14184325) ã€å’Œã€Œ [å»–é›ªå³°çš„ Python æ•™ç¨‹](https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000) ã€ä¸ºä¸»çº¿ï¼Œè¾“å‡ºå­¦ä¹ ç¬”è®°ï¼Œç›®çš„æ˜¯æ£€éªŒè‡ªå·±çš„å­¦ä¹ æ•ˆæœå’Œæ—¥å¸¸å¤ä¹ ä¹‹éœ€ã€‚ä½œä¸ºå…¥é—¨ Python çš„å‚è€ƒèµ„æ–™ï¼Œé™¤äº†è§†é¢‘çš„åŸºç¡€å†…å®¹å¤–ï¼Œæ–‡ç« è¿˜ä¼šè¡¥å……è§†é¢‘ä¸­è®²è§£ä¸è¯¦ç»†æˆ–é—æ¼çš„å¿…è¦çŸ¥è¯†ç‚¹ã€‚\n\n- æ–‡ç« çš„å†…å®¹å’ŒçŸ¥è¯†æ¡†æ¶ï¼Œä¸ã€Œå»–é›ªå³°çš„ Python æ•™ç¨‹ã€å’Œã€Œä¼ æ™ºæ’­å®¢çš„è§†é¢‘ã€å¤§ä½“ä¿æŒä¸€è‡´ï¼š  \n\n\tæ–‡ç« ä»¥æ¨¡å—åˆ†å—é˜è¿°ï¼š`Linux åŸºç¡€`ã€`Python åŸºç¡€`ã€`Python é¢å‘å¯¹è±¡`ã€`é¡¹ç›®å®æˆ˜` ( å®æˆ˜éƒ¨åˆ†ä»¥çˆ¬è™«ã€æ•°æ®åˆ†æä¸ºä¸»çš„é¡¹ç›®å®æˆ˜ )ã€‚\n\n\tæ¯ä¸ªæ¨¡å—æŒ‰çŸ¥è¯†ç‚¹åŒºåˆ†ï¼š  \n\t1) Linux åŸºç¡€éƒ¨åˆ†å‚è€ƒ `ä¼ æ™ºæ’­å®¢ Python ä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹`ï¼›  \n\t2) Python åŸºç¡€éƒ¨åˆ†å‚è€ƒ `å»–é›ªå³° Python æ•™ç¨‹`ï¼›  \n\t3) é¡¹ç›®å®è·µï¼Œå³æ•°æ®åˆ†æéƒ¨åˆ†å‚è€ƒä¹¦ç± `åˆ©ç”¨ Python è¿›è¡Œæ•°æ®åˆ†æ` $^{[5]}$ï¼›  \n\n- æœ€åï¼Œæ­£å¦‚ Bruce Eckel æ‰€è¿° `Life is short, you need python`ï¼ŒPython çš„é«˜æ•ˆåªæœ‰åˆ‡èº«ä½“éªŒæ‰ä¼šæ·±æœ‰ä½“ä¼šï¼ŒæœŸå¾…æ‚¨æ—©æ—¥åŠ å…¥ Python é˜Ÿä¼ä¸­æ¥ã€‚\n\n<!-- More -->\n\n## æ›´æ–°è¿›åº¦\n- 2018.09.03ï¼šå®Œæˆåˆç¨¿ï¼Œä¸”å®Œæˆ Linux åŸºç¡€éƒ¨åˆ†çš„å†…å®¹ï¼›\n- 2018.09.18ï¼šæ›´æ–° Python åŸºç¡€éƒ¨åˆ†å†…å®¹ã€Œè¯­è¨€åŸºç¡€ã€å‡½æ•°ã€é«˜çº§ç‰¹æ€§ã€ï¼›\n- 2018.09.21ï¼šæ›´æ–° Python åŸºç¡€éƒ¨åˆ†å†…å®¹ã€Œå‡½æ•°å¼ç¼–ç¨‹ã€ï¼›\n- 2018.10.10ï¼šæ›´æ–° Python åŸºç¡€éƒ¨åˆ†å†…å®¹ã€Œæ¨¡å—ã€é¢å‘å¯¹è±¡ç¼–ç¨‹ã€ï¼›\n- 2018.10.12ï¼šæ›´æ–° Python åŸºç¡€éƒ¨åˆ†å†…å®¹ã€Œé¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹ã€ï¼›\n- 2018.10.13ï¼šæ›´æ–° Python åŸºç¡€éƒ¨åˆ†å†…å®¹ã€Œé”™è¯¯/è°ƒè¯•/æµ‹è¯•ã€ï¼›\n- 2018.10.14ï¼šæ›´æ–° Python åŸºç¡€éƒ¨åˆ†å†…å®¹ã€Œé¢å‘ I/O ç¼–ç¨‹ã€ï¼›\n- 2018.11.05ï¼šæ›´æ–° Python åŸºç¡€éƒ¨åˆ†å†…å®¹ã€Œè£…é¥°å™¨ã€ï¼›\n\n## å‚è€ƒä¹¦ç›®\n- `Python åŸºç¡€`\n\t- ğŸ“– | åŸƒé‡Œå…‹Â·é©¬ç‘Ÿæ–¯.ã€Š Python ç¼–ç¨‹ï¼šä»å…¥é—¨åˆ°å®è·µ ã€‹ï¼š[è±†ç“£è¯„åˆ†](https://book.douban.com/subject/26829016/)\n\t- ğŸ“– | Albert Sweigart.ã€Š Python ç¼–ç¨‹å¿«é€Ÿä¸Šæ‰‹ ã€‹ï¼š[è±†ç“£è¯„åˆ†](https://book.douban.com/subject/26836700/) \n- `Python è¿›é˜¶`\n\t- ğŸ“– | David M. Beazley / Brian K. Jones.ã€Š Python Cookbook ã€‹ï¼š[ä¸­æ–‡ç‰ˆ](https://book.douban.com/subject/26381341/) | [è‹±æ–‡ç‰ˆ](https://book.douban.com/subject/20491078/)\n\t- ğŸ“– | Luciano Ramalho. ã€Š Fluent Python ã€‹ï¼š[ä¸­æ–‡ç‰ˆ](https://book.douban.com/subject/27028517/) | [è‹±æ–‡ç‰ˆ](https://book.douban.com/subject/26278021/)\n- `Python å®è·µ`\n\t- ğŸ“– | Wes Mckinney.ã€Š åˆ©ç”¨ Python è¿›è¡Œæ•°æ®åˆ†æ ã€‹ï¼š[è±†ç“£è¯„åˆ†](https://book.douban.com/subject/25779298/)\n\t- ğŸ“– | Clinton W. Brownley.ã€Š Pythonæ•°æ®åˆ†æåŸºç¡€ ã€‹ï¼š[è±†ç“£è¯„åˆ†](https://book.douban.com/subject/27100480/)\n\n## æ•™å­¦èµ„æº\n- ğŸ“– | æ–‡ç«  | [å»–é›ªå³°. Python 3 æ•™ç¨‹. liaoxuefeng.com](https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000)\n- ğŸ“º | è§†é¢‘ | [é»‘é©¬ç¨‹åºå‘˜. Python ä»å…¥é—¨åˆ°ç²¾é€šæ•™ç¨‹. 2017. bilibili.com](https://www.bilibili.com/video/av14184325)\n- ğŸ“º | è§†é¢‘ | [ä¼ æ™ºæ’­å®¢. Python å°±ä¸šç­. 2017. BaiduCloud](https://pan.baidu.com/s/1oBnk19WfBWQ1Pwd7rNGixw) | Pwd: ij6g\n\n\t> æœ¬æ–‡ç« çš„å­¦ä¹ ç¬”è®°æ˜¯åŸºäºæ­¤ç³»åˆ—æ•™å­¦è§†é¢‘æ‰€å¾—çš„ã€‚\n\n## Linux åŸºç¡€\n\n### Linux å¸¸ç”¨ç»ˆç«¯å‘½ä»¤\n> ä»…åˆ—ä¸¾ä¸€äº›é¡¹ç›®ä¸­å¸¸ç”¨çš„å‘½ä»¤ã€‚\n\n- LS å‘½ä»¤ä¸é€šé…ç¬¦\n\t- `*`ï¼šä»£è¡¨ä»»æ„ä¸ªæ•°ä¸ªå­—ç¬¦ã€‚\n\t- `?`ï¼šä»£è¡¨ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚\n\t- `[]`ï¼šè¡¨ç¤ºå¯åŒ¹é…å­—ç¬¦ç»„ä¸­ä»»æ„ä¸€ä¸ªã€‚\n\t- `[abc]`ï¼šåŒ¹é… aã€bã€c ä¸­çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚\n\t- `[a-f]`ï¼šåŒ¹é…ä» a åˆ° f èŒƒå›´å†…çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦ã€‚\n\n\t> å¸¸ä½¿ç”¨ `ls -al` æ˜¾ç¤ºå½“å‰æ–‡ä»¶ç›®å½•æ‰€æœ‰æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚\n\n- CD å‘½ä»¤ä¸åˆ‡æ¢ç›®å½•\n\t- ç›¸å¯¹è·¯å¾„ï¼šæœ€å‰é¢ä¸æ˜¯ `/` æˆ– `~`ï¼Œè¡¨ç¤ºç›¸å¯¹ `å½“å‰ç›®å½•` æ‰€åœ¨çš„ç›®å½•ä½ç½®ã€‚\n\t- ç»å¯¹è·¯å¾„ï¼šæœ€å‰é¢æ˜¯ `/` æˆ– `~`ï¼Œè¡¨ç¤ºä» `æ ¹ç›®å½• / Home ç›®å½•` å¼€å§‹çš„å…·ä½“ç›®å½•ä½ç½®ã€‚\n\n\t\t```bash\n\t\t# ç›¸å¯¹è·¯å¾„ï¼šè¿”å›ä¸Šä¸¤çº§ç›®å½•\n\t\tcd ../../ \n\t\t\n\t\t# ç»å¯¹è·¯å¾„ï¼šç›¸å½“äº cd /Users/your username/\n\t\tcd ~\n\t\t```\n\t\t\n- Tree å‘½ä»¤ï¼šä»¥æ ‘çŠ¶ç»“æ„æ˜¾ç¤ºæ–‡ä»¶ç›®å½•ç»“æ„ï¼Œè‹¥ `tree -d` åˆ™æ˜¾ç¤ºç›®å½•ï¼Œä¸æ˜¾ç¤ºæ–‡ä»¶ã€‚\n\n- æŸ¥çœ‹æ–‡ä»¶å†…å®¹\n\t- `cat æ–‡ä»¶å`ï¼šæŸ¥çœ‹æ–‡ä»¶å†…å®¹ã€åˆ›å»ºæ–‡ä»¶ã€æ–‡ä»¶åˆå¹¶ã€è¿½åŠ æ–‡ä»¶å†…å®¹ç­‰åŠŸèƒ½ã€‚\n\t- `more æ–‡ä»¶å`ï¼šåˆ†å±æ˜¾ç¤ºæ–‡ä»¶å†…å®¹ã€‚\n\t- `grep æœç´¢æ–‡æœ¬çš„æ–‡ä»¶å`ï¼šæœç´¢æ–‡ä»¶æ–‡ä»¶å†…å®¹ã€‚\n\t\t- ä¾‹å¦‚æœç´¢åŒ…å«å•è¯ â€œhelloâ€ çš„æ–‡æœ¬ï¼Œå³ `grep \"hello\" sample.txt`ã€‚\n\t\t- é€‰é¡¹å‚æ•°ï¼š`-n` æ˜¾ç¤ºåŒ¹é…è¡Œå·ï¼›`-v` æ˜¾ç¤ºä¸åŒ…å«åŒ¹é…æ–‡æœ¬çš„æ‰€æœ‰è¡Œï¼›`-i` å¿½ç•¥å¤§å°å†™ã€‚\n\n- Echo å‘½ä»¤ä¸é‡å®šå‘\n\t- `echo` å‘½ä»¤ï¼šåœ¨ç»ˆç«¯ä¸­æ˜¾ç¤ºå‚æ•°æŒ‡å®šçš„æ–‡å­—ã€‚\n\t- é‡å®šå‘ `>` å’Œ `>>`ï¼š\n\t\t- `>` è¡¨ç¤ºè¾“å‡ºï¼Œä¼šè¦†ç›–æ–‡ä»¶åŸæœ‰å†…å®¹ã€‚\n\t\t- `>>` è¡¨ç¤ºè¿½åŠ ï¼Œä¼šå°†å†…å®¹è¿½åŠ åˆ°å·²æœ‰æ–‡ä»¶çš„æœ«å°¾ã€‚\n\t- `echo` å‘½ä»¤å¸¸ç»“åˆ `é‡å®šå‘` ä½¿ç”¨ï¼š\n\n\t\t```bash\n\t\t# å°†å­—ç¬¦ä¸² \"Hello World\" è¿½åŠ åˆ°\n\t\techo \"Hello World\" >> sample.txt\n\t\t```\n\t\t\n- ç®¡é“ç¬¦ `|`\n\t- Linux å…è®¸å°†ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡ºé€šè¿‡ç®¡é“ä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥ã€‚\n\t- ls å‘½ä»¤ä¸ grep å‘½ä»¤çš„ç»“åˆä½¿ç”¨ï¼Œå¦‚ä» Home ç›®å½•ä¸‹æœç´¢åŒ…å« \"python\" å…³é”®å­—çš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ï¼š\n\n\t\t```bash\n\t\t# ä» Home ç›®å½•ä¸‹æœç´¢åŒ…å« \"python\" å…³é”®å­—çš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹\n\t\tls -al ~ | grep python\n\t\t```\n\t\n- Ifconfig å‘½ä»¤ä¸ Ping å‘½ä»¤\n\t- `ifconfig` å‘½ä»¤å¯æŸ¥çœ‹/é…ç½®è®¡ç®—æœºå½“å‰çš„ç½‘å¡é…ç½®ã€‚\n\t- `ping` å‘½ä»¤ä¸€èˆ¬ç”¨äºæ£€æµ‹å½“å‰è®¡ç®—æœºåˆ°ç›®æ ‡è®¡ç®—æœºä¹‹é—´çš„ç½‘ç»œæ˜¯å¦ç•…é€šã€‚\n\n\t\t```bash\n\t\t# å¿«é€ŸæŸ¥çœ‹ç½‘å¡å¯¹åº”çš„ IP åœ°å€\n\t\tifconfig | grep inet\n\t\t```\n\n### è¿œç¨‹ç™»å½•å’Œå¤åˆ¶æ–‡ä»¶\n\n#### è¿œç¨‹ç™»å½•\n- è¿œç¨‹ç™»å½•å³é€šè¿‡ `SSH å®¢æˆ·ç«¯` è¿æ¥è¿è¡Œäº† `SSH æœåŠ¡å™¨` çš„è¿œç¨‹æœºå™¨ä¸Šã€‚\n- SSH æ˜¯ç›®å‰è¾ƒå¯é ï¼Œä¸“ä¸º `è¿œç¨‹ç™»å½•ä¼šè¯` å’Œ `å…¶ä»–ç½‘ç»œæœåŠ¡` æä¾›å®‰å…¨æ€§åè®®ã€‚\n\t- æœ‰æ•ˆé˜²æ­¢è¿œç¨‹ç®¡ç†è¿‡ç¨‹ä¸­çš„ä¿¡æ¯æ³„éœ²ã€‚\n\t- å¯¹æ‰€æœ‰ä¼ è¾“çš„æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œä¹Ÿèƒ½é˜²æ­¢ DNS æ¬ºéª—å’Œ IP æ¬ºéª—ã€‚\n- SSH å®¢æˆ·ç«¯æ˜¯ä¸€ç§ä½¿ç”¨ `Secure Shell` åè®®è¿æ¥åˆ°è¿œç¨‹è®¡ç®—æœºçš„è½¯ä»¶ç¨‹åºã€‚\n- SSH å®¢æˆ·ç«¯ç®€å•ä½¿ç”¨è®¿é—®æœåŠ¡å™¨ï¼š`ssh [-p port] user@remote`\n\t- `user` æ˜¯è¿œç¨‹æœºå™¨ä¸Šçš„ç”¨æˆ·åã€‚\n\t- `remote` æ˜¯è¿œç¨‹æœºå™¨åœ°å€ï¼Œå¯ä¸º IPã€åŸŸåæˆ–åˆ«åã€‚\n\t- `port` æ˜¯ SSH æœåŠ¡å™¨ç›‘å¬çš„ç«¯å£ï¼Œè‹¥ä¸æŒ‡å®šç«¯å£é»˜è®¤ä¸º 22ã€‚\n\n#### å¤åˆ¶æ–‡ä»¶\n- SCP å³ `Secure Copy`ï¼Œæ˜¯ä¸€ä¸ªåœ¨ Linux ä¸‹ç”¨æ¥è¿›è¡Œ `è¿œç¨‹æ‹·è´æ–‡ä»¶` çš„å‘½ä»¤ã€‚\n\n\t```bash\n\t# ä»æœ¬åœ°å¤åˆ¶æ–‡ä»¶åˆ°è¿œç¨‹æœºå™¨æ¡Œé¢ä¸Š\n\tscp -P sample.py user@remote:Desktop/sample.py\n\t\n\t# ä»è¿œç¨‹æœºå™¨æ¡Œé¢ä¸Šå¤åˆ¶æ–‡ä»¶å¤¹åˆ°æœ¬åœ°ä¸Š\n\tscp -P port -r user@remote:Desktop/sample ~/Desktop/sample\n\t```\n\n#### SSH é«˜çº§ç”¨æ³•\n\n##### å…å¯†ç ç™»å½•\nå…å¯†ç ç™»å½•ï¼šå³å®¢æˆ·ç«¯è®¿é—®æœåŠ¡ç«¯æ—¶ï¼Œéœ€è¦å¯†ç éªŒè¯èº«ä»½ç™»å½•ã€‚\n\n- Step.01. é…ç½®å…¬é’¥ï¼šæ‰§è¡Œ `ssh-keygen` å³ç”Ÿæˆ SSH å¯†é’¥ã€‚\n- Step.02. ä¸Šä¼ å…¬é’¥åˆ°æœåŠ¡å™¨ï¼šæ‰§è¡Œ `ssh-copy-id -p port user@remote`ï¼Œè®©è¿œç¨‹æœåŠ¡å™¨è®°ä½æˆ‘ä»¬çš„ `å…¬é’¥`ã€‚\n\t\n\t> 1) æœ‰å…³ SSH é…ç½®ä¿¡æ¯éƒ½ä¿å­˜åœ¨ `/Home/your username/.ssh` ç›®å½•ä¸‹ã€‚  \n\t> 2) å…å¯†ç™»å½•ä½¿ç”¨çš„æ˜¯éå¯¹ç§°åŠ å¯†ç®—æ³• ( RSA )ï¼Œå³ä½¿ç”¨å…¬é’¥åŠ å¯†çš„æ•°æ®ï¼Œéœ€è¦ä½¿ç”¨ç§é’¥è§£å¯†ï¼›ä½¿ç”¨ç§é’¥åŠ å¯†çš„æ•°æ®ï¼Œéœ€è¦ä½¿ç”¨å…¬é’¥è§£å¯†ã€‚è‹¥æœ‰å…´è¶£äº†è§£ `RSA ç®—æ³•` çš„åŸç†åŠè®¡ç®—ï¼Œå¯å‚è€ƒå¼•ç”¨æ–‡ç«  [1]ã€[2]ã€‚\n\t\t\n\t![å›¾5-2-1å…å¯†ç ç™»å½•å®ç°åŸç†å›¾](/images/illustration/Programme/2018/09/life-is-short-we-need-python_5-2-1.png)\n\t<center>å›¾ 5-2-1 å…å¯†ç ç™»å½•å®ç°åŸç†å›¾</center>\n\t\t\n##### é…ç½®åˆ«å\né…ç½®åˆ«åï¼šæ¯æ¬¡è¾“å…¥ `ssh -p port user@remote` æ˜¯éå¸¸ç¹çé‡å¤çš„å·¥ä½œï¼Œé…ç½®åˆ«åçš„æ–¹å¼ä»¥æ›¿ä»£ä¸Šè¿°è¿™ä¹ˆä¸€ä¸²å‘½ä»¤ä»£ç ã€‚\n\n- åœ¨ `/.ssh/config` æ–‡ä»¶ä¸‹è¿½åŠ ä»¥ä¸‹å†…å®¹ ( éœ€å»ºç«‹ Config æ–‡ä»¶ )ï¼š\n\n\t```vim\n\tHost mac\n\tHostName 192.168.10.1\n\tUser user\n\tPort 22\n\t```\n\t\n- å‘½ä»¤è¾“å…¥ `ssh mac` å³å¯å®ç°è¿œç¨‹ç™»å½•æ“ä½œ ( SCP åŒæ ·åŸç† )ã€‚\n\n\t```bash\n\t# è‹¥é…ç½®åˆ«ååï¼Œå¾…éªŒè¯å‘½ä»¤çš„æ ¼å¼:\n\t# æ˜¯å¦ä¸º: scp -r ~/Desktop/Sample mac:Desktop/Sample\n\t# è¿˜æ˜¯: scp -P 22 -r ~/Desktop/Sample mac:Desktop/Sample\n\t```\n\n### ç”¨æˆ·å’Œæƒé™\n\n#### åŸºæœ¬æ¦‚å¿µ\n- åœ¨ Linux ä¸­ï¼Œå¯æŒ‡å®šæ¯ä¸€ç”¨æˆ·é’ˆå¯¹ä¸åŒçš„æ–‡ä»¶æˆ–è€…ç›®å½•çš„ä¸åŒæƒé™ã€‚\n- å¯¹æ–‡ä»¶ / ç›®å½•åŒ…å«çš„æƒé™æœ‰ï¼š\n\n<center>è¡¨ 5-3-1 æ–‡ä»¶/ç›®å½•æƒé™å±æ€§è¯´æ˜</center>\n\n| æƒé™ | è‹±æ–‡ | ç¼©å†™ | æ•°å­—ä»£å· |\n| :---: | :---: | :---: | :---: |\n| è¯» | read | r | 4 |\n| å†™ | write | w | 2 |\n| æ‰§è¡Œ | excute | x | 1 |\n\t\n#### ç»„\n- ä¸ºæ–¹ä¾¿ç”¨æˆ·ç®¡ç†ï¼Œæå‡ºç»„çš„æ¦‚å¿µã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¯é¢„å…ˆé’ˆå¯¹ç»„è®¾ç½®å¥½æƒé™ï¼Œç„¶åå°†ä¸åŒçš„ç”¨æˆ·æ·»åŠ åˆ°å¯¹åº”ç»„ä¸­ï¼Œä»è€Œä¸ç”¨ä¾æ¬¡ä¸ºæ¯ä¸ªç”¨æˆ·è®¾ç½®æƒé™ã€‚\n\n#### LL å‘½ä»¤\n- LL å‘½ä»¤å³ LS å‘½ä»¤çš„æ‰©å±•ç”¨æ³• `ls -al`ã€‚\n- LL å‘½ä»¤å¯æŸ¥çœ‹æ–‡ä»¶å¤¹ä¸‹æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œä»å·¦å¾€å³ä¾æ¬¡æ˜¯ï¼š\n\t- æƒé™ï¼šç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ `d`ï¼Œè¡¨ç¤ºç›®å½•ï¼›`-` è¡¨ç¤ºæ–‡ä»¶ï¼›\n\t- ç¡¬é“¾æ¥æ•°ï¼šé€šä¿—ç†è§£å³æœ‰å¤šå°‘ç§æ–¹å¼å¯è®¿é—®åˆ°å½“å‰ç›®å½• / æ–‡ä»¶ï¼›\n\t- æ‹¥æœ‰è€…ï¼šå½“å‰ç”¨æˆ·ï¼›\n\t- ç»„ï¼šå½“å‰ç”¨æˆ·æ‰€å±çš„ç»„ï¼›\n\t- æ–‡ä»¶å¤§å°ï¼Œä¿®æ”¹æ—¶é—´ï¼Œæ–‡ä»¶ / ç›®å½•åç§°.\n\n<center>è¡¨ 5-3-2 \"ls -al\" æŸ¥çœ‹æ–‡ä»¶çš„æƒé™ä¿¡æ¯è¯´æ˜</center>\n\n| ç›®å½• | æ‹¥æœ‰è€…æƒé™ | ç»„æƒé™ | å…¶ä»–ç”¨æˆ·æƒé™ | å¤‡æ³¨ |\n| :---: | :---: | :---: | :---: | :---: |\n| - | r w - |  r w -  |  r - -  | æ–‡ä»¶æƒé™ç¤ºä¾‹ |\n| d |  r w x | r w x | r - x | ç›®å½•æƒé™ç¤ºä¾‹ |\n\n#### Chmod å‘½ä»¤\n- Chmod å‘½ä»¤ï¼šå¯ä¿®æ”¹ `ç”¨æˆ·/ç»„` å¯¹ `æ–‡ä»¶/ç›®å½•` çš„æƒé™ã€‚\n\n\t```bash\n\t# ä¸€æ¬¡æ€§ä¿®æ”¹æ‹¥æœ‰è€…/ç»„çš„æƒé™\n\tchmod +/-rwx æ–‡ä»¶å/ç›®å½•å\n\t```\n\n#### Sudo å‘½ä»¤\n- Sudo å‘½ä»¤ï¼šä½¿ç”¨é¢„è®¾ ( root, ç³»ç»Ÿç®¡ç†å‘˜ ) çš„èº«ä»½æ¥æ‰§è¡Œå‘½ä»¤ã€‚\n\n\t> Linux ç³»ç»Ÿä¸­ï¼Œé€šå¸¸ä½¿ç”¨æ ‡å‡†ç”¨æˆ·ç™»å½•åŠä½¿ç”¨ç³»ç»Ÿï¼Œé€šå¸¸ `sudo` å‘½ä»¤ä¸´æ—¶è·å¾—æƒé™ç”¨äºç³»ç»Ÿçš„ç»´æŠ¤ä¸å’Œç®¡ç†ã€‚\n\t\n### ç³»ç»Ÿä¿¡æ¯ç›¸å…³å‘½ä»¤\n- æŸ¥è¯¢æ—¶é—´å’Œæ—¥æœŸ\n\t- `date`ï¼šæŸ¥çœ‹ç³»ç»Ÿæ—¶é—´ã€‚\n\t- `cal`ï¼šæŸ¥çœ‹å½“æœˆæ—¥å†ï¼Œ`cal -y` æŸ¥çœ‹å½“å¹´çš„æ—¥å†ã€‚\n- ç£ç›˜å’Œç›®å½•ç©ºé—´\n\t- dfï¼š`df -h`ï¼ŒDisk Free æ˜¾ç¤ºç£ç›˜å‰©ä½™ç©ºé—´ã€‚\n\t- duï¼š`du -h`ï¼ŒDisk Usage æ˜¾ç¤ºç›®å½•ä¸‹çš„æ–‡ä»¶å¤§å°ã€‚\n- è¿›ç¨‹ä¿¡æ¯\n\t- psï¼š`ps aux`ï¼Œå³ Process Statusï¼ŒæŸ¥çœ‹è¿›ç¨‹çš„è¯¦ç»†çŠ¶å†µã€‚\n\t- topï¼šåŠ¨æ€æ˜¾ç¤ºè¿è¡Œä¸­çš„è¿›ç¨‹å¹¶æ’åºã€‚\n\t- killï¼š`kill [-9] è¿›ç¨‹ä»£å·`ï¼Œ`-9` è¡¨ç¤ºå¼ºè¡Œç»ˆæ­¢ï¼Œç»ˆæ­¢æŒ‡å®šä»£å·çš„è¿›ç¨‹ã€‚\n\n\t\t> ä½¿ç”¨ `kill` å‘½ä»¤æ—¶ï¼Œæœ€å¥½ç»ˆæ­¢å½“å‰ç”¨æˆ·å¼€å¯çš„è¿›ç¨‹ï¼Œè€Œä¸æ˜¯ç»ˆæ­¢ `root` èº«ä»½å¼€å¯çš„è¿›ç¨‹ã€‚\n\t\t\n### å…¶ä»–ç»ˆç«¯å‘½ä»¤\n\n#### æŸ¥æ‰¾æ–‡ä»¶\næŸ¥æ‰¾æ–‡ä»¶ï¼š`find` å‘½ä»¤åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œé€šå¸¸åœ¨ç‰¹å®šç›®å½•ä¸‹æœç´¢ç¬¦åˆæ¡ä»¶çš„æ–‡ä»¶ã€‚\n\n- è‹¥çœç•¥è·¯å¾„ï¼Œè¡¨ç¤ºåœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹æŸ¥æ‰¾ã€‚\n- `find` å‘½ä»¤å¯ç»“åˆ `é€šé…ç¬¦` ä¸€èµ·ä½¿ç”¨ã€‚\n\n\t```bash\n\tfind [è·¯å¾„] -name \"*.py\"\n\t```\n\t\n#### è½¯é“¾æ¥\nè½¯é“¾æ¥ï¼šå»ºç«‹æ–‡ä»¶çš„è½¯é“¾æ¥ï¼Œé€šä¿—ç†è§£å³ PC/MacOS ä¸Šçš„ `å¿«æ·æ–¹å¼`ã€‚\n\n- æºæ–‡ä»¶è¦ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼Œå³ä¾¿äºç§»åŠ¨é“¾æ¥æ–‡ä»¶ (å¿«æ·æ–¹å¼) ä»èƒ½æ­£å¸¸ä½¿ç”¨ã€‚\n- æ²¡æœ‰ `-s` é€‰é¡¹æ˜¯å»ºç«‹ä¸€ä¸ªç¡¬é“¾æ¥æ–‡ä»¶ã€‚\n\n\t```bash\n\tln -s è¢«é“¾æ¥çš„æºæ–‡ä»¶ å¿«æ·æ–¹å¼çš„åç§°\n\t```\n\t\n- åœ¨ Linux ä¸­ï¼Œæ–‡ä»¶åå’Œæ–‡ä»¶çš„æ•°æ®æ˜¯åˆ†å¼€å‚¨å­˜çš„ã€‚\n\n\t![å›¾5-5-1è½¯ã€ç¡¬é“¾æ¥è®¿é—®æ–‡ä»¶æ•°æ®](/images/illustration/Programme/2018/09/life-is-short-we-need-python_5-5-1.png)\n\t<center>å›¾ 5-5-1 è½¯ã€ç¡¬é“¾æ¥è®¿é—®æ–‡ä»¶æ•°æ®</center>\n\n#### æ‰“åŒ…å‹ç¼©\n- `tar` æ˜¯ Linux ä¸­æœ€å¸¸ç”¨çš„å¤‡ä»½å·¥å…· ( **æ‰“åŒ…å¹¶ä¸å‹ç¼©** )ï¼Œå…¶å‘½ä»¤æ ¼å¼å¦‚ä¸‹ï¼š\n\n\t```bash\n\t# é€‰é¡¹ cï¼šç”Ÿæˆæ¡£æ¡ˆæ–‡ä»¶ (.tar)\n\t# é€‰é¡¹ xï¼šè§£å¼€æ¡£æ¡ˆæ–‡ä»¶\n\t# é€‰é¡¹ vï¼šåˆ—å‡ºå½’æ¡£/è§£æ¡£çš„è¯¦ç»†è¿‡ç¨‹ï¼Œæ˜¾ç¤ºè¿›ç¨‹\n\t# é€‰é¡¹ fï¼šæŒ‡å®šæ¡£æ¡ˆæ–‡ä»¶åç§°ï¼Œé€‰é¡¹ f ååº”è¯¥ç´§è·Ÿ .tar æ–‡ä»¶\n\t\n\t# æ‰“åŒ…æ–‡ä»¶ï¼šæ‰“åŒ…æ”¾äºåŒä¸€ç›®å½•ä¸‹\n\ttar -cvf æ‰“åŒ…æ–‡ä»¶.tar. è¢«æ‰“åŒ…æ–‡ä»¶è·¯å¾„\n\t\n\t# è§£åŒ…æ–‡ä»¶\n\ttar - xvf æ‰“åŒ…æ–‡ä»¶ [-C ç›®æ ‡è·¯å¾„]\n\t```\n\t\n- `tar` ä¸ `gzip` å‘½ä»¤ç»“åˆå¯å®ç°æ–‡ä»¶ `æ‰“åŒ…å’Œå‹ç¼©`ï¼Œå³ `tar` åªè´Ÿè´£æ‰“åŒ…æ–‡ä»¶ï¼Œ `gzip` è´Ÿè´£å‹ç¼©æ–‡ä»¶ã€‚\n\n\t```bash\n\t# å‹ç¼©æ–‡ä»¶ï¼šå‹ç¼©æ–‡ä»¶æ”¾äºåŒä¸€ç›®å½•ä¸‹\n\ttar - zcvf æ‰“åŒ…æ–‡ä»¶.tar.gz è¢«å‹ç¼©æ–‡ä»¶è·¯å¾„\n\t\n\t# è§£å‹ç¼©æ–‡ä»¶\n\ttar -zxvf æ‰“åŒ…æ–‡ä»¶.tar.gz\n\t\n\t# è§£å‹ç¼©æ–‡ä»¶åˆ°æŒ‡å®šè·¯å¾„\n\ttar -zxvf æ‰“åŒ…æ–‡ä»¶.tar.gz [-C ç›®æ ‡è·¯å¾„]\n\t```\n\n\t\t\n## Python åŸºç¡€\n\n### å¼•å…¥\n\n#### Python ä¼˜ç¼ºç‚¹\n- Python æ˜¯é¢å‘å¯¹è±¡ / è¿‡ç¨‹çš„è¯­è¨€ ( å¯¹è±¡å’Œè¿‡ç¨‹è¯­è¨€å„æœ‰è‡ªå·±çš„ä¼˜ç¼ºç‚¹ )ï¼š\n\t- é¢å‘å¯¹è±¡ï¼šç”± `æ•°æ®` å’Œ `åŠŸèƒ½ç»„åˆè€Œæˆçš„å¯¹è±¡` æ„å»ºè€Œæˆçš„ç¨‹åºã€‚\n\t- é¢å‘è¿‡ç¨‹ï¼šç”± `è¿‡ç¨‹` æˆ–ä»…ä»…æ˜¯ `å¯é‡ç”¨ä»£ç ` æ„å»ºèµ·æ¥çš„ç¨‹åºã€‚\n\n#### Python åº”ç”¨åœºæ™¯\n- Web ç«¯ç¨‹åºï¼š\n\t- mod_wsgi æ¨¡å—ï¼šApache å¯è¿è¡Œç”¨ Python ç¼–å†™ Web ç¨‹åºã€‚\n\t- å¸¸è§ Web æ¡†æ¶ï¼šDjangoã€TurboGearsã€Web2pyã€Zope ç­‰ã€‚\n- æ“ä½œç³»ç»Ÿç®¡ç†ï¼šæœåŠ¡å™¨è¿ç»´çš„è‡ªåŠ¨åŒ–è„šæœ¬ã€‚\n- ç§‘å­¦è®¡ç®—ï¼šNumPyã€SciPyã€Matplotlib ç­‰ã€‚\n- æ¡Œé¢ç«¯ç¨‹åºï¼šPyQtã€PySideã€wxPythonã€PyGTK ç­‰ã€‚\n- æœåŠ¡ç«¯ç¨‹åºï¼šTwisted ( æ”¯æŒå¼‚æ­¥ç½‘ç»œç¼–ç¨‹å’Œå¤šæ•°æ ‡å‡†çš„ç½‘ç»œåè®®ï¼ŒåŒ…æ‹¬å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ )ã€‚\n\n#### Python è§£é‡Šå™¨\n- å½“æˆ‘ä»¬ç¼–å†™ Python ä»£ç æ—¶ï¼Œæˆ‘ä»¬å¾—åˆ°çš„æ˜¯ä¸€ä¸ªåŒ…å« Python ä»£ç çš„ä»¥ `.py` ä¸ºæ‰©å±•åçš„æ–‡æœ¬æ–‡ä»¶ã€‚è¦è¿è¡Œä»£ç ï¼Œå°±éœ€è¦ Python è§£é‡Šå™¨å»æ‰§è¡Œ `xxx.py` æ–‡ä»¶ã€‚\n\n- CPython  \n\t- å½“æˆ‘ä»¬ä» Python [å®˜æ–¹ç½‘ç«™ä¸‹è½½](https://www.python.org/downloads/) å¹¶å®‰è£…å¥½ Python 3.x åï¼Œæˆ‘ä»¬å°±ç›´æ¥è·å¾—äº†ä¸€ä¸ªå®˜æ–¹ç‰ˆæœ¬çš„è§£é‡Šå™¨ï¼š`CPython` ( C è¯­è¨€å¼€å‘çš„ )ã€‚\n\t- åœ¨å‘½ä»¤è¡Œä¸‹è¿è¡Œ  `python` å°±æ˜¯å¯åŠ¨ CPython è§£é‡Šå™¨ã€‚\n\n- iPython   \n\t- iPython æ˜¯åŸºäº CPython ä¹‹ä¸Šçš„ä¸€ä¸ªäº¤äº’å¼è§£é‡Šå™¨ï¼Œå³ iPython åªæ˜¯åœ¨äº¤äº’æ–¹å¼ä¸Šæœ‰æ‰€å¢å¼ºï¼Œä½†æ˜¯æ‰§è¡Œ Python ä»£ç çš„åŠŸèƒ½å’Œ CPython æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚\n\t- åœ¨å‘½ä»¤è¡Œä¸‹è¿è¡Œ  `ipython` å³å¯å¯åŠ¨ iPython äº¤äº’å¼è§£é‡Šå™¨ã€‚\n\t- CPython ç”¨ `>>>` ä½œä¸ºæç¤ºç¬¦ï¼Œè€Œ IPython ç”¨ `In [åºå·]:` ä½œä¸ºæç¤ºç¬¦ã€‚\n\n\t![å›¾6-1-1Pythonä¸iPythonæç¤ºç¬¦è¡¨ç°å½¢å¼](/images/illustration/Programme/2018/09/life-is-short-we-need-python_6-1-1.jpg)\n\t<center>å›¾ 6-1-1 Python ä¸ iPython æç¤ºç¬¦è¡¨ç°å½¢å¼</center>\n\t\n- PyCharm\n\n\tå·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚ä¸ºå¸®åŠ©å¼€å‘è€…æ›´ä¾¿æ·ã€æ›´é«˜æ•ˆæ¥å¼€å‘ Python ç¨‹åºï¼Œä¸€æ¬¾é›†æˆå¼€å‘ç¼–è¾‘å™¨ ( IDE ) æ˜¾å¾—æ ¼å¤–é‡è¦ã€‚IDE é™¤äº†å¿«æ·é”®ã€æ’ä»¶å¤–ï¼Œé‡è¦çš„æ˜¯å®ƒè¿˜æ”¯æŒ `è°ƒè¯•ç¨‹åº`ã€‚\n\n\t> å½“ç„¶ï¼Œæ”¯æŒ Python ç¨‹åºå¼€å‘çš„ IDE è¿˜æœ‰å¾ˆå¤šä¼˜ç§€çš„äº§å“ï¼šå¦‚ï¼š[Eclipse with PyDev](http://marketplace.eclipse.org/content/pydev-python-ide-eclipse)\n\t\n#### ç¬¬ä¸€ä¸ªç¨‹åº\n\n- æ–°å»ºå¹¶è¿è¡Œ python ç¨‹åºï¼š`vi python_sample.py` å¼€å§‹ç¼–å†™ç¨‹åºï¼›é€šè¿‡ `python python_sample.py` æ‰§è¡Œç¨‹åºã€‚ä»¥ä¸‹ä¸ºç®€å•çš„ Python ç¤ºä¾‹ï¼š\n\n\t```bash\n\t# å£°æ˜éƒ¨åˆ†\n\t# å–æœºå™¨ Path ä¸­æŒ‡å®šçš„ç¬¬ä¸€ä¸ª python æ¥æ‰§è¡Œè„šæœ¬\n\t#!/usr/bin/env python\n\t# python.py æ–‡ä»¶ä¸­åŒ…å«ä¸­æ–‡å­—ç¬¦ï¼ŒPython2 åœ¨æ–‡ä»¶å¤´åŠ å…¥ä»¥ä¸‹è¯­å¥ ( Python3 æ˜¯é»˜è®¤æ”¯æŒçš„ )ï¼š\n\t# -*- coding=utf-8 -*-\t\n\t\n\t# ä»£ç éƒ¨åˆ†\n\tprint(\"Life is short, you need python.\")\n\t\n\ta = 100\n\tA = 200\n\t\n\tif a >= 100: # å†’å· \":\" ç»“å°¾ï¼Œç¼©è¿›çš„è¯­å¥å³ä¸ºä»£ç å—\n\t    print(a)\n\telse:\n\t    print(-A) # Python æ˜¯å¤§å°å†™æ•æ„Ÿçš„\t\n\t```\n\n### è¯­è¨€åŸºç¡€\n\n#### æ³¨é‡Š\n- è¡Œæ³¨é‡Šã€å—æ³¨é‡Šï¼šè¡Œæ³¨é‡Šçš„é£æ ¼ä¸ Linux ä¸­ Shell è„šæœ¬çš„æ³¨é‡Šç›¸åŒï¼Œå³ä»¥ `#` å¼€å¤´çš„æ³¨é‡Šï¼›å—æ³¨é‡Šä½¿ç”¨ä¸‰ä¸ªå•å¼•å· `'` æˆ–ä¸‰ä¸ªåŒå¼•å· `\"` åŒ…è£¹å®ç°ã€‚\n\n\t```python\n\t# è¡Œæ³¨é‡Š\n\t# line 1...\n\t# line 2...\n\t\n\t'''\n\t' å•å¼•å·å—æ³¨é‡Š\n\t' line 1\n\t' line 2\n\t'''\n\t\n\t\"\"\"\n\t\" åŒå¼•å·å—æ³¨é‡Š\n\t\" line 1\n\t\" line 2\n\t\"\"\"\n\t```\n\n#### æ•°æ®ç±»å‹\n- `æ•´å‹`ï¼šå¯å¤„ç† `ä»»æ„å¤§å°` çš„æ•´æ•°ï¼Œå½“ç„¶åŒ…æ‹¬ `è´Ÿæ•´æ•°`ã€‚ä¾‹å¦‚ 0ï¼Œ1ï¼Œ100ï¼Œ-8080 ç­‰ã€‚\n- `æµ®ç‚¹å‹`ï¼šå³å«æœ‰å°æ•°ç‚¹çš„æ•°ï¼Œå¦‚ 1.23ï¼Œ1.23e9 ( 1.23x10$^9$ )ï¼Œ1.23e-5 ( 1.23x10$^{-5}$ )\n\n\t> 1) æ•´æ•°å’Œæµ®ç‚¹æ•°åœ¨è®¡ç®—æœºå†…éƒ¨å­˜å‚¨çš„æ–¹å¼æ˜¯ä¸åŒçš„ï¼›  \n\t> 2) æ•´æ•°è¿ç®—æ°¸è¿œæ˜¯ç²¾ç¡®çš„ï¼Œè€Œæµ®ç‚¹æ•°è¿ç®—åˆ™å¯èƒ½ä¼šæœ‰å››èˆäº”å…¥çš„è¯¯å·®ã€‚\n\t\n- `å­—ç¬¦å‹`ï¼šä»¥å•å¼•å· `' ` æˆ–åŒå¼•å· `\"` ( è¡¨ç¤ºæ–¹å¼ä¸åŒè€Œå·² ) æ‹¬èµ·æ¥çš„ä»»æ„æ–‡æœ¬ã€‚ä¾‹å¦‚ `'(1+2)\\%3 == 0'`ï¼Œæˆ–è€… `\"The 'a' is a lowercase letter of 'A'\"`ã€‚\n- `å¸ƒå°”å‹`ï¼šTrue / Flase ä¸¤ç§å€¼ã€‚\n\t- å¸ƒå°”è¿ç®—ï¼šandã€orã€notï¼Œä¾‹å¦‚ `(3 > 2) and (1 > 2)`ï¼Œè¾“å‡º Flaseã€‚\n- `ç©ºå€¼`ï¼šNoneï¼Œæ³¨æ„ None ä¸èƒ½ç†è§£ä¸º 0ï¼Œå› ä¸º 0 æ˜¯æœ‰æ„ä¹‰çš„ï¼Œè€Œ None æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç©ºå€¼ã€‚\n\n> Python ä¸­çš„æ•°æ®ç±»å‹æ˜¯æ²¡æœ‰å¤§å°é™åˆ¶çš„ï¼Œè‹¥æƒ³å®šä¹‰æ— é™å¤§ï¼Œå¯å®šä¹‰ä¸ºæ— é™å¤§ï¼Œå³ `inf`ã€‚\n\n#### å¸¸é‡å˜é‡\n\n##### å¸¸é‡\n- å¸¸é‡ï¼šä¾‹å¦‚å®šä¹‰ `PI = 3.14159`ï¼Œå…¶å®é™…ä¹Ÿæ˜¯å˜é‡ï¼Œåªæ˜¯çº¦å®šä¿—æˆç½¢äº†ã€‚\n\n##### å˜é‡\n- å½¢å¦‚ `param = value` çš„å½¢å¼èµ‹äºˆå˜é‡å€¼ï¼Œä½†ä¸ç”¨èµ‹å˜é‡æ•°æ®ç±»å‹ã€‚\n- å˜é‡çš„è¾“å…¥ä¸è¾“å‡ºï¼š\n\n\t```python\n\thigh = int( input(Please enter your high:) )\n\t# input() é»˜è®¤è¾“å‡º String ç±»å‹\n\tprint(\"Your high is: %d\" % high);\n\t```\n\n#### å­—ç¬¦ç¼–ç \n- ä¸€ä¸ªå­—èŠ‚ï¼Œè¡¨ç¤ºçš„æœ€å¤§çš„æ•´æ•°å°±æ˜¯ 255ï¼Œå³åè¿›åˆ¶ä¸º 255ï¼ŒäºŒè¿›åˆ¶ä¸º `11111111`ã€‚è‹¥æƒ³è¡¨ç¤ºæ›´å¤§çš„æ•´æ•°åˆ™éœ€è¦æ›´å¤šçš„å­—èŠ‚ã€‚\n- `ASCII`ï¼š127 ä¸ªå­—ç¬¦ç¼–ç ï¼Œå³å¤§å°å†™å­—æ¯ã€æ•°å­—å’Œä¸€äº›ç‰¹æ®Šå­—ç¬¦ã€‚ä¾‹å¦‚å¤§äº›å­—æ¯ Aï¼Œå¯¹åº”çš„ ASCII ä¸º 65ã€‚\n\n\t> ä½†å¤„ç†ä¸­æ–‡æ˜¾ç„¶ä¸€ä¸ªå­—èŠ‚æ˜¯ä¸å¤Ÿçš„ ( è‡³å°‘ä¸¤ä¸ªå­—èŠ‚ )ï¼Œä¸”è¿˜ä¸èƒ½ä¸ ASCII ç¼–ç å†²çªï¼Œæ‰€ä»¥ä¸­å›½åˆ¶å®šäº†`GB2312` ç¼–ç ã€‚  \n\t>\n\t> ç„¶è€Œï¼Œä¸–ç•Œæœ‰ä¸Šç™¾ç§è¯­è¨€ï¼Œæ—¥æœ¬æŠŠæ—¥æ–‡ç¼–åˆ° `Shift_JIS` é‡Œï¼ŒéŸ©å›½æŠŠéŸ©æ–‡ç¼–åˆ° `Euc-kr` é‡Œï¼Œå„å›½æœ‰å„å›½çš„æ ‡å‡†ï¼Œå°±ä¼šä¸å¯é¿å…åœ°å‡ºç°å†²çªï¼Œç»“æœå°±æ˜¯ï¼Œåœ¨å¤šè¯­è¨€æ··åˆçš„æ–‡æœ¬ä¸­ï¼Œæ˜¾ç¤ºå‡ºæ¥ä¼šæœ‰ä¹±ç ã€‚   \n\t>\n\t> å› æ­¤ï¼ŒUnicode åº”è¿è€Œç”Ÿ $^{[3]}$ã€‚UnicodeæŠŠæ‰€æœ‰è¯­è¨€éƒ½ç»Ÿä¸€åˆ°ä¸€å¥—ç¼–ç é‡Œï¼Œè¿™æ ·å°±ä¸ä¼šå†æœ‰ä¹±ç é—®é¢˜äº†ã€‚\n\t\n- `Unicode`ï¼š2 å­—èŠ‚åŠä»¥ä¸Šã€‚\n\n\t> ä¸ºèŠ‚çº¦ç©ºé—´ï¼ŒæŠŠ Unicode ç¼–ç è½¬åŒ–ä¸ºâ€œå¯å˜é•¿ç¼–ç â€çš„ UTF-8 ç¼–ç ã€‚\n\t\n- `UTF-8`ï¼šæ ¹æ®æ•°å­—å¤§å°ç¼–å†™ 1 ~ 6 å­—èŠ‚ï¼Œè‹±æ–‡å­—æ¯ 1 å­—èŠ‚ï¼Œæ±‰å­— 3 å­—èŠ‚ ( ç”Ÿåƒ»å­—ç¬¦ç”¨åˆ° 4 ~ 6 å­—èŠ‚ )ã€‚\n\n- ACSIIã€Unicode ä¸ UTF-8 çš„å…³ç³»\n\n<center>è¡¨ 6-2-1 ACSIIã€Unicode ä¸ UTF-8 çš„å…³ç³»</center>\n\n| å­—ç¬¦ | ASCII | Unicode | UTF-8 |\n| :---: | :---: | :---: | :---: |\n| A | 0100 0001 | 00000000 01000001 | 01000001 |\n| ä¸­ | -- | 01001110 00101101 | 11100100 10111000 1010 1101 |\n\n- å¯ç¤ºï¼šè®¡ç®—æœºç³»ç»Ÿé€šç”¨çš„å­—ç¬¦ç¼–ç å·¥ä½œæ–¹å¼ï¼Œå¦‚å›¾ 6-2-1 æ‰€ç¤ºã€‚\n\t- ç”¨è®°äº‹æœ¬ç¼–è¾‘æ—¶ï¼Œä»æ–‡ä»¶è¯»å–çš„ UTF-8 å­—ç¬¦è¢«è½¬æ¢ä¸º Unicode å­—ç¬¦åˆ°å†…å­˜é‡Œï¼Œå½“ä¿å­˜çš„æ—¶å†æŠŠ Unicode è½¬æ¢ä¸º UTF-8 ä¿å­˜åˆ°æ–‡ä»¶ï¼›\n\t- æµè§ˆç½‘é¡µæ—¶ï¼ŒæœåŠ¡å™¨ä¼šæŠŠåŠ¨æ€ç”Ÿæˆçš„ Unicode å†…å®¹è½¬æ¢ä¸º UTF-8 å†ä¼ è¾“åˆ°æµè§ˆå™¨ã€‚\n\n\t![å›¾6-2-1è®¡ç®—æœºç³»ç»Ÿé€šç”¨çš„å­—ç¬¦ç¼–ç å·¥ä½œæ–¹å¼](/images/illustration/Programme/2018/09/life-is-short-we-need-python_6-2-1.png)\n\t<center>å›¾ 6-2-1 è®¡ç®—æœºç³»ç»Ÿé€šç”¨çš„å­—ç¬¦ç¼–ç å·¥ä½œæ–¹å¼</center>\n\t\n#### å­—ç¬¦ä¸²/åˆ—è¡¨/å…ƒç»„/å­—å…¸\n\n##### å­—ç¬¦ä¸² Str\n- Python 3 ä¸­ï¼Œå­—ç¬¦ä¸²æ˜¯ä»¥ Unicode ç¼–ç çš„ã€‚\n\t- Python çš„å­—ç¬¦ä¸²ç±»å‹ä¸º Stringï¼Œå†…å­˜ä¸­ä»¥ Unicode è¡¨ç¤ºã€‚è‹¥åœ¨ç½‘ç»œä¸­ä¼ è¾“ï¼Œåˆ™å¯ä»¥æŠŠ string ç±»å‹çš„æ•°æ®å˜æˆä»¥å­—èŠ‚ä¸ºå•ä½çš„ `bytes`ã€‚\n\t- `encode()` ä¸ `decode()`ï¼š\n\t\t- è‹±æ–‡å­—ç¬¦å¯ç”¨ ASCII ç¼–ç  Bytesï¼Œå³ `\"ABC\".encode(\"ascii\")`ã€‚\n\t\t- ä¸­æ–‡å­—ç¬¦å¯ç”¨ UTF-8 ç¼–ç ï¼Œå³ `\"ä¸­å›½\".encode(\"utf-8\")`ã€‚\n\n\t\t> å«æœ‰ä¸­æ–‡çš„ str æ— æ³•ç”¨ ASCII ç¼–ç ï¼Œå› ä¸­æ–‡ç¼–ç çš„èŒƒå›´è¶…è¿‡äº† ASCII ç¼–ç çš„èŒƒå›´ã€‚å¼ºåˆ¶ç¼–ç ä¼šæŠ›å‡ºå¼‚å¸¸ï¼š  \n\t\t> `'ascii' codec can't encode characters in position 0-1: ordinal not in range(128)\n`ã€‚\n\t\t\n- å¸¸ç”¨æ•°æ®ç±»å‹è½¬æ¢ï¼Œè§è¡¨ 6-2-2 æ‰€ç¤ºï¼š\n\n<center>è¡¨ 6-2-2 å¸¸ç”¨æ•°æ®ç±»å‹è½¬æ¢è¯´æ˜è¡¨</center>\n\n| å‡½æ•°æ ¼å¼ | ä½¿ç”¨ç¤ºä¾‹ | æè¿° |\n| --- | --- | --- |\n| int(x [,base]) | int(\"8\") æˆ– int('A', base = 16) | å¯è½¬æ¢çš„åŒ…æ‹¬ String ç±»å‹å’Œå…¶ä»–æ•°å­—ç±»å‹ï¼Œä½†é«˜ç²¾åº¦è½¬æ¢ä¼šä¸¢å¤±ç²¾åº¦ |\n| float(x) | float(1) æˆ– float(\"1\") | å¯è½¬æ¢ String å’Œå…¶ä»–æ•°å­—ç±»å‹ï¼Œä¸è¶³çš„ä½æ•°ç”¨ 0 è¡¥é½ï¼Œä¾‹å¦‚ 1 ä¼šå˜æˆ 1.0 |\n| comple(real,imag) | complex(\"1\") æˆ– complex(1,2) | ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯ String æˆ–è€…æ•°å­—ï¼Œç¬¬äºŒä¸ªå‚æ•°åªèƒ½ä¸ºæ•°å­—ç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°æ²¡æœ‰æ—¶é»˜è®¤ä¸º 0 |\n| str(x) | str(1) | å°†æ•°å­—è½¬åŒ–ä¸º String |\n| repr(x) | repr(Object) | è¿”å›ä¸€ä¸ªå¯¹è±¡çš„ String æ ¼å¼ |\n| eval(str) | eval(\"12+23\") | æ‰§è¡Œä¸€ä¸ªå­—ç¬¦ä¸²è¡¨è¾¾å¼ï¼Œè¿”å›è®¡ç®—çš„ç»“æœï¼Œå¦‚ä¾‹å­ä¸­è¿”å› 35 |\n| tuple(seq) | tuple((1,2,3,4)) | å‚æ•°å¯ä»¥æ˜¯å…ƒç»„ã€åˆ—è¡¨æˆ–å­—å…¸ã€‚è‹¥ä¸ºå­—å…¸æ—¶ï¼Œè¿”å›å­—å…¸çš„ key ç»„æˆçš„é›†åˆ |\n| list(s) | list((1,2,3,4)) | å°†åºåˆ—è½¬å˜æˆä¸€ä¸ªåˆ—è¡¨ï¼Œå‚æ•°å¯ä¸ºå…ƒç»„ã€å­—å…¸ã€åˆ—è¡¨ã€‚è‹¥ä¸ºå­—å…¸æ—¶ï¼Œè¿”å›å­—å…¸çš„ key ç»„æˆçš„é›†åˆ |\n| set(s) | set(['b', 'r', 'u', 'o', 'n'])æˆ–è€…set(\"asdfg\") | å°†ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡è½¬å˜ä¸ºå¯å˜é›†åˆä¸”å»é‡å¤ï¼Œè¿”å›ç»“æœå¯ä»¥ç”¨æ¥è®¡ç®—å·®é›† `x - y`ã€å¹¶é›† `x l y`ã€äº¤é›† `x & y` |\n| frozenset(s) | frozenset([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]) | å°†ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡è½¬å˜æˆä¸å¯å˜é›†åˆï¼Œå‚æ•°ä¸ºå…ƒç»„ã€å­—å…¸ã€åˆ—è¡¨ç­‰ |\n| chr(x) | chr(0x30) | chr() ç”¨ä¸€ä¸ªèŒƒå›´åœ¨ range (0ï½255) å†…çš„æ•´æ•°ä½œå‚æ•°ï¼Œè¿”å›ä¸€ä¸ªå¯¹åº”çš„å­—ç¬¦ã€‚è¿”å›å€¼æ˜¯å½“å‰æ•´æ•°å¯¹åº”çš„ ASCII å­—ç¬¦ã€‚ |\n| ord(x) | ord('a') | è¿”å›å¯¹åº”çš„ ASCII æ•°å€¼ï¼Œæˆ–è€… Unicode æ•°å€¼ |\n| hex(x) | hex(12) | æŠŠæ•´æ•° x è½¬æ¢ä¸º 16 è¿›åˆ¶å­—ç¬¦ä¸² |\n| oct(x) | oct(12) | æŠŠæ•´æ•° x è½¬æ¢ä¸º 8 è¿›åˆ¶å­—ç¬¦ä¸² |\n\n- å­—ç¬¦ä¸²è¾“å…¥å’Œè¾“å‡ºï¼š\n\n\t```python\n\tname = input(\"Enter your name:\")\n\tage = int( input(\"Enter your age:\") )\n\tprint(\"name: %s, age: %d\" % (name, age))\n\t```\n\t\n- ç»„æˆå­—ç¬¦ä¸²çš„æ–¹å¼ï¼š\n\n\t```python\n\tstr1 = \"Hello\"\n\tstr2 = \"World\"\n\t\n\t# str3 ç»„è£…æˆ \"HelloWorld\"\n\tstr3 = str1 + str2\n\t\n\t# ç»„è£…æˆ \"===HelloWorld===\"ï¼Œæ­¤æ–¹å¼å¸¸ç”¨æ‹¼å‡‘å­—ç¬¦ä¸²\n\t\"===%s===\" % (str1 + str2)\n\t```\n\t\n- å­—ç¬¦ä¸²ä¸‹æ ‡ä¸å–å€¼ï¼š\n\n\t```python\n\tarray = \"ABCDE\"\n\t\n\tprint( array[0] ) # è¾“å‡º A\n\tprint( array[4] ) # è¾“å‡º E\n\tprint( array[-1] ) # è¾“å‡º E\n\t\n\t# åˆ‡ç‰‡\n\tprint( array[0:3] ) # è¾“å‡º ABC\n\tprint( array[0:-1] ) # è¾“å‡º ABCD\n\tprint( array[0:] ) # è¾“å‡º ABCDE\n\t\n\t# å³ä»¥ 2 ä¸ºæ­¥è¿›è·ç¦»ï¼Œä»ä¸‹æ ‡ 0 å¼€å§‹å–å€¼è‡³æœ«å°¾ï¼Œè¾“å‡º ACE\n\tprint( array[0::2] )\n\t\n\t# å³ä»¥ -1 ä¸ºæ­¥è¿›è·ç¦»ï¼Œä»æœ«å°¾å¼€å§‹å–å€¼è‡³å¼€ç«¯ï¼Œé€†åºè¾“å‡º\n\tprint( array[-1::-1] )\n\t```\n\t\n- å­—ç¬¦ä¸²å¸¸è§æ“ä½œ\n\t- `find(s)` ä¸ `index(s)`ï¼šä»ç›®æ ‡å­—ç¬¦ä¸²ä¸­å¯»æ‰¾å­ä¸²ï¼Œæ‰¾åˆ°ä¼šè¿”å›å­ä¸²çš„èµ·å§‹ä¸‹æ ‡ï¼›è‹¥æ‰¾ä¸åˆ°åˆ™è¿”å› `-1`ã€‚index() æ‰¾åˆ°ç›®æ ‡çš„æƒ…å†µå’Œ find() ç›¸åŒï¼Œæ‰¾ä¸åˆ°ç›®æ ‡åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚\n\n\t\t> å½“ç„¶è¿˜æœ‰ rfind(s) å’Œ rindex()ï¼Œå³ä»å³ç«¯å¼€å§‹å¯»æ‰¾å­å­—ç¬¦ä¸²ã€‚\n\t\n\t- `count(str, start, end)`ï¼šå³åœ¨ç›®æ ‡å­—ç¬¦ä¸² `myStr`ï¼Œæ±‚å¾— `str` åœ¨ä½ç½® start å’Œ end ä¹‹é—´å‡ºç°çš„æ¬¡æ•°ã€‚\n\n\t\t> ä¾‹å¦‚ï¼š`myStr.count(str, start = 0, end = len(myStr))`ï¼Œ\n\t\n\t- `replace(åŸå§‹å­—ç¬¦ä¸², ç›®æ ‡å­—ç¬¦ä¸²)` æˆ– `replace(åŸå§‹å­—ç¬¦ä¸², ç›®æ ‡å­—ç¬¦ä¸²ï¼Œæ›¿ä»£æ¬¡æ•°)`ï¼š\n\n\t\t> ä¾‹å¦‚ï¼š`myStr.replace(\"world\", \"python\")`\n\t\t\n\t- `split(str)`ï¼šæ ¹æ® `str` æŠŠåŸå­—ç¬¦ä¸²åˆ‡å¼€ã€‚\n\t- `splitlines(str)`ï¼šå°†å­—ç¬¦ä¸²ä¸­çš„æ¯ä¸€è¡Œåˆ‡å‰²å¼€æ¥ã€‚\n\n\t\t> re.split(æ­£åˆ™è¡¨è¾¾å¼, ç›®æ ‡å­—ç¬¦ä¸²)ï¼Œæ ¹æ®æ­£åˆ™è¡¨è¾¾å¼åˆ‡å‰²å­—ç¬¦ã€‚\n\n\t- `capitalize()` ä¸ `title()`ï¼šå‰è€…æ˜¯æŠŠå­—ç¬¦ä¸²ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦è½¬ä¸ºå¤§å†™å­—æ¯ï¼Œåè€…æ˜¯æŠŠå­—ç¬¦ä¸²ä¸­æ¯ä¸ªå•è¯çš„é¦–å­—æ¯è½¬ä¸ºå¤§å†™ã€‚\n\t- `startsWith(str)` ä¸ `endsWith(str)`ï¼šå‰è€…æ˜¯åˆ¤æ–­ç›®æ ‡å­—ç¬¦æ˜¯å¦ä»¥å­—ç¬¦ä¸² str å¼€å¤´ï¼Œåè€…åˆ™æ˜¯åˆ¤æ–­ç›®æ ‡å­—ç¬¦æ˜¯å¦ä»¥å­—ç¬¦ä¸² str ç»“å°¾ã€‚\n\t- `lower()` ä¸ `upper()`ï¼šå‰è€…æ˜¯å°†ç›®æ ‡å­—ç¬¦ä¸²å…¨è½¬ä¸ºå°å†™å­—æ¯ï¼Œåè€…æ˜¯å°†å­—ç¬¦ä¸²å…¨è½¬ä¸ºå¤§å†™å­—æ¯ã€‚\n\t- `rstrip()`ã€`lstrip()` ä¸ `strip()`ï¼šå»é™¤å­—ç¬¦ä¸²å·¦è¾¹ã€å³è¾¹æˆ–è€…ä¸¤ç«¯çš„ç©ºç™½å­—ç¬¦ã€‚\n\t- `partition(str)`ï¼šä»¥ str ä¸ºä¸­å¿ƒï¼Œå°†ç›®æ ‡å­—ç¬¦ä¸²åˆ’åˆ†æˆå·¦ã€ä¸­ ( str æœ¬èº« )ã€å³ä¸‰éƒ¨åˆ†çš„å­—ç¬¦ä¸²ã€‚\n\t- `isalpha()`ã€`isdigit()` ä¸ `isalnum()`ï¼šåˆ†åˆ«ç”¨äºåˆ¤æ–­æ˜¯å¦ä¸ºå­—ç¬¦ï¼Œæ˜¯å¦ä¸ºæ•°å­—å’Œæ˜¯å¦å…¨ä¸ºæ•°å­—ã€‚\n\t- `join()`ï¼šä¾‹å¦‚ `str.join(array)`ï¼Œå³ä½¿ç”¨ str å°†åˆ—è¡¨ array çš„å†…å®¹æ‹¼æ¥èµ·æ¥ã€‚\n\n\t\t```python\n\t\tarray = ['A', 'B', 'C']\n\t\tstr1 = '&'\n\t\t# str2 è¢«ç»„è£…æˆ A&B&Cï¼Œå³å°† str1 ç»„è£…åˆ°å­—ç¬¦æ•°ç»„ä¸­\n\t\tstr2 = str1.join(array) \n\t\t```\n\n##### åˆ—è¡¨ List\n- å®šä¹‰ä¸€ä¸ªåˆ—è¡¨ï¼š`list = ['A', 'B', 'C', 'D']` æˆ–è€… `student = ['lucy', 25, 'female']`ã€‚\n- åˆ—è¡¨çš„å¢åˆ æ”¹æŸ¥ ï¼š\n\t- å¢åŠ ï¼š  \n\t1) åœ¨åˆ—è¡¨å°¾éƒ¨è¿½åŠ å…ƒç´ ï¼š`list.append('D')`   \n\t2) è‡ªå®šä¹‰æ’å…¥ä½ç½®ï¼š`list.insert(ä½ç½®ï¼Œæ·»åŠ çš„å†…å®¹)`   \n\t3) å¾€ä¸€åˆ—è¡¨ä¸­æ·»åŠ å¦ä¸€ä¸ªåˆ—è¡¨ï¼š`student + list` æˆ–è€… `student.extend(list)`  \n\t- åˆ é™¤ï¼š  \n\t1) å‡ºæ ˆï¼š`list.pop()` / å…¥æ ˆï¼š`list.append()`  \n\t2) æ ¹æ®ä¸‹æ ‡æ¥åˆ é™¤ï¼š`del list[0]`ï¼Œæ¸…ç©ºåˆ—è¡¨ `del list[0::1]`  \n\t- æŸ¥è¯¢ï¼š  \n\t1) `('B' in list)` ç»“æœä¸º Ture  \n\t2) `('D' not in list)` ç»“æœä¸º Ture\n\n##### å…ƒç»„ Tuple\n- æœ‰åºåˆ—è¡¨å…ƒç»„ ( Tuple )ï¼Œä¸ List ä¸åŒï¼Œ`Tuple ä¸€æ—¦åˆå§‹åŒ–å°±ä¸èƒ½ä¿®æ”¹`ã€‚\n\n\t> å®šä¹‰ä¸€äº›å¸¸é‡å‚æ•°æ—¶å¯ç”¨ Tupleã€‚\n\n- å®šä¹‰ï¼š`tuples = ('A', 'B', 'C')`ã€‚\n- æ­§ä¹‰ï¼š`tuple = (1)` ç›¸å½“äº `tuple = 1`ï¼›`tuple(-1, )` æ‰æ˜¯å…ƒç»„åˆ—è¡¨ã€‚\n- äº‹å®ï¼š Tuple ä¸­å­˜å‚¨çš„æ˜¯ `å¼•ç”¨`ã€‚\n\n\t```python\n\ttuple = ('a', 'b', ['A', 'B'])\n\ttuple[2][0] = 'X'\n\ttuple[2][1] = 'Y'\n\t\n\t# äº‹å®ä¸Šï¼Œ'A' å’Œ 'B' è¢«æ”¹å˜ä¸º 'X' å’Œ 'Y'\n\t# å³ Tuple å®šä¹‰æ˜¯ä¸å˜çš„ï¼Œåªæ˜¯ Tuple ä¸Šå­˜å‚¨çš„ List ä¸ºå¼•ç”¨\n \t```\n \n - å†è®®ä¸å¯å˜å¯¹è±¡ï¼šreplace() å¹¶æ²¡æœ‰æ”¹å˜å­—ç¬¦ä¸²çš„å†…å®¹ï¼Œæˆ‘ä»¬ç†è§£ `str` æ˜¯å˜é‡ï¼Œ`abc` æ˜¯å­—ç¬¦ä¸²å¯¹è±¡ã€‚replace() ç›¸å½“äºåˆ›å»ºäº†æ–°çš„å­—ç¬¦ä¸²å¯¹è±¡ `Abc`ã€‚\n\n\t```python\n\tstr = 'abc'\n\tprint( str.replace('a', 'A') ) # è¾“å‡º Abc\n\tprint(str) # è¾“å‡º abc\n\t```\n\n##### å­—å…¸ Dict\n- å­—å…¸ ( Dict )ï¼Œå…¶ä»–è¯­è¨€ä¸­åˆç§° Mapï¼Œä½¿ç”¨é”®å€¼ ( key-value ) å­˜å‚¨ã€‚\n- å®šä¹‰ï¼š`dict = {'name': 'Lucy', 'age'ï¼š25, 'gender': 'female}`ã€‚\n- å­—å…¸çš„å¢åˆ æ”¹æŸ¥ï¼š\n\t- å¢åŠ ï¼š`dict['high'] = 175`ï¼Œè‹¥å¯¹åº”é”®å€¼å­˜åœ¨å³ä¿®æ”¹çš„æ•ˆæœã€‚\n\t- åˆ é™¤ï¼š`dict.pop('high')` / `del dict['high']`\n\t- æŸ¥è¯¢ï¼š`dict.get('name')`ï¼Œè‹¥æ‰¾ä¸åˆ°å¯¹åº”é”®å€¼åˆ™æŠ›å‡ºå¼‚å¸¸ã€‚\n\n##### é›†åˆ Set\n- Set ä¸ Dict ç±»ä¼¼ï¼Œæ˜¯ä¸€ç»„ key çš„é›†åˆï¼Œä½†ä¸å­˜å‚¨ valueã€‚\n- Set å¯çœ‹æˆæ•°å­¦æ„ä¹‰ä¸Šçš„ `æ— åº` å’Œ `æ— é‡å¤` å…ƒç´ çš„é›†åˆã€‚\n\n\t```python\n\tprint( set([1, 1, 2, 3, 4, 4, 5]) ) # è¾“å‡º [1, 2, 3, 4, 5]\n\t```\n\n#### æ¡ä»¶åˆ¤æ–­\n- æ ‡å‡†æ¡ä»¶åˆ¤æ–­è¯­å¥ï¼š\n \n\t```python\n\tif <condition 1>:\n\t    <action 1>\n\telif <condition 2>:\n\t    <action 2>\n\telse:\n\t    if <condition 3>: # if åµŒå¥—\n\t        <action 3>\n\t```\n\n- ä¸‰å…ƒè¡¨è¾¾å¼ï¼šåœ¨ Python ä¸­ï¼Œå¯å°† `if-else` è¯­å¥æ”¾åˆ°ä¸€è¡Œé‡Œï¼Œè¯­æ³•å¦‚ä¸‹ï¼š\n\n\t```python\n\t# true-expr æˆ– false-expr å¯ä»¥æ˜¯ä»»ä½• Python ä»£ç \n\tvalue = true-expr if condition else false-expr\n\t\n\t# ä¸Šè¿°ä¸‰å…ƒè¡¨è¾¾å¼ç­‰åŒäºæ ‡å‡†æ¡ä»¶åˆ¤æ–­è¯­å¥çš„å†™æ³•\n\tif condition:\n\t    value = true-expr\n\telse:\n\t    value = false-expr\n\t```\n\n#### å¾ªç¯ç»“æ„\n\n- `For` å¾ªç¯ä¸ `While` å¾ªç¯\n\n\t```python\n\t# For å¾ªç¯\n\tnames = ['LiMing', 'ZhangWei']\n\tfor name in names\n\t    print(name)\n    \n\t# While å¾ªç¯\n\tsum = 0\n\ti = 0\n\twhile( i<100 ):\n\t    sum += 1\n\t    i += 1\n\t```\n\n- `Break` ä¸ `Continue`\n\t- Breakï¼šç»ˆæ­¢ ( è·³å‡º ) å¾ªç¯ã€‚\n\t- Continueï¼šä¸­æ–­æœ¬æ¬¡å¾ªç¯ã€‚\n\n### å‡½æ•°\n\n#### å®šä¹‰å‡½æ•°\n- å®šä¹‰å‡½æ•°ä½¿ç”¨ `def` è¯­å¥ï¼Œä¾æ¬¡å†™ `å‡½æ•°å`ã€`æ‹¬å·`ã€( è¿˜å¯ä»¥åŒ…æ‹¬ `å‚æ•°` )ã€`å†’å·`ã€‚ç„¶åæ˜¯ `å‡½æ•°ä½“` ( éœ€ç¼©è¿›ç¼–å†™ )ã€‚\n\n\t```python\n\tdef FuncName(param):\n\t    <action>\n\t    return [è¿”å›å‚æ•°]\n\t```\n\t\n- ç©ºå‡½æ•°ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œå³å…ˆæ¶æ„åç¼–ç ã€‚\n\n\t```python\n\tdef FuncName(param):   \n\t    pass # å ä½ç¬¦ï¼šæš‚ä¸ä¹¦å†™ä»£ç é€»è¾‘\n\t```\n\t\n- è¿”å›å¤šä¸ªå€¼ï¼š\n\n\t```python\n\tdef move(x, y):\n\t    x = x + 1\n\t    y = y + 1\n\t    return x, y\n\t    \n\tx, y = move(100, 100) # å…¶å®è¿”å›çš„æ˜¯ä¸€ä¸ª Tupleï¼Œå³ (x, y)\n\t```\n\n#### å‡½æ•°å‚æ•°\n- é»˜è®¤å‚æ•° ( ç¼ºçœå‚æ•° )ï¼šæœ€å¤§å¥½å¤„æ˜¯é™ä½è°ƒç”¨å‡½æ•°éš¾åº¦ï¼Œç±»ä¼¼æ³¨å†Œæ—¶ï¼Œå¤šæ•°ç”¨æˆ·åªå…³å¿ƒæ ¸å¿ƒçš„ä¿¡æ¯ï¼Œå³å…¶ä½™ä¿¡æ¯è®¾ç½®ä¸ºé»˜è®¤å€¼ã€‚\n\n\t> æ³¨æ„ï¼šå®šä¹‰é»˜è®¤å‚æ•°æ—¶ï¼Œå¿…é¡»æŒ‡å‘ä¸å˜å¯¹è±¡ã€‚å¦‚ n = 2ï¼Œä¸èƒ½ n = m ( m ä¸ºå˜é‡ )\n\t\n\t```python\n\tdef power(x, n = 2):\n\t\ts = 1\n\t\twhile(n > 0):\n\t\t    n = n - 1\n\t\t    s = s * x\n\t\treturn s\n\t\t\n\tprint( power(5) ) # è¾“å‡º 25\n\tprint( power(5, 3) ) # è®¡ç®— 5 çš„ 3 æ¬¡æ–¹ï¼Œè¾“å‡º 125\n\t```\n\t\n- å¯å˜å‚æ•°ï¼šé¡¾åæ€ä¹‰ï¼Œå¯å˜å‚æ•°å°±æ˜¯ä¼ å…¥çš„å‚æ•°ä¸ªæ•°æ˜¯å¯å˜çš„ã€‚\n\n\t```python\n\t# def calculator(numbers)ï¼Œå³ç†è§£ numbers ä¸ºä¸€ä¸ª tuple\n\tdef calculator(*numbers): \n\t    sum = 0\n\t    for n in numbers:\n\t        sum = sum + n ** 2\n\t    return sum\n\t\n\t# ç­‰ä»·äº calculator( (1, 3, 5, 7) )\n\tprint( calculator(1, 3, 5, 7) ) # è¾“å‡º 84\n\t```\n\t\n- å…³é”®å­—å‚æ•°ï¼š  \n\t`å¯å˜å‚æ•°` å…è®¸ä½ ä¼ å…¥ 0 ä¸ªæˆ–ä»»æ„ä¸ªå‚æ•°ï¼Œè¿™äº›å‚æ•°åœ¨å‡½æ•°è°ƒç”¨æ—¶è‡ªåŠ¨ç»„è£…ä¸ºä¸€ä¸ª `å…ƒç»„` ( Tuple )ã€‚  \n\t`å…³é”®å­—å‚æ•°` å…è®¸ä½ ä¼ å…¥ 0 ä¸ªæˆ–ä»»æ„ä¸ªå‚æ•°ï¼Œè¿™äº›å…³é”®å­—å‚æ•°åœ¨å‡½æ•°å†…éƒ¨è‡ªåŠ¨ç»„è£…æˆä¸ºä¸€ä¸ª `è¯å…¸` ( Dict )ã€‚  \n\n\t```python\n\tdef person(name, age, **kw): \n\t    print(' name:', name, ' age:', age, ' others:', kw)\n\t\n\tperson('Lucy', 35, city = 'Guangzhou', gender = 'M')\n\t# è¾“å‡º  name: Lucy  age: 35  others: {'city': 'Guangzhou', 'gender': 'M'}\n\t\n\t# å½“ç„¶ï¼Œæˆ‘ä»¬å¯å…ˆç»„è£…è¯å…¸ dictï¼Œç„¶åæŠŠè¯¥ dict è½¬æ¢ä¸ºå…³é”®å­—å‚æ•°ä¼ è¿›å»\n\textra = {'city': 'Guangzhou', 'gender': 'M'}\t\n\t\n\t# å°†å­—å…¸ä¸­çš„å…ƒç´ ï¼Œæ‹†åˆ†æˆç‹¬ç«‹çš„ Key-Value é”®å€¼ï¼Œå¼•ç”¨æ—¶å‰ç¼€ä¹Ÿè¦åŠ  \"**\"\n\tperson('Jack Ma', 50, **extra)\n\t# è¾“å‡º name: Jack Ma  age: 50  others: {'city': 'Guangzhou', 'gender': 'M'}\n\t```\n\t\n- å‚æ•°ç»„åˆï¼šPython ä¸­å®šä¹‰å‡½æ•°ï¼Œå¯å¤šç§å‚æ•°ç»„åˆä½¿ç”¨ï¼Œä½†å¿…é¡»æ»¡è¶³ä¸€ä¸‹å‚æ•°å®šä¹‰é¡ºåºï¼š`å¿…é€‰å‚æ•°`ã€`é»˜è®¤å‚æ•°`ã€`å¯å˜å‚æ•°`ã€`å‘½åå…³é”®å­—` å’Œ `å…³é”®å­—å‚æ•°`ã€‚\n\n\t```python\n\tdef func(a, b, c = 0, *args, **kw):\n\t    print(' a=', a, ' b=', b, ' c=', c, ' args=', args, ' kw=', kw)\n\t\n\t# è¾“å‡º a=1 b=2 c=3 args=('a', 'b') kw={'x'=99}\n\tfunc(1, 2, 3, 'a', 'b', 'x'=99)\n\t```\n\n- ç»“åˆ `tuple` å’Œ `dict`ï¼šå³é€šè¿‡ç±»ä¼¼ `func(*args, **kw)` å½¢å¼è°ƒç”¨å‡½æ•°ã€‚å‚æ•°è™½å¯è‡ªç”±ç»„åˆä½¿ç”¨ï¼Œä½†ä¸è¦ç»„åˆå¤ªå¤æ‚ï¼Œä»¥é€ æˆå¯ç†è§£æ€§è¾ƒå·®çš„ç»“æœã€‚\n\n\t```python\n\targs = (1, 2, 3)\n\tkw = {'x' = 5, 'y' = 6}\n\tfunc(*args, **kw)\n\t```\n\n#### é€’å½’å‡½æ•°\n- å‡½æ•°å†…éƒ¨å¯ä»¥è°ƒç”¨å…¶ä»–å‡½æ•°ã€‚è‹¥ä¸€ä¸ªå‡½æ•°å†…éƒ¨è°ƒç”¨äº†å…¶è‡ªèº«ï¼Œå³è¯¥å‡½æ•°ä¸º `é€’å½’å‡½æ•°`ã€‚\n\n\t```python\n\tdef fact(n):\n\t    if n == 1:\n\t        return 1\n\t    return n * fact(n - 1)\n\t```\n\t\n- é€’å½’çš„è¿‡æ·±è°ƒç”¨ä¼šå¯¼è‡´æ ˆæº¢å‡ºã€‚å¯é€šè¿‡ `å°¾é€’å½’` ä¼˜åŒ–ã€‚\n- å°¾é€’å½’ä¼˜åŒ–ï¼šè§£å†³é€’å½’è°ƒç”¨æ ˆæº¢å‡ºçš„æ–¹æ³•ï¼Œå³å‡½æ•°è¿”å›æ—¶è°ƒç”¨æœ¬èº«ï¼Œå¹¶ä¸” return è¯­å¥ä¸èƒ½åŒ…å«è¡¨è¾¾å¼ã€‚\n\n\t- åŒºåˆ«ä¸Šè¿°çš„ fact(n) å‡½æ•°ï¼Œç”±äº `return n * fact(n - 1)` å¼•å…¥äº†ä¹˜æ³•è¡¨è¾¾å¼ï¼Œå³éå°¾é€’å½’ã€‚\n\t- è€Œ `return fact_iter(num - 1, num * product)` ä»…ä»…è¿”å›å‡½æ•°æœ¬èº«ã€‚\n\t- è¿™æ ·ï¼Œç¼–è¯‘å™¨ / è§£é‡Šå™¨å°±å¯å¯¹å°¾é€’å½’åšä¼˜åŒ–ï¼Œå³ä½¿é€’å½’æœ¬èº«è°ƒç”¨ n æ¬¡ï¼Œéƒ½åªå ç”¨ä¸€ä¸ªæ ˆå¸§ï¼Œä¸ä¼šå‡ºç°æ ˆæº¢å‡ºçš„æƒ…å†µã€‚\n\n\t```python\n\tdef fact():\n\t    return fact_iter(n, 1)\n\t    \n\tdef fact_iter(num, product):\n\t    if num == 1:\n\t        return product\n\t    return fact_iter(num -1, num * product)\n\t```\n\n### é«˜çº§ç‰¹æ€§\n\n#### åˆ‡ç‰‡\n- åˆ‡ç‰‡æ“ä½œç¬¦ï¼šåœ¨ List ä¸­æŒ‡å®š `ç´¢å¼•èŒƒå›´` çš„æ“ä½œã€‚  \n\tç´¢å¼•èŒƒå›´å…·ä½“ä¸ºï¼š `èµ·å§‹ä½ç½®:ç»“æŸä½ç½®:æ­¥è¿›` ï¼Œæ³¨æ„æ­¥è¿›æ•° ( é»˜è®¤ä¸º 1ï¼Œä¸èƒ½ä¸º 0 )ã€‚\n\n\t```python\n\tlist = [11, 22, 33, 44, 55]\n\t\n\t# è¾“å‡º [11, 22, 33]ï¼Œå³ä»å°æ ‡ä¸º 0 å¼€å§‹ï¼Œæ­¥è¿›ä¸º 1ï¼Œå–å‰ 3 ä¸ªå…ƒç´ \n\tprint( list[0:3:1] )\n\t```\n\n- å€’æ•°åˆ‡ç‰‡ï¼š\n\n\t```python\n\tlist = ['A', 'B', 'C', 'D', 'E']\n\t\n\t# è¾“å‡º ['A', 'B', 'C', 'D']ï¼Œå³ä»ä¸‹æ ‡ä¸º 0 å¼€å§‹ï¼Œåˆ‡ç‰‡è‡³å€’æ•°ç¬¬ä¸€ä¸ªå…ƒç´  (ä¸å«å…¶æœ¬èº«)\n\tprint( list[0:-1] )\n\t```\n\t\n- å­—ç¬¦ä¸²åˆ‡ç‰‡ï¼š\n\n\t```python\n\tstr = 'ABCDE'\n\t\n\t# è¾“å‡º ACEï¼Œå³å¯¹å­—ç¬¦ä¸²ä¸­æ‰€æœ‰å­—ç¬¦ä½œç”¨ï¼Œæ¯éš”ä¸¤ä½å–å€¼\n\tprint( str[::2] )\n\t```\n\t\n- æ³¨æ„ï¼š`Tuple` ä¹Ÿæ˜¯ä¸€ç§ `List`ï¼Œå”¯ä¸€ä¸åŒçš„æ˜¯ Tuple ä¸å¯å˜ï¼Œå› æ­¤ Tuple ä¸å¯ç”¨åˆ‡ç‰‡æ“ä½œã€‚\n\n#### è¿­ä»£\n- è¿­ä»£ï¼šç»™å®šä¸€ä¸ª List æˆ– Tupleï¼Œé€šè¿‡ For å¾ªç¯éå†è¿™ä¸ª List æˆ– Tupleã€‚\n\n\t```python\n\tlist = ['A', 'B', 'C', 'D', 'E']\n\t\n\tfor str in list:\n\t    print(str) # è¾“å‡º ABCDE\n\t```\n\t\n- `enumerate` å‡½æ•°å¯ä»¥æŠŠä¸€ä¸ª list å˜æˆ `ç´¢å¼•-å…ƒç´ æ ‘`ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ For å¾ªç¯ä¸­åŒæ—¶è¿­ä»£ `ç´¢å¼•` å’Œ `å…ƒç´ æœ¬èº«`ã€‚\n\n\t```python\n\tlist = ['A', 'B', 'C', 'D', 'E']\n\t\n\tfor i, value in enumerate(list):\n\t    print(i, value)\n\t```\n \n#### åˆ—è¡¨ç”Ÿæˆå¼\n- åˆ—è¡¨ç”Ÿæˆå¼ï¼šList Comprehensionsï¼Œç”¨äºåˆ›å»º List çš„ç”Ÿæˆå¼ã€‚\n\n\t```python\n\tlist1 = []\n\n\tlist1 = [x**2 for num in range(1, 10)]\n\t# è¾“å‡º 1x1ï¼Œ2x2ï¼Œ3x3, ..., 9x9\n\tprint(list1)\n\n\t'''\n\tç­‰ä»·äºï¼š\n\tfor num in range(1, 10):\n\t    list1.append(num ** 2)\n\t'''\n\t    \n\t# for å¾ªç¯ä¸ if åˆ¤æ–­é…åˆï¼Œä¾‹å¦‚å–å¾— 10 ä»¥å†…çš„å¶æ•°ï¼Œæ±‚å…¶å¹³æ–¹æ•°\n\tlist2 = [ num**2 for num in range(1, 10) if num%2 == 0 ]\n\t# è¾“å‡º 2x2, 4x4, 6x6, 8x8\n\tprint(list2)\n\t\n\t# ä¸¤å±‚ for å¾ªç¯\n\tlist3 = [ m+str(n) for m in 'ABC' for n in range(1,4) ]\n\t# è¾“å‡º ['A1', 'A2', 'A3', 'B1', 'B2', 'B3', 'C1', 'C2', 'C3']\n\tprint(list3)\n\t\n\tlist4 = [ m*n for m in 'ABC' for n in range(1,4) ]\n\t# è¾“å‡º ['A', 'AA', 'AAA', 'B', 'BB', 'BBB', 'C', 'CC', 'CCC']\n\tprint(list4)\n\t\n\t# åˆ—å‡ºå½“å‰ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶å’Œç›®å½•å\n\timport os # å¯¼å…¥ os æ¨¡å—\n\tlist = [d for d in os.listdir('.')] \n\t```\n\n#### ç”Ÿæˆå™¨\n- å¼•å…¥ï¼š`åˆ—è¡¨ç”Ÿæˆå¼`ï¼Œå¯ç›´æ¥åˆ›å»ºä¸€ä¸ªåˆ—è¡¨ã€‚ä½†å—åˆ°å†…å­˜é™åˆ¶ï¼Œåˆ—è¡¨å®¹é‡è‚¯å®šæ˜¯æœ‰é™çš„ã€‚ä¾‹å¦‚ï¼šæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåŒ…å« 100 ä¸‡ä¸ªå…ƒç´ çš„åˆ—è¡¨ ( åˆ—è¡¨ä¸­çš„å…ƒç´ æŒ‰ç…§æŸç§ç®—æ³•æ¨ç®—å‡ºæ¥ )ï¼Œç›´æ¥åˆ›å»ºæ˜¯ä¸å¤ªç°å®çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬æ˜¯å¦å¯é€šè¿‡æŸç§è¿‡ç¨‹ï¼Œå®ç° `åŠ¨æ€æ¨ç®—` å¹¶ `è¾“å‡ºå…ƒç´ ` ï¼Ÿ \n- Generatorï¼š`ç”Ÿæˆå™¨`ï¼Œå³ä¸ç”¨ä¸€æ­¥åˆ°ä½åˆ›å»º list å¯¹è±¡ï¼Œè€Œæ˜¯é€šè¿‡å¾ªç¯è¿‡ç¨‹ä¸­ä¸æ–­æ¨ç®—å‡ºåç»­çš„å…ƒç´ ã€‚åœ¨ Pythonä¸­ï¼ŒæŠŠè¿™ç§ä¸€è¾¹å¾ªç¯ä¸€è¾¹è®¡ç®—çš„æœºåˆ¶ç§°ä½œ `Generator`ã€‚\n- åˆ›å»º Generatorï¼šæŠŠåˆ—è¡¨ç”Ÿæˆå¼çš„ `[]` æ”¹æˆ `()` å³å¯ã€‚\n\n\t```python\n\t# å—åˆ°å†…å­˜é™åˆ¶ï¼Œè¿è¡Œè¿‡ç¨‹ä¸­å¯èƒ½ä¼šå´©æ‰\n\tlist = [ x for x in range(1, int(10e10)) ]\n\t\n\t# ç®€å•ç”Ÿæˆå™¨\n\tgenerator = ( x for x in range(1, int(10e10)) )\n\tfor n in generator:\n\t    print(n)\n   \n\t# ç®€å•ç¤ºä¾‹ï¼šå¸¦ yield çš„ Generator å‡½æ•°\n\t# 1) åœ¨æ¯æ¬¡å¾ªç¯æ—¶éƒ½æ‰§è¡Œï¼Œé‡åˆ° yield è¯­å¥è¿”å›\n\t# 2) å†æ¬¡æ‰§è¡Œæ—¶ï¼Œä»ä¸Šæ¬¡è¿”å›çš„ yield è¯­å¥å¤„ç»§ç»­æ‰§è¡Œ\n\tdef odd():\n\t    print('First Return: ')\n\t    yield [1, 2, 3]\n\t    print('Second Return:')\n\t    yield (1, 2, 3)\n\t    print('Third Return:')\n\t    yield {'key': 'value'}\n\t    \n\tfor n in odd():\n\t    print(n)\n\t    \n\t# Fibonacci æ•°åˆ—\n\tdef fibonacci(times):\n\t    n, a, b = 0, 0, 1\n\t    while n < times:\n\t        yield b\n\t        (a, b) = (b, a+b)\n\t        n = n + 1\n\t    return 'done'\n\t    \n\tfor n in fibonacci(10):\n\t    print(n)\n\t```\n\n#### è¿­ä»£å™¨\n- å¯ç”¨äº for å¾ªç¯çš„æ•°æ®ç±»å‹ï¼š\n\t- é›†åˆæ•°æ®ç±»å‹ï¼šlistã€tupleã€dict (å­—å…¸)ã€setã€str (å­—ç¬¦ä¸²)\n\t- Generator ç”Ÿæˆå™¨å’Œå¸¦ `yield` çš„ Generator å‡½æ•°\n- å¯ç”¨äº for å¾ªç¯çš„å¯¹è±¡ç»Ÿç§°ä¸ºå¯è¿­ä»£å¯¹è±¡ `Iterable`ã€‚\n\n\t```python\n\t# ä½¿ç”¨ isinstance() åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦ä¸º Iterable å¯¹è±¡\n\tform collections import Iterable\n\t\n\tisinstance([], Iterable) # True\n\tisinstance((x for x in range(1, 10)), Iterable) # True\n\tisinstance(100, Iterable) # False\n\t```\n\n- ç”Ÿæˆå™¨æ˜¯ `Iterator` å¯¹è±¡ï¼›Listã€Dictã€Str è™½ç„¶æ˜¯ Iterable å¯¹è±¡ï¼Œä½†å´ä¸æ˜¯ `Iterator`ã€‚\n\tæˆ‘ä»¬å¯ä»¥é€šè¿‡ `iter()` å‡½æ•°ï¼ŒæŠŠ Listã€Dictã€Str ç­‰ Iterable è½¬æ¢è¾¾æˆ `Iterator`ã€‚\n\t\n\t> Python çš„è¿­ä»£å™¨ ( Iterator ) å¯¹è±¡è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªæ•°æ®æµï¼Œå³ Iterator å¯¹è±¡å¯è¢« `next()` å‡½æ•°è°ƒç”¨å¹¶ä¸æ–­è¿”å›ä¸‹ä¸€ä¸ªæ•°æ®ï¼Œç›´è‡³æ²¡æœ‰æ•°æ®æ—¶æŠ›å‡º `StopIteration` å¼‚å¸¸ã€‚\n\t\n\t```python\n\tisinstance(iter([]), Iterator) # True\n\tisinstance(iter('abc'), Iterator) # True\n\t```\n\t\n### å‡½æ•°å¼ç¼–ç¨‹\n\n- å‡½æ•°ï¼š\n\t- `æ¨¡å—åŒ–ç¼–ç¨‹`ï¼Œå³æŠŠå¤§æ®µåŠŸèƒ½ä»£ç æ‹†åˆ†ã€å°è£…æˆæ¨¡å—ï¼Œé€šè¿‡å±‚å±‚è°ƒç”¨ï¼ŒæŠŠå¤æ‚ä»»åŠ¡è§£æ„æˆç®€å•ä»»åŠ¡ã€‚\n\t- è¿™ç§åˆ†è§£ç§°ä¹‹ä¸º `é¢å‘è¿‡ç¨‹` çš„ç¨‹åºè®¾è®¡ã€‚\n\t- å‡½æ•°æ˜¯é¢å‘è¿‡ç¨‹ç¨‹åºè®¾è®¡çš„ `åŸºæœ¬å•å…ƒ`ã€‚\n- å‡½æ•°å¼ç¼–ç¨‹ï¼š\n\t- å°±æ˜¯ä¸€ç§æŠ½è±¡ç¨‹åºå¾ˆé«˜çš„ `ç¼–ç¨‹èŒƒå¼`ï¼›\n\t- çº¯ç²¹çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„å‡½æ•°æ²¡æœ‰å˜é‡ï¼›\n\t- å‡½æ•°å¼ç¼–ç¨‹çš„ç‰¹ç‚¹ï¼šå…è®¸å‡½æ•°ä½œä¸º `å‚æ•°`ï¼Œä½œä¸ºå¦ä¸€å‡½æ•°çš„ `è¾“å…¥`ã€‚\n\n#### é«˜é˜¶å‡½æ•°\n- å˜é‡å¯æŒ‡å‘å‡½æ•°ï¼š\n\n\t```python\n\t# ç›´æ¥è°ƒç”¨å‡½æ•°\n\tx = abs(-10)\n\t\n\t# å˜é‡å¯æŒ‡å‘å‡½æ•°\n\tf = abs\n\tx = f(-10)\n\n\t# x çš„ç»“æœéƒ½ä¸º 10\n\t```\n\t\n- å‡½æ•°åä¹Ÿæ˜¯å˜é‡ï¼šå‡½æ•°åå…¶å®å°±æ˜¯æŒ‡å‘å‡½æ•°çš„å˜é‡ã€‚\n\n\t> æ³¨æ„ï¼š  \n\t> 1) è€Œåœ¨å®é™…ç¼–ç å½“ä¸­ï¼Œç»å¯¹ä¸èƒ½è¿™æ ·å†™ï¼Œåªæ˜¯ä¸ºäº†è¯´æ˜å‡½æ•°åä¹Ÿæ˜¯å˜é‡ã€‚  \n\t> 2) è‹¥éœ€æ¢å¤ abs å‡½æ•°ï¼Œè¯·é‡å¯ Python äº¤äº’ç¯å¢ƒã€‚  \n\n\t```python\n\tabs = 10\n\tabs(-1)\n\t\n\t# æŠ›å‡ºå¼‚å¸¸\n\t# å³ abs å·²æŒ‡å‘ä¸€ä¸ªæ•´æ•° 10ï¼Œè€Œä¸æ˜¯æŒ‡å‘æ±‚ç»å¯¹å€¼çš„å‡½æ•°ã€‚  \n\tTraceback (most recent call last):\n\t    File \"<stdin>\", line 1, in <module>\n\tTypeError: 'int' object is not callble\n\t```\n\t\n- ä¼ å…¥å‡½æ•°ï¼šä¸€ä¸ªå‡½æ•°æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œç§°ä¸º `é«˜é˜¶å‡½æ•°`ã€‚\n\n\t```python\n\tdef add(x, y, f):\n\t    return f(x) + f(y)\n\t    \n\t# è°ƒç”¨ add(-5, 6 abs) æ—¶ï¼Œè®¡ç®—çš„è¿‡ç¨‹ä¸ºï¼š\n\t# x = -5\n\t# y = -6\n\t# f = abs\n\t# f(x) + f(y)\n\t```\n\n##### MapReduce\n- Python å†…å»ºäº† map() å’Œ reduce() å‡½æ•°ã€‚\n- Map / Reduce çš„æ¦‚å¿µ ï¼š\n\t- MapReduce æ˜¯ä¸€ç§ç¼–ç¨‹æ¨¡å‹ï¼Œæ˜¯ `å¤„ç†` å’Œ `ç”Ÿæˆ` å¤§å‹æ•°æ®é›†çš„ç›¸å…³å®ç°ã€‚\n\t- ç”¨æˆ·æŒ‡å®šä¸€æ˜ å°„å‡½æ•° `map()` å¤„ç†é”®/å€¼å¯¹ï¼Œä»¥ç”Ÿæˆä¸€ç»„`ä¸­é—´é”®/å€¼å¯¹`ï¼›åŒæ—¶ä¹ŸæŒ‡å®š `reduce()` å‡½æ•°ç”¨ä»¥ `åˆå¹¶` å«ç›¸åŒä¸­é—´é”®æ‰€å…³è”çš„æ‰€æœ‰ä¸­é—´å€¼ã€‚\n\n\t> ä¸ºäº†æ›´åŠ é€å½»ç†è§£ MapReduceï¼Œå¯ç ”è¯»  Google å…³äº MapReduce çš„è®ºæ–‡ï¼š  \n\t> `MapReduce: Simplified Data Processing on Large Clusters` $^{[4]}$ã€‚\n\t\n###### Map å‡½æ•°\n- map() å‡½æ•°ï¼šå…¶æ¥æ”¶ `ä¸¤ä¸ªå‚æ•°`ï¼Œç¬¬ä¸€ä¸ªæ˜¯ `å‡½æ•°`ï¼Œç¬¬äºŒä¸ªæ˜¯ `Iterable`ã€‚å³ map å°†ä¼ å…¥çš„ `å‡½æ•°` ä¾æ¬¡ `ä½œç”¨` åˆ°åºåˆ—çš„ `æ¯ä¸ªå…ƒç´ `ï¼Œå¹¶æŠŠç»“æœä½œä¸ºæ–°çš„ `Iterator` è¿”å›ã€‚\n\n\t```python\n\t# ä¾‹ 1ï¼šæœ‰ä¸€ä¸ªå‡½æ•° f(x) = x*xï¼Œå°†å…¶ä½œç”¨äºä¸€ä¸ª list = [1, 2, 3, 4, 5]\n\tdef f(x):\n\t    return x ** 2\n\t\n\t# 1) map() å‡½æ•°\n\tr = map(f, [1, 2, 3, 4, 5])\n\tprint(list(r)) # è¾“å‡º [1, 4, 9, 16, 25]\n\t\n\t# 2) ä¸éœ€è¦ map() å‡½æ•°çš„ç­‰ä»·å†™æ³•\n\tlist = []\n\tfor n in [1, 2, 3, 4, 5]\n\t    list.append( f(n) )\n\tprint(list) # è¾“å‡º [1, 4, 9, 16, 25]\n\t\n\t# ä¾‹ 2ï¼šmap ä½œä¸ºé«˜é˜¶å‡½æ•°ï¼Œäº‹å®ä¸Šå®ƒæŠŠè¿ç®—è§„åˆ™æŠ½è±¡äº†ï¼Œå¦‚æŠŠ list ä¸­æ•°å­—è½¬å­—ç¬¦ä¸²\n\tlist( map(str, [1, 2, 3, 4, 5]) ) # è¾“å‡º ['1', '2', '3', '4', '5']\n\t```\n\t\n###### Reduce å‡½æ•°\n- reduce() å‡½æ•°ï¼šå…¶æ¥æ”¶ `ä¸¤ä¸ªå‚æ•°`ï¼Œç¬¬ä¸€ä¸ªæ˜¯ `å‡½æ•°`ï¼Œç¬¬äºŒä¸ªæ˜¯ `Iterable`ã€‚å³ reduce æŠŠç»“æœç»§ç»­å’Œåºåˆ—çš„ `ä¸‹ä¸€ä¸ªå…ƒç´ ` åš `ç´¯ç§¯è®¡ç®—`ã€‚\n\n\t> reduce(f, [x1, x2, x3, x4]) ç­‰ä»·äº f( f( f(x1, x2), x3 ), x4 )\n\t\n\t```python\n\tfrom functools import reduce\n\tdef add(x, y):\n\t    return x + y\n\n\tprint( reduce(add, [1, 2, 3, 4, 5]) )\n\t```\n- å½“ç„¶ï¼Œä¸Šè¿°çš„å®ä¾‹åªæ˜¯ä¸ºäº†æè¿°åŸç†è€Œè®¾å®šï¼Œä¸‹é¢å°†ç»“åˆ map() ä¸ reduce() ä¸¾ä¾‹ï¼š\n\n\t```python\n\tfrom functools import reduce\n\t\n\t# å®šä¹‰ä¸€è®¡ç®—å…¬å¼\n\tdef fn(x, y):\n\t    return x * 10 + y\n\t\n\t# å®šä¹‰ä¸€å­—ç¬¦è½¬æ•°å­—çš„å‡½æ•°\n\tdef char2num(s):\n\t    digits = {'0': 10, '1': 20, '2': 30, '3': 40}\n\t    return digits[s]\n\t    \n\t# map/reduce å®ç°å¤„ç†ä¸è®¡ç®—çš„åŠŸèƒ½\n\tprint( reduce(fn, map(char2num, '0123')) )\n\t```\n\n##### Filter\n- Python å†…å»ºäº† `filter()` å‡½æ•°ï¼Œç”¨äºè¿‡æ»¤åºåˆ—ã€‚\n- filter() å‡½æ•°ï¼šæ¥æ”¶ `ä¸¤ä¸ªå‚æ•°`ï¼Œä¸€ä¸ªæ˜¯ `å‡½æ•°`ï¼Œå¦ä¸€ä¸ªæ˜¯ `åºåˆ—`ã€‚å³ filter æŠŠä¼ å…¥çš„å‡½æ•°ä½œç”¨äºæ¯ä¸ªå…ƒç´ ï¼Œç„¶åæ ¹æ®è¿”å›å€¼æ˜¯ `True/False` å†³å®šæ˜¯å¦ `ä¿ç•™/ä¸¢å¼ƒ` è¯¥å…ƒç´ ã€‚\n\n\t> filter() å‡½æ•°è¿”å›çš„æ˜¯ä¸€ä¸ª Iteratorï¼Œå³ä¸€ä¸ªæƒ°æ€§åºåˆ—ï¼Œæ•…éœ€è¦å¼ºè¿« filter() å®Œæˆè®¡ç®—ç»“æœï¼Œå¦‚ list() å‡½æ•°è·å¾—æ‰€æœ‰ç»“æœã€‚\n\t\n\t```python\n\t# åœ¨ä¸€ä¸ª list ä¸­ï¼Œåˆ æ‰å¶æ•°ï¼Œåªä¿ç•™å¥‡æ•°\n\tdef isOdd(n):\n\t    return n % 2 == 1\n\t    \n\t# è¾“å‡º [1, 3, 5]\n\tlist( filter(isOdd, [1, 2, 3, 4, 5]) )\n\t\n\t# æŠŠä¸€ä¸ªåºåˆ—ä¸­çš„ç©ºå­—ç¬¦å‰”é™¤\n\tdef rejectBlankStr(s):\n\t    return s and s.strip()\n\t    \n\t# è¾“å‡º ABC\n\tlist( filter(rejectBlankStr, ['A', 'B', '', None, 'C']) )\n\t```\n\n##### Sorted\n- æ’åºç®—æ³•ï¼šæ’åºçš„æ ¸å¿ƒæ˜¯ `æ¯”è¾ƒä¸¤å…ƒç´ çš„å¤§å°`ã€‚è‹¥æ˜¯æ•°å­—åˆ™ç›´æ¥æ¯”è¾ƒï¼›ä½†æ¯”è¾ƒçš„è‹¥æ˜¯å­—ç¬¦ä¸²æˆ–ä¸¤ä¸ªå­—å…¸ï¼Œåˆ™æ¯”è¾ƒè¿‡ç¨‹éœ€é€šè¿‡å‡½æ•°æŠ½è±¡å®ç°ã€‚\n\n\t```python\n\t# è¾“å‡º [-6, 2, 12, 24, 36]\n\tprint( sorted( [36, 24, -6, 12, 2] ) )\n\t```\n\t\n- `sorted()` ä¹Ÿæ˜¯ä¸€é«˜é˜¶å‡½æ•°ï¼Œå¯æ¥æ”¶ä¸€ä¸ª key å‡½æ•°æ¥è‡ªå®šä¹‰æ’åº:\n\n\t```python\n\t# è¾“å‡º [2, -6, 12, 24, 36]\n\tprint( sorted([36, 24, -6, 12, 2], key = abs) )\n\t\n\t# å¿½ç•¥å¤§å°å†™ï¼Œå®ç°å­—ç¬¦ä¸²æ’åº\n\t# å®ç°å­—ç¬¦ä¸²çš„æ¯”è¾ƒæ˜¯æ ¹æ® ASCII å®ç°æ¯”è¾ƒçš„\n\tprint( sorted(['Bob', 'Lucy', 'Zoo', 'Danny'], key = str.lower) ) \n\t\n\t# è¿›è¡Œåå‘æ’åºï¼Œå¯ä¼ å…¥ç¬¬ä¸‰ä¸ªå‚æ•°å®ç°\n\tprint( sorted(['Bob', 'Lucy', 'Zoo', 'Danny'], key = str.lower, reverse = True) )\n\t```\n\n#### è¿”å›å‡½æ•°\n\n##### å‡½æ•°ä½œä¸ºè¿”å›å€¼\n- å‡½æ•°ä½œä¸ºè¿”å›å€¼ï¼šé«˜é˜¶å‡½æ•°é™¤äº†å¯ä»¥æ¥å—å‡½æ•°ä½œä¸ºå‚æ•°å¤–ï¼Œè¿˜å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºç»“æœå€¼è¿”å›ã€‚\n\n\t```python\n\t# é€šå¸¸æƒ…å†µå®ç°ä¸€ä¸ªå¯å˜å‚æ•°çš„æ±‚å’Œ\n\tdef calcSum(*args):\n\t    ax = 0\n\t    for n in args:\n\t        ax = ax + n\n\t    return ax\n\t    \n\t# è‹¥ä¸æƒ³ç«‹åˆ»æ±‚å’Œï¼Œå¯ä¸è¿”å›æ±‚å’Œç»“æœï¼Œè€Œæ˜¯æ±‚å’Œå‡½æ•°\n\tdef lazySum(*args):\n\t    def sum():\n\t        ax = 0\n\t        for n in args:\n\t            ax = ax + n\n\t        return ax\n\t    return sum\n\t\n\t# è°ƒç”¨ lazySum() æ—¶ï¼Œè¿”å›å‡½æ•°è€Œä¸æ˜¯ç»“æœ\n\tf = lazySum(1, 3, 5, 7, 9)\n\t\n\t# è°ƒç”¨ fï¼Œæ‰çœŸæ­£è®¡ç®—æ±‚å’Œçš„ç»“æœ\n\tf()\n\t\n\t# å½“æ¯æ¬¡è°ƒç”¨ lazySum() æ—¶ï¼Œéƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼Œæ—¢ä½¿ä¼ å…¥å‚æ•°ç›¸åŒ\n\tf1 = lazySum(1, 3, 5, 7, 9)\n\tf2 = lazySum(1, 3, 5, 7, 9)\n\tprint( f1 == f2 ) # è¾“å‡º False\n\t```\n\n##### é—­åŒ…\n- æ³¨æ„åˆ°ä¸Šè¿°ä¾‹å­è¿”å›çš„å‡½æ•°åœ¨å…¶å®šä¹‰å†…éƒ¨å¼•ç”¨äº†å±€éƒ¨å˜é‡ `args`ï¼Œæ•…å½“ä¸€ä¸ªå‡½æ•°è¿”å›ä¸€ä¸ªå‡½æ•°åï¼Œå…¶å†…éƒ¨çš„å±€éƒ¨å˜é‡è¿˜è¢«æ–°å‡½æ•°å¼•ç”¨ã€‚\n- æ³¨æ„è¿”å›çš„å‡½æ•°å¹¶æ²¡æœ‰ç«‹åˆ»æ‰§è¡Œï¼Œè€Œæ˜¯è°ƒç”¨äº† `f()` æ‰æ‰§è¡Œã€‚\n\n\t```python\n\tdef count():\n\t    fs = []\n\t    for i in range(1, 4):\n\t        def f():\n\t            return i ** 2\n\t        fs.append(f)\n\t    return fs\n\t    \n\tf1, f2, f3 = count()\n\t# è¾“å‡º 9::9::9\n\tprint( str(f1()) + '::' + str(f2()) + '::' + str(f3()) ) \n\n\t\"\"\"\n\t\" å®é™…ç»“æœä¸ºï¼šf1() --> 9ï¼Œf2() --> 9, f3() --> 9\n\t\" å…¨éƒ¨ç»“æœéƒ½ä¸º 9ï¼ŒåŸå› åœ¨äºè¿”å›çš„å‡½æ•°å¼•ç”¨äº†å˜é‡ iï¼Œä½†å®ƒå¹¶éç«‹åˆ»æ‰§è¡Œ\n\t\" éœ€ç­‰åˆ° 3 ä¸ªå‡½æ•°éƒ½è¿”å›æ—¶ï¼Œå®ƒä»¬æ‰€å¼•ç”¨çš„å˜é‡ i å·²ç»å˜æˆäº† 3ï¼Œæ•…æœ€ç»ˆç»“æœæ˜¯ 9\n\t\"\"\"\n\t\n\t# è‹¥éœ€å¼•ç”¨å¾ªç¯çš„å˜é‡\n\tdef count():\n\t    def f(j):\n\t        def g():\n\t            return j * j\n\t        return g\n\t    \n\t    fs = []\n\t    for i in range(1, 4):\n\t        fs.append( f(i) ) # f(i) ç«‹åˆ»æ‰§è¡Œï¼Œi çš„å½“å‰å€¼è¢«ä¼ å…¥ f()\n\t    return fs\n\t    \n\tf1, f2, f3 = count()\n\t# è¾“å‡º 1::4::9\n\tprint( str(f1()) + '::' + str(f2()) + '::' + str(f3()) )\n\t```\n\n\t{% note danger %}\n\tè¿”å›é—­åŒ…æ—¶ç‰¢è®°ä¸€ç‚¹ï¼šè¿”å›å‡½æ•°ä¸è¦å¼•ç”¨ä»»ä½•å¾ªç¯å˜é‡ï¼Œæˆ–åç»­ä¼šå‘ç”Ÿå˜åŒ–çš„å˜é‡ã€‚\n\t{% endnote %}\n\n#### åŒ¿åå‡½æ•°\n- å½“å‡½æ•°ä½œä¸º `ä¼ å…¥å‚æ•°` æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦æ˜¾å¼åœ°å®šä¹‰å‡½æ•°ï¼Œç›´æ¥ä¼ å…¥åŒ¿åå‡½æ•°æ›´ä¾¿æ·ã€‚\n- å…³é”®å­— `lambda` è¡¨ç¤ºåŒ¿åå‡½æ•°ï¼Œå†’å·å‰é¢è¡¨ç¤ºä¼ å…¥å‚æ•°ï¼Œåé¢ä¸ºè¿”å›å€¼ ( ä¸€èˆ¬ä¸ºè¡¨è¾¾å¼è¿ç®—åçš„ç»“æœ )ï¼Œå¦‚ `lambda x, y : x+y`\n\n\t```python\n\t# ä»¥ map() å‡½æ•°ä¸ºä¾‹\n\t# è¾“å‡º [1, 4, 9, 16, 25]\n\tprint( list(map(lambda x : x ** 2, [1, 2, 3, 4, 5])) )\n\t\n\t# åŒ¿åå‡½æ•°å®é™…ä¸ºï¼š\n\tdef f(x):\n\t    return x ** 2\n\t```\n\n- åŒ¿åå‡½æ•°æœ‰ä¸€å¥½å¤„ï¼Œå³ä¸å¿…æ‹…å¿ƒ `å‡½æ•°åå†²çª`ã€‚æ­¤å¤–ï¼ŒåŒ¿åå‡½æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå¯æŠŠåŒ¿åå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œå†åˆ©ç”¨å˜é‡æ¥è°ƒç”¨ã€‚\n\n\t```python\n\tf = lambda x : x ** 2\n\tprint( f(5) ) # è¾“å‡º 25\n\t```\n\t\n- åŒ¿åå‡½æ•°ä½œä¸ºè¿”å›å€¼è¿”å›ï¼š\n\n\t```python\n\tdef build(x, y):\n\t    return lambda: x * x + y * y\n\t```\n\t\n#### è£…é¥°å™¨\n- æç¤ºï¼šå¯¹äºè£…é¥°å™¨ï¼Œé™¤äº†å»–é›ªå³°è€å¸ˆçš„æ•™ç¨‹å¤– ( ä¾§é‡åŸç†è®²è§£ )ï¼Œè¿˜å¯å‚è€ƒç¨‹åºå‘˜å¤§å’–çš„æ¨æ–‡ [Python è£…é¥°å™¨çš„è¯ç”Ÿè¿‡ç¨‹](https://mp.weixin.qq.com/s/0nZTAjeftR3Xa9T9TbQc-g) ( ä¾§é‡å…·ä½“å®ç°è®²è§£ )ã€‚\n\n- å¼•ä¾‹ï¼šå‡è®¾æˆ‘ä»¬æœ‰ time() å‡½æ•°ï¼Œæˆ‘ä»¬è¦å¢å¼º time() å‡½æ•°çš„åŠŸèƒ½ï¼Œæ¯”å¦‚åœ¨å‡½æ•°è°ƒç”¨å‰åè‡ªåŠ¨æ‰“å°æ—¥å¿—ï¼Œä½†åˆä¸å¸Œæœ›ä¿®æ”¹ time() å‡½æ•°çš„å®šä¹‰ã€‚\n\n\tè¿™ç§åœ¨ä»£ç è¿è¡ŒæœŸé—´åŠ¨æ€å¢åŠ åŠŸèƒ½çš„æ–¹å¼ï¼Œç§°ä¹‹ä¸º `è£…é¥°å™¨ (Decorator)`ã€‚\n\n\t```python    \n\tdef log(func):\n\t    def wrapper(*args, **kw):\n\t        print('call %s():' % func.__name__)\n\t        return func(*args, **kw)\n\t    return wrapper\n\t    \n\t@log\n\tdef time():\n\t    print('2018-11-11 23:11')\n\t```\n\n\n- é‚£ä¹ˆè£…é¥°å™¨æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿåœ¨å®ç°è£…é¥°å™¨ä¹‹å‰ï¼Œæˆ‘ä»¬æœ‰å¿…è¦å›é¡¾å‡½æ•°çš„ç‰¹æ€§ï¼š\n\t- `å‡½æ•°ä½œä¸ºå˜é‡ä¼ é€’`ï¼šå‡½æ•°ä½œä¸ºå˜é‡æ¥ä¼ é€’ï¼Œä»£è¡¨çš„æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ã€‚è‹¥å‡½æ•°ä¸åŠ æ‹¬å·ï¼Œæ˜¯ä¸ä¼šæ‰§è¡Œçš„ï¼›\n\t- `å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’`ï¼šä¸€ä¸ªå‡½æ•°å¯ä»¥æ¥å—å¦ä¸€ä¸ªå‡½æ•°å¯¹è±¡ä½œä¸ºè‡ªå·±çš„å‚æ•°ï¼Œå¹¶å¯¹å‡½æ•°å¯¹è±¡è¿›è¡Œå¤„ç†ï¼›\n\t- `å‡½æ•°ä½œä¸ºè¿”å›å€¼`ï¼šä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼å¯ä»¥æ˜¯å¦ä¸€ä¸ªå‡½æ•°å¯¹è±¡ã€‚\n\t- `å‡½æ•°åµŒå¥—åŠè·¨åŸŸè®¿é—®`ï¼šä¸€ä¸ªå‡½æ•° (ä¸»å‡½æ•°) å†…éƒ¨æ˜¯å¯ä»¥åµŒå¥—å¦ä¸€ä¸ªå‡½æ•° (å­å‡½æ•°) çš„ï¼›\n\n\t```python\n\t# å‡½æ•°ä½œä¸ºå˜é‡ä¼ é€’\n\tdef add(x):\n\t    return x + 1\n\ta = add # ä½œä¸ºå˜é‡\n\t\n\t# å‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’\n\tdef add(x):\n\t    return x + 1\n\tdef excute(f):\n\t    return f(3)\n\texcute(add) # ä½œä¸ºå‚æ•°\n\t\n\t# å‡½æ•°ä½œä¸ºè¿”å›å€¼\n\tdef add(x):\n\t    return x + 1\n\tdef get_add():\n\t    return add # ä½œä¸ºè¿”å›å€¼\n\t\n\t# å‡½æ•°åµŒå¥—åŠè·¨åŸŸè®¿é—®\n\tdef outer():\n\t    x = 1\n\t    def inner():\n\t        print(x) # è¢«åµŒå¥—å‡½æ•° inner å†…éƒ¨çš„ x å˜é‡å¯ä»¥åˆ°å°è£…åŸŸå»è·å–\n\t    inner()\n\t    \n\touter()\n\t```\n\n- Python ä¸­çš„è£…é¥°å™¨æ˜¯é€šè¿‡é—­åŒ…å®ç°çš„ï¼Œå³é—­åŒ…å°±æ˜¯å¼•ç”¨äº†å¤–éƒ¨å˜é‡çš„å†…éƒ¨å‡½æ•°ï¼Œè€Œé—­åŒ…çš„å®ç°æ­£æ˜¯åˆ©ç”¨äº†ä»¥ä¸Šå‡½æ•°ç‰¹æ€§ã€‚å…·ä½“å®ç°ï¼š\n\t- `é—®é¢˜`ï¼šè§‚å¯Ÿæ‰“å°ç»“æœï¼Œä» func() åˆ° closure()ï¼Œfunc å˜æˆäº†closureï¼Œå…·ä½“æ˜¯æ€ä¹ˆè£…é¥°çš„å‘¢ï¼Ÿ\n\t- `è§£é‡Š`ï¼šclosure å®é™…ä¸Šæ˜¯ outer(func)ï¼Œfunc ä½œä¸ºå‚æ•°ä¼ è¿› outerï¼Œouter çš„å­å‡½æ•° inner å¯¹ func è¿”å›çš„ç»“æœè¿›è¡Œäº†ä¸€ç•ªè£…é¥°ï¼Œè¿”å›äº†ä¸€ä¸ªè£…é¥°åçš„ç»“æœï¼Œæœ€å outer è¿”å› innerï¼Œå¯ä»¥è¯´ inner å°±æ˜¯è£…é¥°åçš„ funcï¼Œè¿™å°±æ˜¯ä¸€ä¸ªå‡½æ•°è¢«è£…é¥°çš„è¿‡ç¨‹ï¼Œé‡ç‚¹åœ¨äºæ‰§è¡Œ outer(func) è¿™ä¸ªæ­¥éª¤ï¼Œå³æ‰§è¡Œ closure()ã€‚\n\n\t```python\n\tdef func():\n\t    return 'å‡½æ•° func'\n\n\tdef outer(x):\n\t    def inner(): # å‡½æ•°åµŒå¥—\n\t        return 'æˆ´äº† inner å¸½å­çš„' + x() # è·¨åŸŸè®¿é—®ï¼Œå¼•ç”¨äº†å¤–éƒ¨å˜é‡ x\n\t    return inner # å‡½æ•°ä½œä¸ºè¿”å›å€¼\n\n\t# å‡½æ•° func ä½œä¸º outer çš„å‚æ•°ï¼Œå‡½æ•°ä½œä¸ºå˜é‡èµ‹ç»™ closure\n\tclosure = outer(func) \n\n\tprint( func() ) # æ‰§è¡ŒåŸå§‹å‡½æ•°\n\tprint( closure() ) # æ‰§è¡Œé—­åŒ…\n\t\n\t# æ‰§è¡Œç»“æœï¼š\n\t# å‡½æ•° func\n\t# æˆ´äº† inner å¸½å­çš„å‡½æ•° func\n\t```\n\n- è£…é¥°å™¨è¯­æ³•ç³– `@`ï¼šPython ç»™æˆ‘ä»¬æä¾›äº†è¯­æ³•ç³– `@`ï¼Œæˆ‘ä»¬æƒ³æ‰§è¡Œ outer(func)ï¼Œåªéœ€è¦æŠŠ outer å‡½æ•° @ åˆ° func å‡½æ•°çš„ä¸Šå³å¯ã€‚å…·ä½“å®ç°ï¼š\n\n\t```python\n\tdef outer(x):\n\t    def inner():\n\t        return 'æˆ´äº† inner å¸½å­çš„' + x()\n\t    return inner\n\n\t@outer\n\tdef func():\n\t    return 'å‡½æ•° func'\n\n\tprint( func() ) # è¾“å‡ºï¼šæˆ´äº† inner å¸½å­çš„å‡½æ•° func\n\t```\n\n#### åå‡½æ•°\n- ä¾‹ï¼šint() å‡½æ•°å¯æŠŠå­—ç¬¦ä¸²è½¬ä¸ºæ•´æ•°ï¼Œå½“ä¸”ä»…å½“ä¼ å…¥å­—ç¬¦ä¸²æ—¶ï¼Œint() å‡½æ•°é»˜è®¤æŒ‰ç…§ `10 è¿›åˆ¶è½¬æ¢`ã€‚\n\n\t```python\n\tprint( int('12345') ) # è¾“å‡º 12345\n\t\n\t# int() å‡½æ•°æä¾›é¢å¤– base å‚æ•°ï¼Œé»˜è®¤å€¼ä¸º 10\n\t# è‹¥ä¼ å…¥ base å‚æ•°å³å¯åš N è¿›åˆ¶è½¬æ¢ ( N è¿›åˆ¶è½¬åˆ° 10 è¿›åˆ¶ )\n\tprint( int('10', base = 8) ) # è¾“å‡º 8\n\tprint( int('A', base = 16) ) # è¾“å‡º 10\n\t\n\t# è‹¥æˆ‘ä»¬è¦è½¬æ¢å¤§é‡äºŒè¿›åˆ¶å­—ç¬¦ä¸²ï¼Œåˆ™å¯é€šè¿‡å®šä¹‰å‡½æ•°\n\tdef int2(x, base = 2):\n\t    return int(x, base)\n\t    \n\t# è¿™æ ·è½¬æ¢äºŒè¿›åˆ¶å°±éå¸¸ä¾¿æ·äº†\n\tprint( int2('10000000') ) # è¾“å‡º 128\n\tprint( int2('10101010') ) # è¾“å‡º 170\n\t```\n\n- å…¶å® `functools.partial` å°±æ˜¯å¸®åŠ©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåå‡½æ•°ï¼Œå³å…¶ä½œç”¨å°±æ˜¯æŠŠä¸€ä¸ªå‡½æ•°çš„æŸäº›å‚æ•°å›ºå®šä½ ( è®¾ç½®é»˜è®¤å€¼ )ï¼Œè¿”å›ä¸€ä¸ªæ–°å‡½æ•°ã€‚\n\n\t```python\n\timport functools\n\tint2 = functools.partial(int, base = 2)\n\t```\n\t\n- åˆ›å»ºåå‡½æ•°æ—¶ï¼Œå®é™…å¯æ¥æ”¶ `å‡½æ•°å¯¹è±¡`ã€`*args` å’Œ `**kw` è¿™ä¸‰ä¸ªå‚æ•°ã€‚\n\n\t```python\n\tint2 = functools.partial(int, base = 2)\n\t\n\t# ç›¸å½“äºï¼š\n\targs = '10001000'\n\tkw = {'base': 2}\t\n\tint(*args, **kw)\n\t```\n\t\n### æ¨¡å—\n\n#### åŸºæœ¬æ¦‚å¿µ\n- ä¸€ä¸ª `.py` æ–‡ä»¶ç§°ä¹‹ä¸ºä¸€ä¸ªæ¨¡å— (Module)ï¼Œæ¨¡å—å¯é¿å…å‡½æ•°åå’Œå˜é‡åå†²çªã€‚\n\n\t> âš ï¸ å°½é‡ä¸ä¸ Python å†…ç½®å‡½æ•°åç§°ç›¸å†²çªï¼Œè¯¦ç»†å¯å‚è€ƒ Python æ ‡å‡†å‡½æ•°åº“ $^{[6]}$ã€‚\n\t\n- æŒ‰ç›®å½•æ¥ç»„ç»‡æ¨¡å—çš„æ–¹æ³•ï¼Œç§°ä¸ºåŒ… (Package)ï¼Œå¯é¿å…æ¨¡å—åç§°çš„å†²çªã€‚\n\n\t> âš ï¸ åˆ›å»ºæ¨¡å—çš„åç§°ä¸èƒ½å’Œ Python è‡ªå¸¦çš„æ¨¡å—åç§°ç›¸å†²çªã€‚ä¾‹å¦‚ç³»ç»Ÿè‡ªå¸¦ `sys` æ¨¡å—ã€‚\n\n\t- `__init__.py` è¯¥æ–‡ä»¶å¿…é¡»å­˜åœ¨ï¼Œå¦åˆ™ Python å°±æŠŠå½“å‰ ç›®å½•å½“ä½œæ™®é€šç›®å½•ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªåŒ…äº†ã€‚\n\t- `__init__.py` å¯ä»¥æ˜¯ç©ºæ–‡ä»¶ï¼Œä¹Ÿå¯å«æœ‰ä»£ç ã€‚\n\t- `samplye.py` çš„æ¨¡å—åç§°ä¸º `mypython.sample`ã€‚\n\t- `__init__.py` çš„æ¨¡å—åç§°ä¸º `mypython`ã€‚\n\n\t```bash\n\tmypython\n\t  â”œâ”€ __init__.py\n\t  â”œâ”€ sample.py\n\t  â””â”€ example.py\n\t```\n\t\n#### ä½¿ç”¨æ¨¡å—\n- ä»¥å†…å»ºçš„ `sys` æ¨¡å—ä¸ºä¾‹ï¼Œç¼–å†™ `sample` æ¨¡å—:\n\n\t```python\n\timport sys\n\t\n\tdef test():\n\t    args = sys.argv\n\t    if len(args) > 2:\n\t        for str in args:\n\t            print('%s' % str)\n\t    else:\n\t        print('Empty paramter')\n\t```\n\t\n- ä½œç”¨åŸŸï¼šåœ¨ä¸€æ¨¡å—ä¸­ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå®šä¹‰å¾ˆå¤šå‡½æ•°å’Œå˜é‡ã€‚æˆ–è®¸æˆ‘ä»¬æœ‰è¿™æ ·çš„éœ€æ±‚ï¼šæœ‰çš„å‡½æ•°å’Œå˜é‡ä»…å¸Œæœ›æ˜¯åœ¨æ¨¡å—å†…éƒ¨ä½¿ç”¨ã€‚Python ä¸­é€šè¿‡ `_` å‰ç¼€å®ç°çš„ã€‚\n\t- æ­£å¸¸çš„å‡½æ•°å’Œå˜é‡åæ˜¯å…¬å¼€çš„ (public)ï¼Œå¯è¢«ç›´æ¥å¼•ç”¨ã€‚ä¾‹å¦‚ï¼Œ`abc`ã€`x1`ã€`PI` ç­‰ã€‚\n\t\t\n\t- éå…¬å¼€çš„å‡½æ•°å’Œå˜é‡ (private)ï¼Œä¸åº”è¯¥è¢«ç›´æ¥å¼•ç”¨ã€‚ä¾‹å¦‚ `_xxx`ã€`__xxx`ã€‚\n\n\t\t> `ä¸åº”è¯¥` è¢«ç›´æ¥å¼•ç”¨ï¼Œè€Œä¸æ˜¯ä¸èƒ½è¢«ç›´æ¥å¼•ç”¨ï¼Œå› ä¸º Python å¹¶æ²¡æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥å®Œå…¨é™åˆ¶è®¿é—® private å‡½æ•°æˆ–è€…å˜é‡ã€‚\n\t\t\n\t- ä½¿ç”¨ `private` å‡½æ•°ï¼Œå®ç°ä»£ç å°è£…å’ŒæŠ½è±¡çš„æ–¹æ³•ï¼š\n\n\t\t```python\n\t\tdef __sayHello(name):\n\t\t    print('Hello' + name)\n\t\t\n\t\tdef greeting(name):\n\t\t    __sayHello(name)\n\t\t\n\t\t# è°ƒç”¨å‡½æ•°\n\t\tgreeting('Bob')\n\t\t```\n\t\t\n#### ç¬¬ä¸‰æ–¹æ¨¡å—\n- Python ä¸­ï¼Œå®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—æ˜¯é€šè¿‡åŒ…ç®¡ç†å·¥å…· `pip` å®Œæˆçš„ã€‚ \n\t- è‹¥æ˜¯ `Mac/Linux` ç”¨æˆ·ï¼Œå¯è·³è¿‡å®‰è£… `pip` çš„æ­¥éª¤ã€‚\n\t- è‹¥æ˜¯ `Windows` ç”¨æˆ·ï¼Œåˆ™éœ€è¦å®‰è£… `pip` å·¥å…·ã€‚( å®‰è£…æ–¹æ³•è‡ªè¡Œæœç´¢æˆ–å‚è€ƒ [7] )\n- å®‰è£…å®ŒåŒ…ç®¡ç†å·¥å…· `pip`ï¼Œå¯é€šè¿‡ `pip install Pillow` (Python 2.x) æˆ– `pip3 install Pillow` (Python 3.x) å‘½ä»¤å®‰è£… Python Imaging Library (å¤„ç†å›¾åƒçš„å·¥å…·åº“)ã€‚\n- å½“ç„¶ï¼ŒPython ä½¿ç”¨è¿‡ç¨‹ä¸­éœ€è¦å®‰è£…å’Œä½¿ç”¨å¤§é‡çš„ç¬¬ä¸‰æ–¹åº“ï¼Œè‹¥é€šè¿‡ä¸Šè¿°æ–¹å¼å®‰è£…æœªå…å¤ªè¿‡ç¹çï¼Œæ•…æˆ‘ä»¬å¯è€ƒè™‘ç›´æ¥å®‰è£… [Anaconda](https://www.baidu.com/link?url=wU4ubxmhQWv3nZxRpf8-49yE1jNiaKCbtn0a1tfl9V4OOvw4KG0FH0mbdC4REMDf&wd=&eqid=f287538e0000a002000000065bbc170c)ã€‚\n\n\tAnacondaï¼Œå…¶æ˜¯ä¸€ä¸ªåŸºäº Python çš„æ•°æ®å¤„ç†å’Œç§‘å­¦è®¡ç®—çš„å¹³å°ï¼Œä»–å·²ç»å†…ç½®äº†è®¸å¤šéå¸¸æœ‰ç”¨çš„ç¬¬ä¸‰æ–¹åº“ã€‚åœ¨å®Œæ•´å®Œ Anaconda åï¼Œé‡æ–°åœ¨å‘½ä»¤è¡Œä¸­é”®å…¥ `python`ï¼Œå‡ºç°ä»¥ä¸‹ä¿¡æ¯å³å®‰è£…æˆåŠŸï¼Œå¯æ­£å¸¸å¯¼åº“ä½¿ç”¨ï¼š\n\t\n\t```python\n\tpython\n\tpython 3.x.x | Anconda, Inc. | ... on darwin\n\t>>> import numpy # ç›´æ¥å€’å…¥ç¬¬ä¸‰æ–¹æ¨¡å—å³å¯\n\t```\n\t\n#### æ¨¡å—æœç´¢è·¯å¾„\n- å½“æˆ‘ä»¬è¯•å›¾æœç´¢æŸä¸€æ¨¡å—ï¼Œè‹¥æ‰¾ä¸åˆ°ä¼šæŠ¥é”™ã€‚\n\n\t```python\n\t>>> import mymodule\n\tTraceback (most recent call last)\n\t    File \"<stdin>\", line 1, in <module>\n\tModuleNotFoundError: No module named 'mymodule'\n\t```\n\t\n- é»˜è®¤æƒ…å†µï¼ŒPython è§£é‡Šå™¨ä¼šæœç´¢å½“å‰ç›®å½•ï¼Œæ‰€æœ‰å·²å®‰è£…å†…ç½®æ¨¡å—å’Œç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œ`æœç´¢è·¯å¾„` å­˜æ”¾åœ¨ `sys æ¨¡å—` çš„ `path å˜é‡` ä¸­ï¼š\n\n\t```python\n\t# è‹¥éœ€è¦æ·»åŠ æœç´¢ç›®å½•\n\timport sys\n\tsys.path.append('/User/kofe/mypython')\n\tprint(sys.path) # æŸ¥çœ‹æ˜¯å¦å·²æ·»åŠ \n\t```\n\n### é¢å‘å¯¹è±¡ç¼–ç¨‹\n- `é¢å‘å¯¹è±¡ç¼–ç¨‹`ï¼ŒObject Oriented Programmingï¼Œç®€ç§° OOPã€‚æ˜¯ä¸€ç§ç¨‹åºè®¾è®¡æ€æƒ³ã€‚å…¶æŠŠå¯¹è±¡ä½œä¸º `ç¨‹åºåŸºæœ¬å•å…ƒ`ï¼Œä¸”å¯¹è±¡ä¸­åŒ…å«äº† `æ•°æ®` å’Œ `æ“ä½œçš„å‡½æ•°`ã€‚\n\n\t> é¢å‘å¯¹è±¡çš„ç¨‹åºè®¾è®¡æŠŠè®¡ç®—æœºç¨‹åºè§†ä¸ºä¸€ç»„å¯¹è±¡é›†åˆï¼Œè€Œæ¯ä¸ªå¯¹è±¡éƒ½å¯æ¥æ”¶å…¶ä»–å¯¹è±¡å‘é€çš„æ¶ˆæ¯å¹¶å¤„ç†è¿™äº›æ¶ˆæ¯ï¼Œè®¡ç®—æœºç¨‹åºçš„æ‰§è¡Œå°±æ˜¯ä¸€ç³»åˆ—æ¶ˆæ¯åœ¨å„ä¸ªå¯¹è±¡ä¹‹é—´ä¼ é€’ã€‚\n\n- é¢å‘å¯¹è±¡çš„ç¨‹åºå¯ç†è§£ä¸ºï¼š`ç¨‹åº = å¯¹è±¡ + å¯¹è±¡`ï¼›`å¯¹è±¡ = æˆå‘˜å˜é‡ + æˆå‘˜å‡½æ•°`ã€‚\n- å¯¹æ¯” `é¢å‘è¿‡ç¨‹ç¼–ç¨‹`ï¼Œå³æŠŠè®¡ç®—æœºç¨‹åºè§†ä¸ºä¸€ç³»åˆ—çš„å‘½ä»¤é›†åˆï¼Œæˆ–å¯ç†è§£ä¸ºä¸€ç»„å‡½æ•°çš„é¡ºåºæ‰§è¡Œã€‚\n- é¢å‘è¿‡ç¨‹çš„ç¨‹åºå¯ç†è§£ï¼š`ç¨‹åº = å‡½æ•° + ç®—æ³•`ã€‚ \n\n- åœ¨ Python ä¸­ï¼Œæ‰€æœ‰æ•°æ®éƒ½å¯è§†ä¸ºå¯¹è±¡ã€‚å½“ç„¶ï¼Œå¯ä»¥é€šè¿‡ç±»æ¥è‡ªå®šä¹‰å¯¹è±¡çš„æ•°æ®ç±»å‹ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å®šä¹‰ä¸€ä¸ª `Student` ç±»å‹æ¥ä»£è¡¨å­¦ç”Ÿçš„èŒƒç•´ï¼š\n\n\t```python\n\tclass Student(object):\n\t    # __xxx__ ä¸ºç‰¹æ®Šå˜é‡æˆ–æ–¹æ³•ï¼Œæœ‰ç‰¹æ®Šç”¨é€”ï¼Œä¼šåœ¨åé¢ç« èŠ‚è¯¦ç»†è®²è§£\n\t    def __init__(self, name, score):\n\t        self.name = name\n\t        self.score = score\n\t    \n\t    def printScore(self):\n\t        print('name: %s, score: %s' % (self.name, self.score))\n\t        \n\tstu1 = Student('Lucy', 80)\n\tstu2 = Student('Danny', 90)\n\t\n\t# ç»™å¯¹è±¡å‘é€æ¶ˆæ¯å®é™…å°±æ˜¯è°ƒç”¨å¯¹åº”çš„å…³è”å‡½æ•°\n\tstu1.printScore()\n\tstu2.printScore()\n\t```\n\t\n#### ç±»å’Œå®ä¾‹\n- é¢å‘å¯¹è±¡çš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ `ç±» (Class)` å’Œ `å®ä¾‹ (Instance)`ï¼Œç‰¢è®°ç±»æ˜¯æŠ½è±¡çš„æ¨¡æ¿ã€‚ä¾‹å¦‚ï¼Œä¸Šè¿°çš„ `Student ç±»`ï¼Œå®ä¾‹å³æ ¹æ®ç±»åˆ›å»ºå‡ºä¸€ä¸ªä¸ªå…·ä½“çš„å¯¹è±¡ `stu1`ã€`stu2`ã€‚\n- é€šè¿‡ `class` å…³é”®å­—å®šä¹‰ç±»ï¼š\n\t\n\t```python\n\t# è‹¥æ²¡æœ‰åˆé€‚çš„ç»§æ‰¿ç±»ï¼Œåˆ™é»˜è®¤ä½¿ç”¨ object ç±»ï¼Œè¿™æ˜¯æ‰€æœ‰ç±»æœ€ç»ˆéƒ½ä¼šç»§æ‰¿çš„ç±»\n\tclass Student(object):\n\t    pass\n\t```\n\t\n- åˆ›å»ºç±»çš„å®ä¾‹ï¼Œå¦‚ `stu = Student()`\n\n- ç”±äºç±»èµ·åˆ°æ¨¡æ¿çš„ä½œç”¨ï¼Œå› æ­¤å¯åœ¨åˆ›å»ºå®ä¾‹æ—¶ï¼Œé€šè¿‡ç‰¹æ®Šæ–¹æ³• `__init__()`ï¼ŒæŠŠå±æ€§ç»‘å®šè¿›å»ã€‚\n\n\t```python\n\tclass Student(object):\n\t    def __init__(self, name, score):\n\t        self.name = name\n\t        self.score = score\n\t\n\t#åˆ›å»ºå®ä¾‹æ—¶ï¼Œä¸éœ€è¦ä¼ å…¥ selfï¼Œå³å®ä¾‹æœ¬èº«\n\tstu = Student('Lucy', 95)\n\t```\n\n- `æ•°æ®å°è£…`ï¼šè®¿é—®å®ä¾‹æœ¬èº«çš„æ•°æ®ï¼Œä¸é€šè¿‡å¤–éƒ¨å‡½æ•°è®¿é—®ï¼Œè€Œæ˜¯é€šè¿‡ç±»çš„å†…éƒ¨å®šä¹‰è®¿é—®æ•°æ®çš„å‡½æ•°ï¼Œè¿™æ ·å®ç°æ•°æ®å°è£…ã€‚\n\n\t```python\n\tclass Student(object):\n\t    def printInfo(self):\n\t        print('name: %s, score: %s' % (self.name, self.score))\n\t```\n\n#### è®¿é—®é™åˆ¶\n- `ç§æœ‰å˜é‡`ï¼šè®©å†…éƒ¨å±æ€§ä¸è¢«å¤–éƒ¨è®¿é—®ï¼Œåœ¨ Python ä¸­ï¼Œé€šè¿‡åŒä¸‹åˆ’çº¿ `__` å¼€å¤´ï¼Œå˜é‡å˜æˆç§æœ‰å˜é‡ã€‚\n\n\t```python\n\tclass Student(object):\n\t    def __init__(self, name, score):\n\t        self.__name = name\n\t        self.__score = score\n\t     \n\t    # Getter æ–¹æ³•\n\t    def getName(self):\n\t        return self.__name  \n\n\t    def getScore(self):\n\t        return self.__score\n\t        \n\t    # Setter æ–¹æ³•\n\t    def setName(self, name):\n\t        self.__name = name\n\n\t    def setScore(self, score):\n\t        # Setter æ–¹æ³•ä¿®æ”¹å±æ€§å€¼çš„å¥½å¤„ï¼Œå¯å®šä¹‰è§„åˆ™çº¦æŸæœ‰æ•ˆå€¼\n\t        if  0  <= score <= 100:\n\t            self.__score = score\n\t        else:\n\t            raise ValueError('Bad Score')\n\t\n\tstu = Student('Bob', 90)\n\t\n\t# ç›´æ¥è®¿é—®ä¼šæŠ¥é”™è¯¯:\n\t# AttributeError: 'Student' object has no attribute '__name'\n\tprint( stu.__name ) \n\t\n\t# å®ç°æ•°æ®å°è£…å\n\t# ä½¿ç”¨ Getter å‡½æ•°è®¿é—®å±æ€§\n\tprint( stu.getName() )\n\t# ä½¿ç”¨ Setter å‡½æ•°ä¿®æ”¹å±æ€§\n\tstu.setName('Lucy')\n\t```\n\n- åœ¨ Python ä¸­ï¼Œç±»ä¼¼ `__xxx__` çš„å˜é‡åï¼Œæ˜¯ `ç‰¹æ®Šå˜é‡`ï¼Œå¯ç›´æ¥è®¿é—®ã€‚\n- åœ¨ Python ä¸­ï¼Œç§æœ‰å˜é‡ `_xxx` å’Œ `__xxx`ï¼Œä¹Ÿæ˜¯å¯ä»¥å¤–éƒ¨è®¿é—®çš„ã€‚å…¶å® Python ç¼–è¯‘å™¨æ˜¯ä¼šæŠŠå˜é‡åä¿®æ”¹ä¸º `_ç±»å__å˜é‡å`ï¼Œè‡´ä½¿ç›´æ¥è®¿é—®æŠ¥é”™ã€‚ä¾‹å¦‚ï¼š`_Student__name`ï¼Œé€šè¿‡ `stu. _Student__name ` å¯å®ç°å¤–éƒ¨è®¿é—® â€œç§æœ‰å˜é‡â€ã€‚\n\n\t> âš ï¸ å½“ç„¶ï¼Œæˆ‘ä»¬ä¸å»ºè®®è¿™æ ·åšã€‚å› ä¸ºä¸åŒç‰ˆæœ¬çš„ Python è§£é‡Šå™¨å¯èƒ½ä¼šæŠŠ `__xxx` æ”¹æˆä¸åŒå˜é‡åç§°ã€‚æˆ‘ä»¬è¿˜æ˜¯æŒ‰ç…§ `çº¦å®šä¿—æˆ` çš„è§„å®šï¼Œè§† `__xxx` ä¸ºç§æœ‰å˜é‡ã€‚\n\n#### ç»§æ‰¿å’Œå¤šæ€\n- `ç»§æ‰¿`ï¼šåœ¨é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡ä¸­ï¼Œå¯ä»æŸä¸ªç°æœ‰ç±»ç»§æ‰¿ï¼Œæ–°çš„ç±»ç§°ä¸º `å­ç±»`ï¼Œè¢«ç»§æ‰¿çš„ç±»ç§°ä¸º `åŸºç±»ã€çˆ¶ç±»æˆ–è¶…ç±»`ï¼Œä¾‹å¦‚ï¼š\n\n\t```python\n\tclass Animal(object):\n\t    def run():\n\t        print('Animal is running...')\n\t \n\t# Animal å®ç°äº† run() æ–¹æ³•ï¼ŒDog ç»§æ‰¿ Animal ç±»\n\t# Dog ä½œä¸ºå­ç±»è‡ªç„¶ä¹Ÿæ‹¥æœ‰äº† run() æ–¹æ³•\n\tclass Dog(Animal):\n\t    def run():\n\t        print('Dog is running...')\n\n\t# å½“ç„¶ï¼Œå­ç±»è¿˜å¯ä»¥é‡å†™æ–¹æ³•å’Œå¢åŠ æ–¹æ³•\n\tclass Cat(Animal):\n\t    def run():\n\t        print('Cat is running...')\n\t    def call():\n\t        print('Miao, Miao, Miao...')\n\t    \n\t```\n\n- `å¤šæ€`ï¼šæŠŠä¸åŒå­ç±»å¯¹è±¡éƒ½å½“ä½œçˆ¶ç±»æ¥çœ‹ï¼Œå¯å±è”½ä¸åŒå­ç±»å¯¹è±¡ä¹‹é—´çš„å·®å¼‚ï¼Œå†™å‡ºé€šç”¨ä»£ç ã€‚å…·ä½“åœ°ï¼Œæˆ‘ä»¬å¯ä»å®ä¾‹ä¸­ç†è§£å¤šæ€ï¼š\n\n\t```python\n\tdef runTwice(animal):\n\t    animal.run()\n\t    animal.run()\n\t    \n\trunTwice( Animal() ) # è¾“å‡ºï¼šAnimal is running...\n\trunTwice( Dog() ) # è¾“å‡ºï¼šDog is running...\n\trunTwice( Cat() ) # è¾“å‡ºï¼šCat is running...\n\t```\n\n#### è·å–å¯¹è±¡ä¿¡æ¯\n- `type()` å‡½æ•°ï¼šå¯åˆ¤æ–­å¯¹è±¡ç±»å‹\n\t\n\t```python\n\t# åŸºæœ¬ç±»å‹\n\ttype(12345) # <class 'int'>\n\ttype('hello') # <class 'str'>\n\ttype(None) # <type(None) 'NoneType'>\n\n\t# å˜é‡æŒ‡å‘å‡½æ•°æˆ–è€…ç±»\n\ttype(abs) # <class 'builtin_function_or_method'>\n\n\t# type() å‡½æ•°è¿”å›ç±»å‹\n\ttype(12345) == int # True\n\ttype('HelloWorld') == str # True\n\t\n\t# åˆ¤æ–­å…¶ä»–ç±»å‹\n\timport types\n\ttype(abs) == types.BuiltinFunctionType # True\n\ttype(lambda x:x) == types.lambdaType # True\n\ttype( (x for x in range(10)) ) == types.GeneratorType # True\n\t```\n\t\n- `isinstance()` å‡½æ•°\n\t- åˆ¤æ–­åŸºæœ¬ç±»å‹ï¼š`isinstance('abc', str)`ï¼Œ`isinstance(b'a', bytes)`  \n\t- åˆ¤æ–­ class ç±»å‹ï¼šå¦‚æœ‰ç»§æ‰¿å…³ç³»ï¼Œå¦‚ `object -> Animal -> Dog`ï¼Œåˆ™æœ‰ï¼š  \n\ta = Animal() => isinstance(a, Animal) =>True  \n\td = Dog() => isinstance(d, Animal) =>True  \n\td = Dog() => isinstance(d, Dog) =>True  \n\n- `dir()` å‡½æ•°ï¼šè‹¥è¦è·å¾—ä¸€ä¸ªå¯¹è±¡çš„ `æ‰€æœ‰å±æ€§å’Œæ–¹æ³•`ï¼Œå¯ä½¿ç”¨è¯¥å‡½æ•°ã€‚å®ƒè¿”å›ä¸€ä¸ªåŒ…å«å­—ç¬¦ä¸²çš„ `list`ã€‚ä¾‹å¦‚ï¼Œè·å¾—ä¸€ä¸ª str å¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ã€‚\n\t\n\t```python\n\t# è¾“å‡ºï¼š['__add__', '__class__', ... 'zfill']\n\tdir('abc') \n\t```\n\t\n- ç±»ä¼¼ `__xxx___` çš„å±æ€§å’Œæ–¹æ³•åœ¨ Python ä¸­éƒ½æœ‰ç‰¹æ®Šç”¨é€”ã€‚å¦‚ `__len__()` æ–¹æ³•è¿”å›é•¿åº¦ã€‚è°ƒç”¨ `len()` å‡½æ•°ï¼Œåœ¨å‡½æ•°å†…éƒ¨å®é™…æ˜¯å®ƒè‡ªåŠ¨åœ°å»è°ƒç”¨è¯¥å¯¹è±¡çš„ `__len__ï¼ˆ)` æ–¹æ³•ï¼Œæ•…ä¸‹é¢ä»£ç æ˜¯ç­‰ä»·çš„ã€‚\n\t\n\t```python\n\tlen('abc') == 'abc'.__len__() # è¾“å‡º True\n\t```\n\t\n- ä»…ä»…æŠŠå±æ€§å’Œæ–¹æ³•åˆ—å‡ºæ¥æ˜¯ä¸å¤Ÿçš„ï¼Œé…åˆ `getattr()`ã€`setattr()` åŠ `hasattr()`ï¼Œæˆ‘ä»¬å¯ç›´æ¥æ“ä½œä¸€ä¸ª `å¯¹è±¡çš„çŠ¶æ€`ã€‚\n\n\t```python\n\tclass Retangle(object):\n\t    def __init__(self):\n\t        self.x = x\n\t        self.y = y\n\t    def area(self):\n\t        return self.x * self.y\n\t\n\trectangle = Rectangle(5, 10)\n\t\n\thasattr(rectangle, 'z') # æ˜¯å¦å«æœ‰å±æ€§ z\n\tsetattr(rectangle, 'z', 1) # è®¾ç½®ä¸€ä¸ªå±æ€§ zï¼Œä»¤å…¶ç­‰äº 1\n\tgetattr(rectangle, 'z') # è·å–å±æ€§ z\n\t\n\t# ä¹Ÿå¯ä»¥è·å¾—å¯¹è±¡æ–¹æ³•\n\tif hasattr(rectangle, 'area'):\n\t    fn = getattr(rectangle, 'area')\n\t```\n\n#### å®ä¾‹å±æ€§å’Œç±»å±æ€§\n- ç»™å®ä¾‹ç»‘å®šå±æ€§çš„æ–¹æ³•æ˜¯é€šè¿‡ `å®ä¾‹å˜é‡` èµ‹å€¼ï¼Œæˆ–é€šè¿‡ `self å˜é‡` èµ‹å€¼ã€‚\n\n\t```python\n\tclass Student(object):\n\t    # self å˜é‡èµ‹å€¼\n\t    def __init__(self, name, score):\n\t        self.name = name\n\t        self.score = score\n\t\n\tstu = Student('Bob', 80)\n\t# å®ä¾‹å˜é‡èµ‹å€¼\n\tstu.gender = 'male'\n\t```\n\t\n- ç»™ç±»ç»‘å®šå±æ€§ï¼Œç›´æ¥åœ¨ `class` ä¸­å®šä¹‰å±æ€§å³å¯ã€‚\n\n\t> Tipsï¼šç¼–å†™ç¨‹åºæ—¶ï¼Œä¸è¦å¯¹ `å®ä¾‹å±æ€§` å’Œ `ç±»å±æ€§` ä½¿ç”¨ç›¸åŒåç§°ï¼Œè‹¥å«æœ‰ç›¸åŒåç§°çš„å®ä¾‹å±æ€§ï¼Œå°†å±è”½æ‰åŒåç§°çš„ç±»å±æ€§ã€‚\n\t\n\t```python\n\tclass Student(object):\n\t    grade = 'postgraduate'\n\t    \n\tstu = Student('Lucy', 95)\n\tprint( stu.grade ) # ä¸ print(Student.grade()) æ•ˆæœç›¸åŒ\n\t```\n\n### é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹\n\n#### ä½¿ç”¨ @property\n- `å¼•å…¥`ï¼šåœ¨ã€Œ[è®¿é—®é™åˆ¶](https://www.kofes.cn/2018/09/life-is-short-we-need-python.html#è®¿é—®é™åˆ¶)ã€ç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡ setScore() å’Œ getScore() æ–¹æ³•å®ç°ä¿®æ”¹æ•°æ®å’Œè·å–æ•°æ®ï¼Œä»¥å®ç°æ•°æ®å°è£…ã€‚\n\n\té‚£ä¹ˆæœ¬èŠ‚æåŠ `@property`  å±æ€§ï¼Œåˆ°åº•æ˜¯ä½•æ„å›¾ï¼Ÿå…ˆçœ‹çœ‹åŸå§‹çš„ Setter å’Œ Getter ä½¿ç”¨æ–¹æ³•ï¼š\n\t\n\t```python\n\tclass Student(object):\n\t    # Getter æ–¹æ³•\n\t    def getScore(self):\n\t        return self.__score\n        \n\t    # Setter æ–¹æ³•\n\t    # setXXX() æ–¹æ³•è¿˜å¯ä¹¦å†™è§„åˆ™ä»¥çº¦æŸè¾“å…¥æ•°æ®æˆ–æ£€æŸ¥æ•°æ®\n\t    def setScore(self, score):\t        \n\t        if  0  <= score <= 100:\n\t            self.__score = score\n\t        else:\n\t            raise ValueError('Bad Score')\n\t\n\tstu = Student()\n\tstu.set_score(90)\n\tprint( stu.get_score() )\n\t```\n\t\n- `æ”¹è¿›`ï¼šåœ¨æ“ä½œé€»è¾‘å±‚é¢ï¼ŒPython è¿˜æä¾›äº†æ›´å¤šç‰¹æ€§ï¼Œæ—¢ç›´æ¥ `è°ƒç”¨å˜é‡çš„æ–¹å¼æ“ä½œå±æ€§`ï¼Œåˆä¸ç ´åæ•°æ®çš„å°è£…ç‰¹æ€§ï¼Œ`@property è£…é¥°å™¨` çš„ä½œç”¨å°±åœ¨äºæ­¤ã€‚\n\n\t```python\n\tclass Student(object):\n\n\t@property\n\tdef score(self):\n\t    return self.__score\n\n\t@score.setter\n\tdef score(self, value):\n\t    if not isinstance(value, int):\n\t        raise ValueError('Score must be an integer!')\n\t    if value < 0 or value > 100:\n\t        raise ValueError('score must between 0 ~ 100!')\n\t    self.__score = value\n\t    \n\tstu = Student()\n\tstu.score = 90 # å®é™…è½¬åŒ–ä¸º s.set_score(90)\n\tprint( stu.score ) # è¾“å‡º 90\n\t```\n\n#### å¤šé‡ç»§æ‰¿\n- ç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ä¸€ä¸ªé‡è¦çš„ç‰¹æ€§ã€‚é€šè¿‡ç»§æ‰¿ï¼Œå­ç±»å¯ä»¥æ‰©å±•çˆ¶ç±»çš„åŠŸèƒ½ã€‚\n- åœ¨ Python ä¸­ï¼Œå¤šå®ç°å¤šé‡ç»§æ‰¿ï¼Œå­ç±»å°±å¯åŒæ—¶è·å¾—å¤šä¸ªçˆ¶ç±»çš„æ‰€æœ‰åŠŸèƒ½ã€‚è¿™ç§è®¾è®¡æ¨¡å¼ä¹Ÿå« `MixIn`ã€‚\n\n\t> âš ï¸ åŒæ ·æ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹çš„è¯­è¨€ï¼ŒJava åªå…è®¸å•ç»§æ‰¿ï¼Œå³ä¸€ä¸ªç±»æœ€å¤šåªèƒ½æ˜¾ç¤ºåœ°ç»§æ‰¿äºä¸€ä¸ªçˆ¶ç±»ã€‚å½“ç„¶ï¼ŒJava è¦è·å¾—æ›´å¤š â€œå±æ€§èƒ½åŠ›â€ï¼Œä¹Ÿå¯é€šè¿‡å®ç°æ¥å£çš„æ–¹å¼å®ç°ã€‚\n\t\n\t```python\n\t# éœ€æ±‚ï¼šæˆ‘ä»¬èµ‹äºˆä¸åŒåŠ¨ç‰©ä¸åŒçš„èƒ½åŠ›\n\t\n\tclass Walking(object):\n\t    def walk(self):\n\t        print('Walking...')\n\t\n\tclass Swimming(object):\n\t    def swim(self):\n\t        print('Swimming...')\n\n\tclass Flying(object):\n\t    def fly(self):\n\t        print('Flying...')\n\t\n\t# å®šä¹‰ä¸€åŒæ –åŠ¨ç‰©ï¼šé€šè¿‡ç»§æ‰¿çˆ¶ç±»ï¼Œä»è€Œè·å¾—å¯¹åº”èƒ½åŠ›\n\tclass Amphibian(Walking, Swimming):\n\t    pass\n\t    \n\t# å®šä¹‰ä¸€åªå¤©é¹…ï¼šèƒ½èµ°èƒ½é£èƒ½æ¸¸æ³³\n\tclass Swan(Walking, Flying, Swimming):\n\t    pass\n\t```\n\n#### å®šåˆ¶ç±»\n- å½¢å¦‚ `__xxx__` çš„å˜é‡æˆ–è€…å‡½æ•°ååœ¨ Python ä¸­æ˜¯æœ‰ç‰¹æ®Šç”¨é€”çš„ã€‚ä¾‹å¦‚ï¼š`__slots__` ç”¨äºé™åˆ¶èƒ½ç»‘å®šçš„å±æ€§ï¼Œ`__len__()` æ–¹æ³•è¿”å›å¯¹è±¡æœ¬èº«çš„é•¿åº¦ã€‚\n\n\té™¤æ­¤ä¹‹å¤–ï¼ŒPython çš„ class ä¸­è¿˜æœ‰è®¸å¤šè¿™æ ·æœ‰ç‰¹æ®Šç”¨é€”çš„ `å±æ€§` å’Œ `å‡½æ•°`ï¼Œå¯å¸®åŠ©æˆ‘ä»¬å®šåˆ¶å±æ€§å’Œå®šåˆ¶ç±»ã€‚\n\n#####  \\_\\_slots\\_\\_\n- å½“æˆ‘ä»¬åˆ›å»ºä¸€ class å®ä¾‹åï¼Œå¯ç»™è¯¥å®ä¾‹ç»‘å®š `ä»»ä½•` å±æ€§å’Œæ–¹æ³•ï¼Œè¿™æ­£ä½“ç°äº†åŠ¨æ€è¯­è¨€çš„çµæ´»æ€§ã€‚\n\n\t```python\n\tclass Student(object):\n\t    pass\n\t\n\t# åˆ›å»ºå®ä¾‹\n\tstu = Student()\n\t\n\t# ç»‘å®šå±æ€§\n\tstu.name = 'Bob'\n\tstu.score = 80\n\t\n\t# ç»‘å®šæ–¹æ³•\n\tfrom types import MethodType\n\t\n\tdef setAge(self, age):\n\t    self.age = age\t\n\tstu.setAge = MethodType(setAge, stu) # ç»™å®ä¾‹ç»‘å®šæ–¹æ³•\n\tstu.setAge(25)\n\t\n\t# ä¸Šè¿°æ–¹å¼åªå¯¹æœ¬å®ä¾‹å¯¹è±¡æœ‰æ•ˆï¼Œè‹¥è¦æ‰€æœ‰å®ä¾‹å¯¹è±¡èµ·æ•ˆï¼Œåˆ™éœ€ç»™ class ç»‘å®šæ–¹æ³•\n\tdef setGrage(self, grade):\n\t    self.grade = grade\n\tStudent.setGrage = setGrage\n\t```\n\n- `åŠ¨æ€ç»‘å®š`ï¼šå…è®¸æˆ‘ä»¬åœ¨ç¨‹åºè¿è¡Œçš„è¿‡ç¨‹ä¸­åŠ¨æ€ç»™ class æ·»åŠ åŠŸèƒ½ (æ–¹æ³•)ã€‚\n- `é™å®šå®ä¾‹çš„å±æ€§`ï¼šå®šä¹‰ç‰¹æ®Šå˜é‡ `__slots__`ï¼Œå¯é™åˆ¶ class å®ä¾‹èƒ½æ·»åŠ çš„å±æ€§ã€‚\n\t- å½“å­ç±»å®šä¹‰äº† slots æ—¶ï¼Œå­ç±»ä¼šç»§æ‰¿çˆ¶ç±»çš„ slotsï¼Œé‚£ä¹ˆå­ç±»å®ä¾‹èƒ½æ·»åŠ çš„å±æ€§æ˜¯å­ç±»ä¸çˆ¶ç±» slots çš„ `å¹¶é›†`ã€‚\n\t- å½“å­ç±»å®šä¹‰ä¸­æ²¡æœ‰ slots æ—¶ï¼Œçˆ¶ç±»çš„ slots å¯¹å­ç±»ä¸èµ·ä½œç”¨ã€‚\n\n\t```python\n\tclass Student(object):\n\t    __slots__ = ('name', 'score', 'gender', 'age')\n\t    \n\tstu = Student()\n\tstu.email = 'admin@kofes.cn' # email ä¸åœ¨é™å®šå†…ï¼Œä¼šæŠ¥ AttributeError é”™è¯¯\n\t```\n\n##### \\_\\_getattr\\_\\_\n- æ­£å¸¸æƒ…å†µä¸‹ï¼Œå½“æˆ‘ä»¬è°ƒç”¨ç±»çš„æ–¹æ³•æˆ–å±æ€§ï¼Œè‹¥ä¸å­˜åœ¨åˆ™ä¼šæŠ¥é”™ã€‚ä¾‹å¦‚å®šä¹‰ Student ç±»ï¼š\n\n\t```python\n\tclass Student(object):\n\t    def __init__(self):\n\t        self.name = 'Bob'\n        \n\tstu = Student()\n\tprint(stu.name) # è¾“å‡º Bob\n\tprint(stu.score) # æ²¡æœ‰å¯¹åº”å±æ€§æ•…ä¼šæŠ¥ AttributeError é”™è¯¯\n\t```\n\t\n- è¦é¿å…è¿™ä¸ªé”™è¯¯ï¼Œé™¤äº†è¡¥ä¸Š score å±æ€§å¤–ï¼ŒPython è¿˜æœ‰å¦ä¸€ä¸ªæœºåˆ¶ï¼Œå³é€šè¿‡ `__getattr__()` æ–¹æ³•ï¼ŒåŠ¨æ€è¿”å›ä¸€ä¸ªå±æ€§ã€‚\n\n\t```python\n\tclass Student(object):\n\t    def __init__(self):\n\t        self.name = 'Bob'\n\t    def __getattr__(self, attr):\n\t        if 'score' == attr:\n\t            return 90\n\t            \n\t# æ³¨æ„ï¼šåªæœ‰åœ¨æ²¡æœ‰æ‰¾åˆ°å±æ€§çš„æƒ…å†µä¸‹ï¼Œæ‰è°ƒç”¨ __getattr__\n\t# å·²æœ‰çš„å±æ€§ï¼Œä¸ä¼šåœ¨ __getattr__ ä¸­æŸ¥æ‰¾\n\tprint(stu.score) # è¾“å‡º 90\n\t\n\t# æ³¨æ„ï¼šè‹¥åœ¨ __getattr__ ä¹Ÿæ²¡æœ‰åŒ¹é…å±æ€§ï¼Œåˆ™è¿”å› None\n\t# __getattr__ é»˜è®¤è¿”å› None\n\tprint(stu.age) # è¾“å‡º None\n\t```\n\t\n- è¦è®© class åªå“åº”ç‰¹å®šçš„å‡ ä¸ªå±æ€§ï¼Œæˆ‘ä»¬å°±è¦æŒ‰ç…§çº¦å®šï¼ŒæŠ›å‡º `AttributeError` é”™è¯¯å³å¯ï¼š\n\n\t```python\n\tclass Student(object):\n\t    def __init__(self):\n\t        self.name = 'Bob'\n\t    def __getattr__(self, attr):\n\t        if 'score' == attr:\n\t            return 90\n\t        raise AttributeError(\n\t            '\\'Student\\' object has no attribute \\'%s\\'' % attr)\n\t```\n\t\n##### \\_\\_iter\\_\\_\n- è‹¥æƒ³è®©ä¸€ä¸ªç±»ç”¨äº `for ... in` å¾ªç¯ï¼Œç±»ä¼¼ list æˆ– tuple é‚£æ ·ï¼Œå°±å¿…é¡»å®ç°ä¸€ä¸ª `__iter__()` æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è¿”å›ä¸€ä¸ª `è¿­ä»£å¯¹è±¡`ï¼Œç„¶å Python çš„ For å¾ªç¯å°±ä¼šä¸æ–­è°ƒç”¨è¯¥è¿­ä»£å¯¹è±¡çš„ `__next__()` æ–¹æ³•æ‹¿åˆ°å¾ªç¯çš„ä¸‹ä¸€ä¸ªå€¼ï¼Œç›´åˆ°é‡åˆ° `StopIteration` é”™è¯¯æ—¶é€€å‡ºå¾ªç¯ã€‚\n\n\tæˆ‘ä»¬ä»¥æ–æ³¢é‚£å¥‘æ•°åˆ—ä¸ºä¾‹ï¼Œå†™ä¸€ä¸ª Fib ç±»ä½œç”¨äº For å¾ªç¯ ï¼š\n\n\t```python\n\tclass Fib(object):\n\t    def __init__(self):\n\t        self.a, self.b = 0, 1 # åˆå§‹åŒ–ä¸¤ä¸ªè®¡æ•°å™¨ aï¼Œb\n\t\n\t    # æ–¹æ³•é‡å†™\n\t    def __iter__(self):\n\t        return self # å®ä¾‹æœ¬èº«å°±æ˜¯è¿­ä»£å¯¹è±¡ï¼Œæ•…è¿”å›è‡ªå·±\n\t\t\n\t    # æ–¹æ³•é‡å†™\n\t    def __next__(self):\n\t        self.a, self.b = self.b, self.a + self.b # è®¡ç®—ä¸‹ä¸€ä¸ªå€¼\n\t        if self.a > 100000: # é€€å‡ºå¾ªç¯çš„æ¡ä»¶\n\t            raise StopIteration()\n\t        return self.a # è¿”å›ä¸‹ä¸€ä¸ªå€¼\n\t\n\t# Fib å®ä¾‹ä½œç”¨äº For å¾ªç¯ï¼š  \n\tfor n in Fib():\n\t    print(n)\n\t```\n\n- å¯¹äºå®šåˆ¶ç±»ï¼Œæˆ‘ä»¬è®©å…¶å®ç°äº† `__iter__()` å’Œ `__next__()` æ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ª `Iterator` ç±»å‹çš„ï¼Œè¿™æ­£æ˜¯åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§ã€‚  \n\n\t{% note success %}\n\tè¿™ç§ç‰¹æ€§ç§°ä¸º `åŠ¨æ€è¯­è¨€` çš„ `é¸­å­ç±»å‹`ï¼ŒåŠ¨æ€è¯­è¨€å¹¶ä¸è¦æ±‚ä¸¥æ ¼çš„ç»§æ‰¿ä½“ç³»ï¼Œä¸€ä¸ªå¯¹è±¡åªè¦â€œçœ‹èµ·æ¥åƒé¸­å­ï¼Œèµ°èµ·è·¯æ¥åƒé¸­å­â€ï¼Œé‚£å®ƒå°±å¯ä»¥è¢«çœ‹åšæ˜¯é¸­å­ã€‚\n\t{% endnote %}\n\n##### \\_\\_call\\_\\_\n- ä¸€ä¸ªå¯¹è±¡å®ä¾‹å¯ä»¥æœ‰è‡ªå·±çš„å±æ€§å’Œæ–¹æ³•ï¼Œå½“æˆ‘ä»¬è°ƒç”¨å®ä¾‹æ–¹æ³•æ—¶ï¼Œä½¿ç”¨ `instance.method()` æ¥è°ƒç”¨ã€‚èƒ½ä¸èƒ½ç›´æ¥åœ¨å®ä¾‹æœ¬èº«ä¸Šè°ƒç”¨å‘¢ï¼Ÿ\n\n\tç­”æ¡ˆæ˜¯å¯ä»¥çš„ã€‚ä»»ä½•ç±»ï¼Œåªéœ€è¦å®šä¹‰ä¸€ä¸ª `__call__()` æ–¹æ³•ï¼Œå°±å¯ä»¥ç›´æ¥å¯¹å®ä¾‹è¿›è¡Œè°ƒç”¨ã€‚\n\t\n\t```python\n\tclass Student(object):\n\t    def __init__(self, name):\n\t        self.name = name\n\t    def __call__(self):\n\t        print('My name is %s.' % self.name)\n\t\n\t# è°ƒç”¨æ–¹å¼\n\tstu = Student('Bob')\n\tstu() # è¾“å‡º My name is Bob.\n\t```\n\n#####  æ›´å¤šå®šåˆ¶\n- Pythonçš„ class å…è®¸å®šä¹‰è®¸å¤šå®šåˆ¶æ–¹æ³•ï¼Œè®©æˆ‘ä»¬éå¸¸æ–¹ä¾¿åœ°ç”Ÿæˆç‰¹å®šçš„ç±»ã€‚æ›´å¤šçš„å®šåˆ¶æ–¹æ³•è¯·å‚è€ƒ Python çš„å®˜æ–¹æ–‡æ¡£ï¼š[Special Method Names](https://docs.python.org/3/reference/datamodel.html#special-method-names)ã€‚\n\n#### ä½¿ç”¨æšä¸¾ç±»\n- åœ¨ Python ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰å¸¸é‡æ˜¯é‡‡ç”¨ `çº¦å®šä¿—æˆ` çš„æ–¹æ³•æ¥å®šä¹‰çš„ï¼Œä¾‹å¦‚ï¼š`PI = 3.14159`ã€‚ä½†å…¶æœ¬è´¨ä»ç„¶æ˜¯ `å˜é‡`ã€‚\n- è€Œæœ¬èŠ‚ä»‹ç»çš„æšä¸¾ç±»ï¼Œé€šè¿‡ `Enum` å®šä¹‰ä¸€ä¸ª `class` ç±»å‹ï¼Œç„¶åï¼Œæ¯ä¸ªå¸¸é‡éƒ½æ˜¯ class çš„ä¸€ä¸ª `å”¯ä¸€å®ä¾‹`ã€‚ä¾‹å¦‚ï¼šå®šä¹‰ `Month` ç±»å‹çš„æšä¸¾ç±»ã€‚\n\n\t```python\n\tfrom enum import Enum\n\tMonth = Enum('Month', ('Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n\t    'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'))\n\t\n\tfor name, member in Month.__members__.items():\n\t    # value å±æ€§ï¼šåˆ™æ˜¯è‡ªåŠ¨èµ‹ç»™æˆå‘˜çš„ int å¸¸é‡ï¼Œé»˜è®¤ä» 1 å¼€å§‹è®¡æ•°\n\t    print(name, '=>', member, ',', member.value)\n\t\n\t'''\n\t' è¾“å‡ºç»“æœï¼š\n\t' Jan => Month.Jan , 1\n\t' Feb => Month.Feb , 2\n\t' Mar => Month.Mar , 3\n\t' Apr => Month.Apr , 4\n\t' May => Month.May , 5\n\t' Jun => Month.Jun , 6\n\t' Jul => Month.Jul , 7\n\t' Aug => Month.Aug , 8\n\t' Sep => Month.Sep , 9\n\t' Oct => Month.Oct , 10\n\t' Nov => Month.Nov , 11\n\t' Dec => Month.Dec , 12\n\t'''\n\t\n\t# å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è¿™æ ·è®¿é—®æšä¸¾ç±»\n\tprint( Month.Jan ) # è¾“å‡º Month.Jan\n\tprint( Month(1) ) # è¾“å‡º Month.Jan\n\tprint( Month['Jan'] ) # è¾“å‡º Month.Jan\n\tprint( Month.Jan.value ) # è¾“å‡º 1\n\t```\n\t\n- è‹¥æœ‰éœ€æ±‚ï¼Œæˆ‘ä»¬å¯ç²¾ç¡®åœ°æ§åˆ¶æšä¸¾ç±»å‹ï¼Œå³ä» `Enum` æ´¾ç”Ÿå‡ºè‡ªå®šä¹‰ç±»ï¼š\n\n\t```python\n\tfrom enum import Enum, unique\n\n\t@unique\n\t# @unique è£…é¥°å™¨å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ£€æŸ¥ä¿è¯æ²¡æœ‰é‡å¤å€¼\n\tclass Weekday(Enum):\n\t    Sun = 0\n\t    Mon = 1\n\t    Tue = 2\n\t    Wed = 3\n\t    Thu = 4\n\t    Fri = 5\n\t    Sat = 6\n\t```\n\n### é”™è¯¯/è°ƒè¯•/æµ‹è¯•\n\n#### é”™è¯¯å¤„ç†\n##### è¿”å›é”™è¯¯ç \n- åœ¨æ“ä½œç³»ç»Ÿæä¾›çš„è°ƒç”¨ä¸­ï¼Œè¿”å›é”™è¯¯ç éå¸¸å¸¸è§ã€‚æ¯”å¦‚æ‰“å¼€æ–‡ä»¶çš„å‡½æ•° open()ï¼ŒæˆåŠŸæ—¶è¿”å›æ–‡ä»¶æè¿°ç¬¦ (å°±æ˜¯ä¸€ä¸ªæ•´æ•°)ï¼Œå‡ºé”™æ—¶è¿”å› `-1`ã€‚åŒç†ï¼Œæˆ‘ä»¬è®¾è®¡å‡½æ•°æ—¶ï¼Œä¹Ÿå¯ç›¸ä»¿åœ°è®¾ç½®è¿”å›ä»£ç ã€‚\n\n\t```python\n\tRESULT_OK = 0\n\tRESULT_FALSE = -1\n\t\n\tdef test():\n\t    if false:\n\t        return RESULT_FALSE\n\t    return RESULT_OK\n\t```\n\t\n##### å¼‚å¸¸é”™è¯¯\n- é«˜çº§è¯­è¨€é€šå¸¸éƒ½å†…ç½®äº†ä¸€å¥— `try...except...finally...` çš„é”™è¯¯å¤„ç†æœºåˆ¶ï¼ŒPython ä¹Ÿä¸ä¾‹å¤–ï¼Œä½¿ç”¨æ–¹æ³•è§å®ä¾‹ï¼š\n\n\t```python\n\ttry:\n\t    result = 10 / int('2')\n\t    # result = 10 / 0\n\t    print('result:', result)\n\texcept ValueError as e:\n\t    # æŠ›å‡ºéæ•°å€¼å¼‚å¸¸é”™è¯¯\n\t    print('ValueError:', e)\n\texcept ZeroDivisionError as e:\n\t    # æŠ›å‡ºè¢«é™¤æ•°ä¸ºé›¶çš„å¼‚å¸¸é”™è¯¯\n\t    print('ZeroDivisionError:', e)\n\telse:\n\t    # è‹¥æ²¡æœ‰é”™è¯¯å‘ç”Ÿå¯åœ¨ except è¯­å¥å—ååŠ ä¸€ä¸ª else\n\t    # å½“æ²¡æœ‰é”™è¯¯å‘ç”Ÿæ—¶ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œelseè¯­å¥\n\t    print('no error!')\n\tfinally:\n\t    # è‹¥è®¾ç½®äº† finally åˆ™ä¸€å®šä¼šè¢«æ‰§è¡Œï¼Œä½†å¯ä¸è®¾ç½® finally è¯­å¥\n\t    print('finally...')\n\t```\n\t\n- Python çš„å¼‚å¸¸ç±»å‹å…¶å®ä¹Ÿæ˜¯ classï¼Œæ‰€æœ‰çš„å¼‚å¸¸ç±»å‹éƒ½ç»§æ‰¿è‡ª BaseExceptionï¼Œå¸¸è§çš„é”™è¯¯ç±»å‹å’Œç»§æ‰¿å…³ç³»è§ï¼š[Python. Exception hierarchy](https://docs.python.org/3/library/exceptions.html#exception-hierarchy)\n\n\tæ•…åœ¨ä½¿ç”¨ except æ—¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼šå®ƒä¸ä½†æ•è·è¯¥ç±»å‹çš„é”™è¯¯ï¼Œè¿˜æŠŠå…¶å­ç±»ä¹Ÿ â€œä¸€ç½‘æ‰“å°½â€ï¼Œä¾‹å¦‚ï¼š\n\t\n\t```python\n\ttry:\n\t    foo()\n\texcept ValueError as e:\n\t    print('ValueError')\n\texcept UnicodeError as e:\n\t    print('UnicodeError')\n\t    \n\t# å‡è®¾ foo() å‡½æ•°è¿è¡Œé”™è¯¯ï¼Œåˆ™è¾“å‡º \"ValueError\"\n\t# ç¬¬äºŒä¸ª except æ°¸è¿œä¹Ÿæ•è·ä¸åˆ° UnicodeError\n\t# å› ä¸º UnicodeError æ˜¯ ValueError çš„å­ç±»ï¼Œå³å¼‚å¸¸è¢«ç¬¬ä¸€ä¸ª except ç»™æ•è·äº†\n\t```\n\n##### è°ƒç”¨æ ˆ\n- åœ¨å‡½æ•°åµŒå¥—è°ƒç”¨ä¸­ï¼Œè‹¥é”™è¯¯æ²¡æœ‰è¢«æ•è·ï¼Œå®ƒå°±ä¼šä¸€ç›´å¾€ä¸ŠæŠ›ï¼Œç›´è‡³è¢« Python è§£é‡Šå™¨æ•è·ï¼Œå¹¶æ‰“å°ä¸€ä¸ªé”™è¯¯ä¿¡æ¯ç„¶åç¨‹åºé€€å‡ºã€‚å› æ­¤å½“å‘ç”Ÿé”™è¯¯æ—¶ï¼Œä¸€å®šè¦åˆ†æé”™è¯¯çš„ `è°ƒç”¨æ ˆ` ä¿¡æ¯ï¼Œå®šä½é”™è¯¯çš„ä½ç½®ï¼Œæ‰¾å‡º `é”™è¯¯æ ¹æº`ã€‚\n\n\t```python\n\t# err.py\n\t# å®šä¹‰å‡½æ•°\n\tdef foo(src):\n\t    return 10 / int(src)\n\tdef bar(src):\n\t    return foo(src) * 2\n\tdef main():\n\t    bar('0')\n\n\tmain() # è°ƒç”¨å‡½æ•°\n\n\t# æŠ›å‡ºå¼‚å¸¸é”™è¯¯ï¼Œé”™è¯¯çš„è·Ÿè¸ªä¿¡æ¯å¦‚ä¸‹ï¼š\n\tTraceback (most recent call last):\n\tFile \"err.py\", line 11, in <module>\n\t    main()\n\tFile \"err.py\", line 9, in main\n\t    bar('0')\n\tFile \"err.py\", line 6, in bar\n\t    return foo(s) * 2\n\tFile \"err.py\", line 3, in foo\n\t    return 10 / int(s)\n\tZeroDivisionError: division by zero\n\t```\n\n##### æŠ›å‡ºå¼‚å¸¸\n- å¼‚å¸¸ç±»å‹å±äº classï¼Œæ•è·ä¸€ä¸ªå¼‚å¸¸å°±æ˜¯æ•è·åˆ°è¯¥ class çš„ä¸€ä¸ªå®ä¾‹ã€‚å› æ­¤ï¼Œå¼‚å¸¸å¹¶ä¸æ˜¯å‡­ç©ºäº§ç”Ÿè€Œæ˜¯ `æœ‰æ„` åˆ›å»ºå¹¶æŠ›å‡ºçš„ã€‚Python çš„å†…ç½®å‡½æ•°ä¼šæŠ›å‡ºå¾ˆå¤šç±»å‹çš„é”™è¯¯ï¼Œæˆ‘ä»¬è‡ªå·±ç¼–å†™çš„å‡½æ•°ä¹Ÿå¯ä»¥æŠ›å‡ºå¼‚å¸¸ã€‚\n\n\tå¦‚æœè¦æŠ›å‡ºé”™è¯¯ï¼Œé¦–å…ˆæ ¹æ®éœ€è¦å®šä¹‰ä¸€ä¸ªå¼‚å¸¸çš„ classï¼Œå¹¶é€‰æ‹©å¥½ç»§æ‰¿å…³ç³»ï¼Œç„¶åç”¨ `raise` è¯­å¥æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸å®ä¾‹ï¼š\n\t\n\t```python\n\t# åªæœ‰åœ¨å¿…è¦çš„æ—¶å€™æ‰å®šä¹‰æˆ‘ä»¬è‡ªå·±çš„é”™è¯¯ç±»å‹\n\t# å°½é‡ä½¿ç”¨ Python å†…ç½®çš„é”™è¯¯ç±»å‹ï¼Œä¾‹å¦‚ ValueErrorï¼ŒTypeError\n\tclass FooError(ValueError):\n\t    pass\n\n\tdef foo(s):\n\t    n = int(s)\n\t    if 0 == n:\n\t        raise FooError('invalid value: %s' % s)\n\t    return 10 / n\n\n\tfoo('0')\n\t```\n \n#### è°ƒè¯•\n- æ¨è IDE è°ƒè¯•ï¼Œå³è®¾ç½®æ–­ç‚¹ã€å•æ­¥æ‰§è¡Œï¼Œå°±éœ€è¦ä¸€ä¸ªæ”¯æŒè°ƒè¯•åŠŸèƒ½çš„ IDEã€‚ç›®å‰æ¯”è¾ƒå¥½çš„ Python IDE æœ‰ï¼š `PyCharm` å’Œ `Eclipse vs pyDev`ã€‚\n\n#### å•å…ƒæµ‹è¯•\n- å•å…ƒæµ‹è¯•æ˜¯ç”¨æ¥å¯¹ä¸€ä¸ª `æ¨¡å—`ã€`å‡½æ•°` æˆ– `ç±»` æ¥è¿›è¡Œæ­£ç¡®æ€§æ£€éªŒçš„ `æµ‹è¯•` å·¥ä½œã€‚\n- è¿™ç§ä»¥ `æµ‹è¯•é©±åŠ¨` çš„å¼€å‘æ¨¡å¼æœ€å¤§çš„å¥½å¤„å°±æ˜¯ç¡®ä¿ä¸€ä¸ªç¨‹åºæ¨¡å—çš„è¡Œä¸ºç¬¦åˆæˆ‘ä»¬è®¾è®¡çš„ `æµ‹è¯•ç”¨ä¾‹`ã€‚åœ¨å°†æ¥ä¿®æ”¹çš„æ—¶å€™ï¼Œå¯ä»¥æå¤§ç¨‹åº¦åœ°ä¿è¯è¯¥æ¨¡å—è¡Œä¸ºä»ç„¶æ˜¯æ­£ç¡®çš„ã€‚\n- ä¸ºäº†ç¼–å†™å•å…ƒæµ‹è¯•ï¼Œæˆ‘ä»¬éœ€è¦å¼•å…¥ Python è‡ªå¸¦çš„ `unittest` æ¨¡å—ã€‚ä»¥ä¸‹ä¸ºä¸€ä¸ª `å•å…ƒæµ‹è¯•` çš„ç¤ºä¾‹ï¼š\n\n\t```python\n\timport unittest\n\t\n\t# ç»§æ‰¿unittest.TestCase\n\tclass MyTest(unittest.TestCase):  \n\t\n\t    # æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æ‰§è¡Œä¹‹ååšæ“ä½œ\n\t    def tearDown(self):\n\t        print('After each testcase...')\n\t        \n\t    # æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹æ‰§è¡Œä¹‹å‰åšæ“ä½œ\n\t    def setUp(self):\n\t        print('Before each testcase...')\n\n\t    @classmethod\n\t    # å¿…é¡»ä½¿ç”¨ @classmethod è£…é¥°å™¨ï¼Œæ‰€æœ‰ test è¿è¡Œå®Œåè¿è¡Œä¸€æ¬¡\n\t    def tearDownClass(self):\n\t        print('After all testing...')\n\t        \n\t    @classmethod\n\t    # å¿…é¡»ä½¿ç”¨ @classmethod è£…é¥°å™¨ï¼Œæ‰€æœ‰ test è¿è¡Œå‰è¿è¡Œä¸€æ¬¡\n\t    def setUpClass(self):\n\t        print('Before all testing...')\n\n\t    def testTestcaseA(self):\n\t        self.assertEqual(1, 1)  # æµ‹è¯•ç”¨ä¾‹\n        \n\t    def testTestcaseB(self, elem1 = 'a', elem2 = 'A'):\n\t        self.assertEqual(elem1, elem2)  # æµ‹è¯•ç”¨ä¾‹\n      \n\t# ä¸€æ—¦ç¼–å†™å¥½å•å…ƒæµ‹è¯•å°±å¯è¿è¡Œå•å…ƒæµ‹è¯•ï¼Œæœ€ç®€å•çš„è¿è¡Œæ–¹å¼æ˜¯åœ¨æœ€ååŠ ä¸Šä¸¤è¡Œä»£ç ï¼š\n\tif __name__ == '__main__':\n\t    unittest.main()\n\t```\n\n- ä¸‹é¢æ˜¯ä¸€äº›å¸¸ç”¨çš„æ–­è¨€ï¼Œä¹Ÿå°±æ˜¯æ ¡éªŒç»“æœï¼š\n\n\t```python\n\tassertEqual(a, b)\t\t# a == b\n\tassertNotEqual(a, b)\t\t# a != b\n\tassertTrue(x)\t\t\t# bool(x) is True\n\tassertFalse(x)\t\t\t# bool(x) is False\n\tassertIsNone(x)\t\t\t# x is None\n\tassertIsNotNone(x)\t\t# x is not None\n\tassertIn(a, b)\t\t\t# a in b\n\tassertNotIn(a, b)\t\t# a not in b\n\t```\n\n### é¢å‘ I/O ç¼–ç¨‹\n- `I/O`ï¼šå³è¾“å…¥/è¾“å‡º ( Input/Output )ã€‚\n\n- `I/O æ¥å£`ï¼šæ˜¯ `ä¸»æœº` ä¸ `è¢«æ§å¯¹è±¡` è¿›è¡Œ `ä¿¡æ¯äº¤æ¢` çš„çº½å¸¦ã€‚ä¾‹å¦‚ï¼Œç¨‹åºè¿è¡Œæ—¶æ•°æ®æ˜¯åœ¨å†…å­˜ä¸­é©»ç•™çš„ï¼Œç”± CPU æ¥æ‰§è¡Œè®¡ç®—ã€æ§åˆ¶ï¼Œå…¶ä¸­æ¶‰åŠåˆ°çš„æ•°æ®äº¤æ¢åˆ™ç”±ç£ç›˜ã€ç½‘ç»œç­‰å®ç°ã€‚å…·ä½“åœ°ï¼ŒI/O æ¥å£çš„åŠŸèƒ½å°±æ˜¯è´Ÿè´£é€‰å€ã€ä¼ é€å‘½ä»¤ã€ä¼ é€æ•°æ®ç­‰ã€‚\n\n- `I/O ç¼–ç¨‹`ï¼š`æ“ä½œ I/O` æ˜¯ç”± `æ“ä½œç³»ç»Ÿ` å®Œæˆçš„ï¼Œä¸”æ“ä½œç³»ç»Ÿä¼šæä¾›ä½çº§ `C æ¥å£`ï¼Œå³å¯¹ I/O æ“ä½œè¿›è¡Œ `å°è£…`ï¼Œé«˜çº§è¯­è¨€é€šè¿‡è°ƒç”¨ (å‡½æ•°) çš„æ–¹å¼å®ç°æ“ä½œ I/O çš„ç›®çš„ã€‚Python ä¹Ÿä¸ä¾‹å¤–ï¼Œå³é¢å‘ I/O æ¥å£ç¼–ç¨‹ã€‚\n\n- ç¨‹åºå®Œæˆ I/O æ“ä½œä¼šæœ‰ Input å’Œ Output ä¸¤ä¸ª `æ•°æ®æµ`ï¼š\n\t- `Stream (æµ)` æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µï¼Œå¯ä»¥æŠŠæµæƒ³è±¡æˆä¸€ä¸ªæ°´ç®¡ï¼Œæ•°æ®å°±æ˜¯æ°´ç®¡é‡Œçš„æ°´ï¼Œä½†æ˜¯åªèƒ½å•å‘æµåŠ¨ã€‚\n\t- `Input Stream` å°±æ˜¯æ•°æ®ä»å¤–é¢ (ç£ç›˜ã€ç½‘ç»œ) æµè¿›å†…å­˜ï¼Œ`Output Stream` å°±æ˜¯æ•°æ®ä»å†…å­˜æµåˆ°å¤–é¢å»ã€‚\n\n- éœ€è¦çŸ¥é“çš„æ˜¯ï¼ŒCPU çš„é€Ÿåº¦è¿œè¿œå¿«äºç£ç›˜ã€ç½‘ç»œç­‰ I/Oã€‚å› æ­¤ï¼Œä»£ç æ“ä½œ I/O æ¥å£æ—¶é€Ÿåº¦æ˜¯ä¼šäº§ç”Ÿä¸åŒ¹é…çš„é—®é¢˜ï¼Œè€ŒåŒæ­¥å’Œå¼‚æ­¥çš„åŒºåˆ«å°±åœ¨äºæ˜¯å¦ç­‰å¾… I/O æ‰§è¡Œçš„ç»“æœï¼Œæ•… I/O ç¼–ç¨‹æœ‰åˆ† `åŒæ­¥æ¨¡å‹` å’Œ `å¼‚æ­¥æ¨¡å‹`ã€‚\n\t- `åŒæ­¥ I/O`ï¼šåœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­ï¼ŒCPU æ‰§è¡Œä»£ç çš„é€Ÿåº¦æå¿«ï¼Œç„¶è€Œï¼Œä¸€æ—¦é‡åˆ° I/O æ“ä½œï¼Œå¦‚è¯»å†™æ–‡ä»¶ã€å‘é€ç½‘ç»œæ•°æ®æ—¶ï¼Œå°±éœ€è¦ç­‰å¾… I/O æ“ä½œå®Œæˆæ‰èƒ½ç»§ç»­è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚\n\n\t\t> å¼•ç”¨å»–è€å¸ˆçš„ä¾‹å­ï¼ŒåŒæ­¥ I/O æŒ‡ï¼šå»éº¦å½“åŠ³ç‚¹é¤ï¼Œä½ è¯´ â€œæ¥ä¸ªæ±‰å ¡â€ï¼ŒæœåŠ¡å‘˜å‘Šè¯‰ä½ ï¼Œå¯¹ä¸èµ·ï¼Œæ±‰å ¡è¦ç°åšéœ€ç­‰ 5 åˆ†é’Ÿï¼Œäºæ˜¯ä½ ç«™åœ¨æ”¶é“¶å°å‰é¢ç­‰äº† 5 åˆ†é’Ÿï¼Œå½“æ‹¿åˆ°æ±‰å ¡å†å»é€›å•†åœºã€‚\n\t\n\t-  `å¼‚æ­¥ I/O`ï¼šå½“ä»£ç éœ€è¦æ‰§è¡Œä¸€ä¸ªè€—æ—¶çš„ I/O æ“ä½œæ—¶ï¼Œå®ƒåªå‘å‡º I/O æŒ‡ä»¤å¹¶ä¸ç­‰å¾… I/O ç»“æœï¼Œç„¶åå»æ‰§è¡Œå…¶ä»–ä»£ç ã€‚ä¸€æ®µæ—¶é—´åï¼Œå½“ I/O è¿”å›ç»“æœæ—¶ï¼Œå†é€šçŸ¥ CPU è¿›è¡Œå¤„ç†ã€‚\n\t\n\t\t> å¼‚æ­¥ I/O æŒ‡ï¼šä½ è¯´â€œæ¥ä¸ªæ±‰å ¡â€ï¼ŒæœåŠ¡å‘˜å‘Šè¯‰ä½ ï¼Œæ±‰å ¡éœ€è¦ç­‰ 5 åˆ†é’Ÿï¼Œä½ å¯ä»¥å…ˆå»é€›å•†åœºï¼Œç­‰åšå¥½äº†æˆ‘ä»¬å†é€šçŸ¥ä½ ï¼Œè¿™æ ·ä½ å¯ä»¥ç«‹åˆ»å»å¹²åˆ«çš„äº‹æƒ… (é€›å•†åœº)ï¼Œè¿™æ˜¯å¼‚æ­¥ I/Oã€‚\n\n\t- åŒæ­¥ I/O ä¸ å¼‚æ­¥ I/O æ¨¡å‹çš„å®ç°åŸç†å¦‚å›¾ 6-10-1 æ‰€ç¤ºï¼š\n\n\t![å›¾ 6-10-1 åŒæ­¥ I/O ä¸ å¼‚æ­¥ I/O æ¨¡å‹çš„å®ç°åŸç†](/images/illustration/Programme/2018/09/life-is-short-we-need-python_6-10-1.png)\n\t<center>å›¾ 6-10-1 åŒæ­¥ I/O ä¸ å¼‚æ­¥ I/O æ¨¡å‹çš„å®ç°åŸç†</center>\n\n#### å­˜/å–æœ¬åœ°æ•°æ®\n- è¯»å†™æ–‡ä»¶æ˜¯æœ€å¸¸è§çš„ I/O æ“ä½œï¼ŒPython å†…ç½®äº†è¯»å†™æ–‡ä»¶çš„å‡½æ•°ï¼Œç”¨æ³•å’Œ C æ˜¯å…¼å®¹çš„ã€‚\n- åœ¨ç£ç›˜ä¸Šè¯»å†™æ–‡ä»¶çš„åŠŸèƒ½éƒ½æ˜¯ç”±æ“ä½œç³»ç»Ÿæä¾›çš„ï¼Œå³è¯»å†™æ–‡ä»¶å°±æ˜¯è¯·æ±‚æ“ä½œç³»ç»Ÿæ‰“å¼€ä¸€ä¸ª `æ–‡ä»¶å¯¹è±¡` (é€šå¸¸ç§°ä¸ºæ–‡ä»¶æè¿°ç¬¦)ï¼Œé€šè¿‡æ“ä½œç³»ç»Ÿæä¾›çš„æ¥å£ä»è¿™ä¸ªæ–‡ä»¶å¯¹è±¡ä¸­è¯»å–æ•°æ® (è¯»æ–‡ä»¶)ï¼Œæˆ–æŠŠæ•°æ®å†™å…¥è¿™ä¸ªæ–‡ä»¶å¯¹è±¡  (å†™æ–‡ä»¶)ã€‚\n\n##### è¯»æ–‡ä»¶\n- `open()` å‡½æ•°ï¼Œä¼ å…¥æ–‡ä»¶åå’Œæ ‡ç¤ºç¬¦ï¼š\n\n\t```python\n\ttry:\n\t    # ä»¥åªè¯»æ–¹å¼è¯»å…¥ test.txt æ–‡ä»¶\n\t    file = open('/Users/kofe/test.txt', 'r', encoding='utf-8') \n\t    \n\t    # è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ™æŠ›å‡º IOError çš„é”™è¯¯\n\t    # Traceback (most recent call last):\n\t    # File \"<stdin>\", line 1, in <module>\n\t    # FileNotFoundError: [Errno 2] No such file or directory: '...'\n\t    \n\t    # è‹¥æ–‡ä»¶æ‰“å¼€æˆåŠŸï¼Œè°ƒç”¨ read() æ–¹æ³•å¯ä¸€æ¬¡è¯»å–æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹\n\t    # Python æŠŠå†…å®¹è¯»åˆ°å†…å­˜ï¼Œç”¨ä¸€ä¸ª str å¯¹è±¡è¡¨ç¤º**\n\t    str = f.read()\n\tfinally:\n\t    if file:\n\t        f.close() # æ–‡ä»¶ä½¿ç”¨å®Œæ¯•åå¿…é¡»å…³é—­\n\t           \n\t# å½“ç„¶ï¼Œtry...finally...  çš„å†™æ³•å®åœ¨å¤ªç¹çï¼Œæ•… Python å¼•å…¥äº† with è¯­å¥å†™æ³•ï¼š\n\twith open('/Users/kofe/test.txt', 'r') as file:\n\t\tprint( file.read() )\n\t\n\t# è¯»å–æ–‡ä»¶çš„æ–¹å¼ï¼š\n\t# read()ï¼šé€‚åˆæ–‡ä»¶è¾ƒå°ï¼Œå¯ä¸€æ¬¡æ€§è¯»å–æ–‡ä»¶\n\t# read(size)ï¼šè‹¥ä¸èƒ½ç¡®å®šæ–‡ä»¶å¤§å°ï¼Œé€šè¿‡åå¤è°ƒç”¨è¯»å–æ–‡ä»¶\n\t# readlines()ï¼šè‹¥æ˜¯è¯»å–é…ç½®æ–‡ä»¶ï¼Œè¡Œè¯»å–æœ€ä¸ºæ–¹ä¾¿\n\tfor line in f.readlines():\n\t    print(line.strip()) # æŠŠæœ«å°¾çš„ '\\n' åˆ æ‰\n\t```\n\n##### File-like Object\n- è¦æƒ³æ“çºµä¸€ä¸ªæ–‡ä»¶ä½ éœ€è¦ä½¿ç”¨ `open()` å‡½æ•°æ‰“å¼€æ–‡ä»¶ï¼Œ`open()` å‡½æ•°è¿”å›ä¸€ä¸ª `ç±»æ–‡ä»¶å¯¹è±¡ (File-like Object)`ï¼Œè¿™å°±æ˜¯è¿™ä¸ªæ–‡ä»¶åœ¨ python ä¸­çš„æŠ½è±¡è¡¨ç¤ºã€‚é™¤äº† File å¤–ï¼Œè¿˜å¯ä»¥æ˜¯å†…å­˜çš„å­—èŠ‚æµï¼Œç½‘ç»œæµï¼Œè‡ªå®šä¹‰æµç­‰ã€‚\n- File-like Object ä¸è¦æ±‚ä»ç‰¹å®šç±»ç»§æ‰¿ï¼Œå°±å¦‚ [å®šåˆ¶ç±».iter](http://localhost:4000/2018/09/life-is-short-we-need-python.html#iter) ç« èŠ‚æ‰€æåŠçš„ `é¸­å­ç±»å‹`ï¼Œåªè¦æˆ‘ä»¬è®© `class` å®ç° `read()` æ–¹æ³•ï¼Œå®ƒå°±æ˜¯ File-like Objectã€‚\n\n##### äºŒè¿›åˆ¶æ–‡ä»¶\n- å‰é¢çš„æ“ä½œæ˜¯è¯»å–æ–‡æœ¬æ–‡ä»¶ï¼Œä¸”æ˜¯ `UTF-8` ç¼–ç çš„æ–‡æœ¬æ–‡ä»¶ã€‚è¦è¯»å–äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¾‹å¦‚å›¾ç‰‡ã€è§†é¢‘ç­‰ï¼Œç”¨ `rb` æ¨¡å¼æ‰“å¼€æ–‡ä»¶å³å¯ï¼š\n\n\t```python\n\tfile = open('/Users/kofe/test.jpg', 'rb')\n\tprint( file.read() )\n\t\n\t# è¾“å‡ºåå…­è¿›åˆ¶è¡¨ç¤ºçš„å­—èŠ‚ï¼š\n\tb'\\xff\\xd8\\xff\\x18Exif\\x00...'\t\n\t```\n\n##### å†™æ–‡ä»¶\n- å†™æ–‡ä»¶å’Œè¯»æ–‡ä»¶æ˜¯ä¸€æ ·çš„ï¼Œå”¯ä¸€åŒºåˆ«æ˜¯è°ƒç”¨ open() å‡½æ•°æ—¶ï¼Œä¼ å…¥æ ‡è¯†ç¬¦ `w` æˆ–è€… `wb` è¡¨ç¤ºå†™ `æ–‡æœ¬æ–‡ä»¶` æˆ– `å†™äºŒè¿›åˆ¶æ–‡ä»¶`ï¼š\n\n\t```python\n\t# å†™å…¥æ–‡ä»¶åï¼ŒåŠ¡å¿…è¦è°ƒç”¨ f.close() æ¥å…³é—­æ–‡ä»¶\n\t# ä½¿ç”¨ Try...finally... ï¼Œæˆ– With è¯­å¥çš„å†™æ³•ï¼š\n\twith open('/Users/kofe/test.txt', 'w') as file:\n\tfile.write('Hello, world!')\n\t```\n\n- æ‰€æœ‰æ¨¡å¼çš„å®šä¹‰åŠå«ä¹‰å¯å‚è€ƒ Python å®˜æ–¹æ–‡æ¡£ï¼š[Built-in Functions.open()](https://docs.python.org/3/library/functions.html#open)\n\n<center>è¡¨ 6-10-1 open() å‡½æ•°æ“ä½œæ–‡ä»¶çš„æ¨¡å¼</center>\n\n| æ ‡è¯†ç¬¦ | æè¿° |\n| :---: | :--- |\n| r | åªè¯»æ¨¡å¼ (é»˜è®¤) |\n| w | å†™å…¥æ¨¡å¼ (è¦†ç›–åŸæ–‡ä»¶) |\n| a |  è¿½åŠ æ¨¡å¼ (æ–‡ä»¶å­˜åœ¨åˆ™åœ¨æ–‡ä»¶å°¾éƒ¨è¿½åŠ ï¼Œåä¹‹åˆ™å»ºç«‹) |\n| b | äºŒè¿›åˆ¶æ ¼å¼ |\n| + | \tåˆ·æ–°æ‰“å¼€çš„ç£ç›˜æ–‡ä»¶ (è¯»ä¸å†™) |\n\n#### StringIO/BytesIO\n> `StringIO` å’Œ `BytesIO` æ˜¯åœ¨å†…å­˜ä¸­æ“ä½œ str å’Œ bytes çš„æ–¹æ³•ã€‚\n\n##### StringIO\n- æ•°æ®è¯»å†™ä¸ä¸€å®šæ˜¯æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥åœ¨å†…å­˜ä¸­è¯»å†™ã€‚\n- StringIO é¡¾åæ€ä¹‰å°±æ˜¯åœ¨å†…å­˜ä¸­è¯»å†™ strã€‚è¦æŠŠ str å†™å…¥ StringIOï¼Œæˆ‘ä»¬éœ€è¦å…ˆåˆ›å»ºä¸€ä¸ª StringIOï¼Œç„¶ååƒæ–‡ä»¶ä¸€æ ·å†™å…¥ï¼š\n\n\t```python\n\tfrom io import StringIO\n\tfile = StringIO()\n\tfile.write('Welcome to\\n Python World!')\n\t\n\twhile True:\n\t    s = file.readline()\n\t    if '' == s:\n\t        break\n\t    print( s.strip() )\n\t \n\t# è¾“å‡ºç»“æœï¼š\n\tWelcome to\n\tPython World!\n\t```\n\n##### BytesIO\n- StringIO æ“ä½œçš„åªèƒ½æ˜¯ strï¼Œå¦‚æœè¦æ“ä½œäºŒè¿›åˆ¶æ•°æ®ï¼Œå°±éœ€è¦ä½¿ç”¨ BytesIOã€‚\n- BytesIO å®ç°äº†åœ¨å†…å­˜ä¸­è¯»å†™ bytesã€‚\n\n\t```python\n\tfrom io import BytesIO\n\tfile = BytesIO()\n\tfile.write( 'ä¸­æ–‡'.encode('utf-8') )\n\tprint( file.getvalue() )\n\t\n\t# å†™å…¥çš„ä¸æ˜¯ strï¼Œè€Œæ˜¯ç»è¿‡ UTF-8 ç¼–ç çš„ bytesï¼š\n\tb'\\xe4\\xb8\\xad\\xe6\\x96\\x87'\n\t```\n\n#### æ“ä½œæ–‡ä»¶å’Œç›®å½•\n- è‹¥æˆ‘ä»¬è¦æ“ä½œæ–‡ä»¶ã€ç›®å½•ï¼Œå¯åœ¨å‘½ä»¤è¡Œä¸‹é¢è¾“å…¥æ“ä½œç³»ç»Ÿæä¾›çš„å„ç§å‘½ä»¤æ¥å®Œæˆã€‚ä¾‹å¦‚ dirã€cp ç­‰å‘½ä»¤ã€‚\n\n- è‹¥è¦åœ¨ Python ç¨‹åºä¸­æ‰§è¡Œè¿™äº›ç›®å½•å’Œæ–‡ä»¶çš„æ“ä½œæ€ä¹ˆåŠï¼Ÿå…¶å® Python å†…ç½®çš„ `os` æ¨¡å—ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨æ“ä½œç³»ç»Ÿæä¾›çš„ `æ¥å£å‡½æ•°`ã€‚\n\n\t```python\n\timport os\n\t\n\t# ç°å®æ“ä½œç³»ç»Ÿç±»å‹\n\t# posixï¼šLinuxã€Unix æˆ– Mac OS X\n\t# ntï¼šWindows\n\tprint( os.name )\n\t```\n\n##### ç¯å¢ƒå˜é‡\n- åœ¨æ“ä½œç³»ç»Ÿä¸­å®šä¹‰çš„ç¯å¢ƒå˜é‡ï¼Œå…¨éƒ¨ä¿å­˜åœ¨ `os.environ` è¿™ä¸ªå˜é‡ä¸­ï¼Œå¯ç›´æ¥æŸ¥çœ‹ï¼š\n\n\t```python\n\timport os\n\n\t# æ“ä½œç³»ç»Ÿä¸­å®šä¹‰çš„ç¯å¢ƒå˜é‡ï¼Œå…¨éƒ¨ä¿å­˜åœ¨os.environ å˜é‡ä¸­\n\tos.environ\n\t\n\t# è·å–æŸä¸ªç¯å¢ƒå˜é‡çš„å€¼ï¼šos.environ.get('key')\n\tos.environ.get('PATH')\n\t```\n\n##### æ“ä½œæ–‡ä»¶å’Œç›®å½•\n- æ“ä½œæ–‡ä»¶å’Œç›®å½•çš„å‡½æ•°ä¸€éƒ¨åˆ†æ”¾åœ¨ `os` æ¨¡å—ä¸­ï¼Œä¸€éƒ¨åˆ†æ”¾åœ¨ `os.path` æ¨¡å—ä¸­ã€‚\n- æŸ¥çœ‹ã€åˆ›å»ºå’Œåˆ é™¤ç›®å½•å¯ä»¥è¿™ä¹ˆè°ƒç”¨ï¼š\n\n\t```python\n\t# æŸ¥çœ‹å½“å‰ç›®å½•çš„ç»å¯¹è·¯å¾„\n\tos.path.abspath('.')\n\t\n\t# åœ¨æŸä¸ªç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°ç›®å½• (é¦–å…ˆæŠŠæ–°ç›®å½•çš„å®Œæ•´è·¯å¾„è¡¨ç¤ºå‡ºæ¥)\n\tos.path.join('/Users/kofe', 'testdir')\n\t# ç„¶ååˆ›å»ºä¸€ä¸ªç›®å½•\n\tos.mkdir('/Users/michael/testdir')\n\t\n\t# åˆ æ‰ä¸€ä¸ªç›®å½•\n\tos.rmdir('/Users/kofe/testdir')\n\t\n\t# æŠŠä¸¤ä¸ªè·¯å¾„åˆæˆä¸€ä¸ªæ—¶ï¼Œä¸è¦ç›´æ¥æ‹¼å­—ç¬¦ä¸²ï¼Œè€Œè¦é€šè¿‡ os.path.join() å‡½æ•°\n\t# åŒç†ï¼Œè¦æ‹†åˆ†è·¯å¾„æ—¶ï¼Œä¹Ÿä¸è¦ç›´æ¥å»æ‹†å­—ç¬¦ä¸²ï¼Œè€Œè¦é€šè¿‡ os.path.split() å‡½æ•°\n\tos.path.split('/Users/kofe/testdir/file.txt')\n\t('/Users/kofe/testdir', 'file.txt') # è¿”å›ä¸€ä¸ªå…ƒç»„ Tuple \n\n\t# ä¾‹å¦‚ï¼šos.path.splitext() å¯ç›´æ¥è®©ä½ å¾—åˆ°æ–‡ä»¶æ‰©å±•å\n\tos.path.splitext('/path/to/file.txt')\n\t('/path/to/file', '.txt') # è¿”å›ä¸€ä¸ªå…ƒç»„ Tuple \n\t```\n\t\n- æ–‡ä»¶æ“ä½œï¼š\n\n\t```python\n\t# å¯¹æ–‡ä»¶é‡å‘½å\n\tos.rename('test.txt', 'test.py')\n\t\n\t# åˆ æ‰æ–‡ä»¶\n\tos.remove('test.py')\n\t\n\t# ç„¶è€Œåœ¨ os æ¨¡å—ä¸­æ²¡æœ‰å…³äºå¤åˆ¶çš„å‡½æ•°\n\t# å€ŸåŠ© shutil æ¨¡å—æä¾›äº†copyfile() çš„å‡½æ•°å®ç°å¤åˆ¶ (os æ¨¡å—çš„è¡¥å……)\n\t```\n\t\n- åˆ©ç”¨ Python çš„ç‰¹æ€§æ“ä½œæ–‡ä»¶æˆ–ç›®å½•ï¼š\n\n\t```python\n\t# åˆ—å‡ºå½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•\n\t[x for x in os.listdir('.') if os.path.isdir(x)]\n\t```\n\n#### åºåˆ—åŒ–\n- åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œå˜é‡éƒ½æ˜¯åœ¨å†…å­˜ä¸­å­˜æ”¾çš„ã€‚å½“ `ç¨‹åºç»“æŸ`ï¼Œå˜é‡æ‰€å ç”¨çš„å†…å­˜å°†è¢«æ“ä½œç³»ç»Ÿ `å…¨éƒ¨å›æ”¶`ã€‚è‹¥åœ¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œæœ‰éœ€æ±‚ä¿å­˜ `å˜é‡` æˆ–è€… `å¯¹è±¡` çš„ `æ•°æ®` å’Œ `çŠ¶æ€ä¿¡æ¯`ï¼Œä»¥å¾…ä¸‹æ¬¡å¯åŠ¨ç¨‹åºæ—¶å¯ç›´æ¥åŠ è½½è¯¥å˜é‡æˆ–å¯¹è±¡ã€‚\n- `åºåˆ—åŒ–`ï¼šå°†å¯¹è±¡çš„çŠ¶æ€ä¿¡æ¯è½¬æ¢ä¸ºå¯ä»¥å­˜å‚¨æˆ–ä¼ è¾“çš„å½¢å¼çš„è¿‡ç¨‹ã€‚åœ¨åºåˆ—åŒ–æœŸé—´ï¼Œå¯¹è±¡å°†å…¶å½“å‰çŠ¶æ€å†™å…¥åˆ°ä¸´æ—¶æˆ–æŒä¹…æ€§å­˜å‚¨åŒºã€‚\n- `ååºåˆ—åŒ–`ï¼šå¯é€šè¿‡ä»å­˜å‚¨åŒºä¸­è¯»å–æˆ–ååºåˆ—åŒ–å¯¹è±¡çš„çŠ¶æ€ï¼Œé‡æ–°åˆ›å»ºè¯¥å¯¹è±¡ã€‚\n- åœ¨ Python ä¸­ï¼Œåºåˆ—åŒ–ç§°ä¸º `pickling`ï¼Œåœ¨å…¶ä»–è¯­è¨€ä¸­ä¹Ÿè¢«ç§°ä¸º `serialization`ã€`marshalling`ã€`flattening` ç­‰ã€‚Python æä¾›äº† `pickle` æ¨¡å—æ¥å®ç°åºåˆ—åŒ–ã€‚\n\n\t```python\n\timport pickle\n\t\t\n\tdict = {'name': 'Bob', 'age': 25, 'score': 90}\n\t\n\t### Case.01. å¯¹è±¡/å˜é‡ => Bytes => File æ–‡ä»¶\n\t\n\t# dump() å°†åºåˆ—åŒ–åçš„å¯¹è±¡ obj ä»¥äºŒè¿›åˆ¶å½¢å¼å†™å…¥æ–‡ä»¶ file ä¸­\n\twith open('./dump.txt', 'wb') as file:\n\t    pickle.dump(dict, file)\n\t# load() å°†åºåˆ—åŒ–çš„å¯¹è±¡ä»æ–‡ä»¶ file ä¸­è¯»å–å‡ºæ¥\n\twith open('./dump.txt', 'rb') as file:\n\t    dict = pickle.load(file)\n\t\n\t### Case.02. å¯¹è±¡/å˜é‡ => Bytes\n\t\n\t# dumps() æ–¹æ³•ä¸éœ€è¦å†™å…¥æ–‡ä»¶ä¸­ï¼Œå¯ç›´æ¥è¿”å›ä¸€ä¸ªåºåˆ—åŒ–çš„ bytes å¯¹è±¡\n\tdump = pickle.dumps(dict)\n\t# loads() åˆ™å¯ç›´æ¥è¯»å–ä¸€ä¸ªåºåˆ—åŒ–çš„ bytes å¯¹è±¡\n\tdict_sub = pickle.loads(dump) \n\t```\n\n#### JSON åŸºç¡€\n- `å¼•å…¥`ï¼šPickle çš„é—®é¢˜å’Œæ‰€æœ‰å…¶ä»–ç¼–ç¨‹è¯­è¨€ç‰¹æœ‰çš„åºåˆ—åŒ–é—®é¢˜ä¸€æ ·ï¼Œå°±æ˜¯å®ƒåªèƒ½ç”¨äº Pythonï¼Œä¸”å¯èƒ½ä¸åŒç‰ˆæœ¬çš„ Python å½¼æ­¤éƒ½ä¸å…¼å®¹ã€‚\n\n\tè‹¥æˆ‘ä»¬è¦åœ¨ä¸åŒçš„ç¼–ç¨‹è¯­è¨€ä¹‹é—´ä¼ é€’å¯¹è±¡ï¼Œå°±å¿…é¡»æŠŠ `å¯¹è±¡åºåˆ—åŒ–ä¸ºæ ‡å‡†æ ¼å¼`ï¼Œä¾‹å¦‚ XMLï¼Œä½† XML éœ€è¦è§£æè¯»å–ã€‚ä½†æ›´å¥½çš„æ–¹æ³•æ˜¯åºåˆ—åŒ–ä¸º JSONï¼Œå› ä¸º JSON è¡¨ç¤ºå‡ºæ¥å°±æ˜¯ä¸€ä¸ª `å­—ç¬¦ä¸²`ï¼Œå¯ä»¥è¢«æ‰€æœ‰è¯­è¨€è¯»å–ï¼Œä¸”æ–¹ä¾¿åœ°å­˜å‚¨åˆ°ç£ç›˜æˆ–è€…é€šè¿‡ç½‘ç»œä¼ è¾“ã€‚\n\t\n- `JSON` è¡¨ç¤ºçš„å¯¹è±¡å°±æ˜¯æ ‡å‡†çš„ `JavaScript` è¯­è¨€çš„å¯¹è±¡ï¼ŒJSON å’Œ Python å†…ç½®çš„æ•°æ®ç±»å‹å¯¹åº”å¦‚ä¸‹ï¼š\n\n<center>è¡¨ 6-10-2 JSON ç±»å‹ä¸ Python ç±»å‹çš„æ•°æ®ç±»å‹å¯¹åº”è¡¨</center>\n\n| JSON ç±»å‹ | Python ç±»å‹ |\n| :---: | :---: |\n| {} | dict |\n| [] | list |\n| \"String\" | str |\n| 10 / 3.14159 | int / float |\n| true / false | True / False |\n| null | None |\n\n-  Python å†…ç½®çš„ `json` æ¨¡å—æä¾›äº†éå¸¸å®Œå–„çš„ Python å¯¹è±¡åˆ° JSON æ ¼å¼çš„è½¬æ¢ï¼š\n\n\t```python\n\timport json\n\tdict = {'name': 'Bob', 'age': 25, 'score': 90}\n\t\n\t# dump() æ–¹æ³•å¯ä»¥ç›´æ¥æŠŠ JSON å†™å…¥ä¸€ä¸ª File-like Object\n\t# dumps() æ–¹æ³•è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå†…å®¹å°±æ˜¯æ ‡å‡†çš„ JSON\n\tjson_str = json.dumps(dict)\n\t\n\t# load() æ–¹æ³•ä»ä¸€ä¸ª File-like Object ä¸­ç›´æ¥ååºåˆ—åŒ–å‡ºå¯¹è±¡\n\t# loads() æŠŠ JSON çš„å­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸º Python å¯¹è±¡\n\tjson_str = '{\"name\": \"Bob\", \"age\": 25, \"score\": 90}'\n\tjson.loads(json_str)\n\t```\n\t\n- ç”±äº JSON æ ‡å‡†è§„å®š JSON ç¼–ç æ˜¯ `UTF-8`ï¼Œæ‰€ä»¥æˆ‘ä»¬æ€»æ˜¯èƒ½æ­£ç¡®åœ°åœ¨ Python çš„ str ä¸ JSON çš„å­—ç¬¦ä¸²é—´è½¬æ¢ã€‚\n\n#### JSON è¿›é˜¶\n- Python çš„ `dict = {'key': value}` å¯¹è±¡å¯ç›´æ¥åºåˆ—åŒ–ä¸º JSON çš„ `{\"key\": value}`ã€‚ä½†ä¸€èˆ¬æƒ…å†µï¼Œæˆ‘ä»¬å¸¸ç”¨ class è¡¨ç¤ºå¯¹è±¡ ( ä¾‹å¦‚ `Student` ç±» )ï¼Œå†åºåˆ—åŒ–è¯¥å¯¹è±¡ï¼š\n\n\t```python\n\timport json\n\n\tclass Student(object):\n\t    def __init__(self, name, age, score):\n\t        self.name = name\n\t        self.age = age\n\t        self.score = score\n\t\n\t# è¿è¡Œä»£ç ï¼Œå°†ä¼šæŠ¥ TypeError é”™è¯¯\n\tstu = Student('Bob', 25, 90)\n\tprint(json.dumps(stu))\n\t```\n\n- é€ æˆä¸Šè¿°é”™è¯¯çš„åŸå› æ˜¯ï¼šStudent å¯¹è±¡ä¸æ˜¯ä¸€ä¸ªå¯åºåˆ—åŒ–ä¸º JSON çš„å¯¹è±¡ã€‚\n\t\n\tå…¶å®ï¼Œä»”ç»†è§‚å¯Ÿ `dumps()` çš„å‚æ•°åˆ—è¡¨ï¼Œå¯ä»¥å‘ç°é™¤äº†ç¬¬ä¸€ä¸ªå¿…é¡»çš„ `obj` å‚æ•°å¤–ï¼Œ`dumps()` æ–¹æ³•è¿˜æä¾›äº†ä¸€å¤§å †çš„ [å¯é€‰å‚æ•°](https://docs.python.org/3/library/json.html#json.dumps)ï¼Œè¿™äº›å¯é€‰å‚æ•°å¯è®©æˆ‘ä»¬æ¥å®šåˆ¶ JSON åºåˆ—åŒ–ï¼š\n\n\t```python\n\t# é»˜è®¤æƒ…å†µä¸‹ dumps() ä¸çŸ¥é“å¦‚ä½•å°† Student å®ä¾‹å˜ä¸º JSON çš„ {\"key\": value}\n\t# æˆ‘ä»¬åªéœ€ä¸º Student å®ä¾‹ä¸“é—¨å†™ä¸€ä¸ªè½¬æ¢ (ç»„è£…) å‡½æ•°\n\tdef student2dict(std):\n\t    return {\n\t        'name': std.name,\n\t        'age': std.age,\n\t        'score': std.score\n\t    }\n\t\n\t# è¿™æ ·ï¼ŒStudent å®ä¾‹é¦–å…ˆè¢« student2dict() å‡½æ•°è½¬æ¢æˆ dictï¼Œå†è¢«åºåˆ—åŒ–ä¸º JSON\n\tprint( json.dumps(stu, default = student2dict) )\n\t```\n\t\n- å½“ç„¶ï¼Œè‹¥æˆ‘ä»¬é‡åˆ°ä¸€ä¸ª Teacher ç±»çš„å®ä¾‹ï¼Œç…§æ ·æ— æ³•åºåˆ—åŒ–ä¸º JSONã€‚å…¶å®å¯ä»¥é€šè¿‡ä¸€ç§ `é€šç”¨æ–¹æ³•` å°†ä»»æ„ class çš„å®ä¾‹å˜ä¸º dictã€‚\n\n\té€šå¸¸ class çš„å®ä¾‹éƒ½æœ‰ä¸€ä¸ª `__dict__` å±æ€§ï¼Œå®ƒæœ¬èº«ä¸€ä¸ª `dict`ï¼Œç”¨æ¥å­˜å‚¨å®ä¾‹å˜é‡ã€‚ä¹Ÿæœ‰å°‘æ•°ä¾‹å¤–ï¼Œæ¯”å¦‚å®šä¹‰äº† `__slots__` çš„ classã€‚\n\n\t```python\n\tprint( json.dumps(s, default = lambda obj: obj.__dict__) )\n\t```\n\n- åŒç†ï¼Œæˆ‘ä»¬éœ€è¦æŠŠ JSON ååºåˆ—åŒ–ä¸ºä¸€ä¸ª Student å®ä¾‹å¯¹è±¡ï¼Œ`loads()` æ–¹æ³•é¦–å…ˆè½¬æ¢å‡ºä¸€ä¸ª `dict` å¯¹è±¡ï¼Œç„¶åæˆ‘ä»¬ä¼ å…¥çš„ [object_hook](https://docs.python.org/3/library/json.html#json.load) å‡½æ•°ï¼Œå…¶è´Ÿè´£æŠŠ dict è½¬æ¢ä¸º Student å®ä¾‹å¯¹è±¡ã€‚\n\n\t```python\n\tdef dict2student(d):\n\t    return Student( d['name'], d['age'], d['score' ])\n\t    \n\tjson_str = '{\"age\": 25, \"score\": 90, \"name\": \"Bob\"}'\n\tprint( json.loads(json_str, object_hook = dict2student) )\n\t```\n\n#### åŒæ­¥ I/O\n- åœ¨æœ¬ç« å¼•è¨€éƒ¨åˆ†å·²è®²è¿° åŒæ­¥ I/O ä¸ å¼‚æ­¥ I/O æ¨¡å‹çš„åŒºåˆ«ï¼ŒåŒæ­¥æ¨¡å‹å³æŒ‰æ™®é€šé¡ºåºå†™æ‰§è¡Œä»£ç ï¼š\n\n\t```python\n\tdo_some_code()\n\tfile = open('/path/file.txt', 'r')\n\t\n\t# çº¿ç¨‹åœåœ¨æ­¤å¤„ç­‰å¾… I/O æ“ä½œç»“æœ\n\tr = file.read() \n\t\n\t# I/O æ“ä½œå®Œæˆåçº¿ç¨‹æ‰èƒ½ç»§ç»­æ‰§è¡Œ\n\tdo_some_code(r)\n\t```\n\n#### å¼‚æ­¥ I/O\n- åœ¨ I/O æ“ä½œè¿‡ç¨‹ä¸­ï¼Œç”±äºä¸€ä¸ª I/O æ“ä½œé˜»å¡äº†å½“å‰çº¿ç¨‹ï¼Œå¯¼è‡´å…¶ä»–ä»£ç æ— æ³•æ‰§è¡Œï¼Œæ•…æˆ‘ä»¬å¯ä½¿ç”¨å¤šçº¿ç¨‹æˆ–è€…å¤šè¿›ç¨‹æ¥ `å¹¶å‘` æ‰§è¡Œä»£ç ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬é€šè¿‡ `å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹` çš„æ¨¡å‹è§£å†³äº† `å¹¶å‘` é—®é¢˜ï¼Œä½†ç°å®æƒ…å†µæ˜¯ç³»ç»Ÿä¸èƒ½æ— ä¸Šé™åœ°å¢åŠ çº¿ç¨‹ï¼Œå› ä¸ºç³»ç»Ÿåˆ‡æ¢çº¿ç¨‹çš„å¼€é”€å¾ˆå¤§ï¼Œä¸€æ—¦çº¿ç¨‹æ•°é‡è¿‡å¤šï¼ŒCPU èŠ±åœ¨çº¿ç¨‹åˆ‡æ¢ä¸Šçš„æ—¶é—´å°±å¢å¤šï¼Œåˆ™å¯¼è‡´æ€§èƒ½ä¸¥é‡ä¸‹é™çš„ç»“æœã€‚\n\t\n\tCPU é«˜é€Ÿæ‰§è¡Œèƒ½åŠ›å’Œ I/O è®¾å¤‡çš„è¯»å†™é€Ÿåº¦ä¸¥é‡ä¸åŒ¹é…å¯¼è‡´çº¿ç¨‹é˜»å¡ã€‚å¤šçº¿ç¨‹å’Œå¤šè¿›ç¨‹åªæ˜¯è§£å†³è¿™ä¸€é—®é¢˜çš„ä¸€ç§æ–¹æ³•ï¼Œè€Œå¦ä¸€ç§è§£å†³ I/O é—®é¢˜çš„æ–¹æ³•å°±æ˜¯å¼‚æ­¥ I/Oã€‚\n\n- `å¼‚æ­¥ I/O æ¨¡å‹` éœ€è¦ä¸€ä¸ª `æ¶ˆæ¯å¾ªç¯`ã€‚åœ¨æ¶ˆæ¯å¾ªç¯ä¸­ï¼Œä¸»çº¿ç¨‹ä¸æ–­åœ°é‡å¤ `è¯»å–æ¶ˆæ¯ / å¤„ç†æ¶ˆæ¯` è¿™ä¸€è¿‡ç¨‹ï¼š\n\n\t```python\n\tloop = get_event_loop()\n\twhile True:\n\t    event = loop.get_event()\n\t    process_event(event)\n\t```\n\n##### åç¨‹\n> åœ¨å¼€å§‹å¼‚æ­¥ I/O æ¨¡å‹å­¦ä¹ å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ `åç¨‹` çš„æ¦‚å¿µã€‚\n\n- åç¨‹ ( Coroutine )ï¼Œåˆç§°å¾®çº¿ç¨‹ã€çº¤ç¨‹ã€‚åç¨‹ä¸æ˜¯è¿›ç¨‹æˆ–çº¿ç¨‹ï¼Œå…¶æ‰§è¡Œè¿‡ç¨‹æ›´ `ç±»ä¼¼äº` å­ç¨‹åºï¼Œæˆ–è€…è¯´ `ä¸å¸¦è¿”å›å€¼çš„å‡½æ•°è°ƒç”¨`ã€‚  \n\n\tä¾‹å¦‚ï¼šA è°ƒç”¨ Bï¼ŒB ä¸­åˆè°ƒç”¨äº† Cã€‚C æ‰§è¡Œå®Œæ¯•è¿”å›ï¼ŒB æ‰§è¡Œå®Œæ¯•è¿”å›ï¼Œæœ€åæ˜¯ A æ‰§è¡Œå®Œæ¯•ã€‚\n\n\t- å­ç¨‹åºè°ƒç”¨æ˜¯é€šè¿‡æ ˆå®ç°çš„ï¼Œ`ä¸€ä¸ªçº¿ç¨‹` å°±æ˜¯æ‰§è¡Œ `ä¸€ä¸ªå­ç¨‹åº`ã€‚å­ç¨‹åºè°ƒç”¨æ€»æ˜¯ `ä¸€ä¸ªå…¥å£`ï¼Œ`ä¸€æ¬¡è¿”å›`ï¼Œä¸” `è°ƒç”¨é¡ºåºæ˜¯æ˜ç¡®çš„`ã€‚\n\n\t- è€Œåç¨‹çš„è°ƒç”¨å’Œå­ç¨‹åºæ˜¯ä¸åŒçš„ã€‚åç¨‹çœ‹ä¸Šå»ä¹Ÿæ˜¯å­ç¨‹åºï¼Œä½†åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œ`è°ƒç”¨é¡ºåºä¸å›ºå®š`ï¼Œåœ¨å­ç¨‹åºå†…éƒ¨å¯ä¸­æ–­è½¬è€Œæ‰§è¡Œåˆ«çš„å­ç¨‹åºï¼Œåœ¨é€‚å½“çš„æ—¶å†è¿”å›æ¥æ¥ç€æ‰§è¡ŒåŸå­ç¨‹åºã€‚\n\t\n\t```python\n\tdef A():\n\t    print('1')\n\t    print('2')\n\n\tdef B():\n\t    print('x')\n\t    print('y')\n\t    \n\t# è‹¥ç”±åç¨‹æ‰§è¡Œï¼Œåœ¨æ‰§è¡Œ A çš„è¿‡ç¨‹ä¸­å¯éšæ—¶ä¸­æ–­å»æ‰§è¡Œ B\n\t# B ä¹Ÿå¯èƒ½åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¸­æ–­å†å»æ‰§è¡Œ Aï¼Œåˆ™æ‰§è¡Œç»“æœæœ‰ï¼š\n\t1\n\tx\n\ty\n\t2\n\t```\n\t\n- ä»ä¸Šè¿°ä¾‹å­ç»“æœå¯çœ‹å‡ºï¼ŒAã€B çš„æ‰§è¡Œæœ‰ç‚¹åƒå¤šçº¿ç¨‹ï¼Œä½†åç¨‹çš„ç‰¹ç‚¹åœ¨äºæ˜¯ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œé‚£å’Œå¤šçº¿ç¨‹æ¯”ï¼Œåç¨‹æœ‰ä½•ä¼˜åŠ¿ï¼Ÿ\n\n\t- `åç¨‹æé«˜çš„æ‰§è¡Œæ•ˆç‡`ï¼šå› ä¸ºå­ç¨‹åºåˆ‡æ¢ä¸æ˜¯çº¿ç¨‹åˆ‡æ¢ï¼Œè€Œæ˜¯ç”±ç¨‹åºè‡ªèº«æ§åˆ¶ã€‚å› æ­¤ï¼Œæ²¡æœ‰çº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ï¼Œå’Œå¤šçº¿ç¨‹ç›¸æ¯”ï¼Œçº¿ç¨‹æ•°é‡è¶Šå¤šåç¨‹çš„æ€§èƒ½ä¼˜åŠ¿å°±è¶Šæ˜æ˜¾ã€‚\n\n\t- `ä¸éœ€è¦å¤šçº¿ç¨‹çš„é”æœºåˆ¶`ï¼šå› ä¸ºåªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä¹Ÿä¸å­˜åœ¨åŒæ—¶å†™å˜é‡å†²çªï¼Œåœ¨åç¨‹ä¸­æ§åˆ¶å…±äº«èµ„æºä¸åŠ é”ï¼Œåªéœ€è¦åˆ¤æ–­çŠ¶æ€å°±å¥½äº†ï¼Œæ•…æ‰§è¡Œæ•ˆç‡ç›¸å¯¹å¤šçº¿ç¨‹è¦é«˜ã€‚\n\n- å› ä¸ºåç¨‹æ˜¯ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œï¼Œæ˜¯å¦å¯åˆ©ç”¨å¤šæ ¸ CPU è·å¾—æ›´é«˜çš„æ€§èƒ½ï¼Œè‹¥æ–¹æ¡ˆå¯è¡Œçš„è¯å¦‚ä½•æ“ä½œï¼Ÿæœ€ç®€å•çš„æ–¹æ³•æ˜¯ `å¤šè¿›ç¨‹` + `åç¨‹`ï¼Œæ—¢å……åˆ†åˆ©ç”¨å¤šæ ¸ï¼Œåˆå……åˆ†å‘æŒ¥åç¨‹çš„é«˜æ•ˆç‡ã€‚\n\n- Python å¯¹åç¨‹çš„æ”¯æŒæ˜¯é€šè¿‡ `generator` å®ç°çš„ï¼Œä¾‹å¦‚ï¼š\n\t- ä¼ ç»Ÿ `ç”Ÿäº§è€… - æ¶ˆè´¹è€…` æ¨¡å‹æ˜¯ï¼šä¸€ä¸ªçº¿ç¨‹å†™æ¶ˆæ¯ï¼Œä¸€ä¸ªçº¿ç¨‹å–æ¶ˆæ¯ï¼Œé€šè¿‡é”æœºåˆ¶æ§åˆ¶é˜Ÿåˆ—å’Œç­‰å¾…ï¼Œä½†æœ‰å¾ˆå¤§æœºç‡å‡ºç° `æ­»é”`ã€‚\n\t- è‹¥æ”¹ç”¨åç¨‹ï¼Œç”Ÿäº§è€…ç”Ÿäº§æ¶ˆæ¯åï¼Œç›´æ¥é€šè¿‡ `yield` è·³è½¬åˆ°æ¶ˆè´¹è€…å¼€å§‹æ‰§è¡Œï¼Œå¾…æ¶ˆè´¹è€…æ‰§è¡Œå®Œæ¯•ååˆ‡æ¢å›ç”Ÿäº§è€…ç»§ç»­ç”Ÿäº§ã€‚\n\n\t```python\n\tdef consumer():\n\t    result = ''\n\t    while True:\n\t        # Step.03. consumer é€šè¿‡ yield å–æ¶ˆæ¯å¹¶å¤„ç†ï¼Œå†é€šè¿‡ yield æŠŠç»“æœå›ä¼ \n\t        n = yield result\n\t        print('[CONSUMER] Consuming %s...' % n)\n\t        result = 'OK:' + str(n) # result å¯èƒ½æ˜¯ I/O æ“ä½œæˆ–è€—æ—¶ä»»åŠ¡\n\n\tdef produce(c):\n\t    # Step.01. é¦–å…ˆè°ƒç”¨ c.send(None) å¯åŠ¨ç”Ÿæˆå™¨\n\t    c.send(None)\n\t    n = 0\n\t    while n < 5:\n\t        n = n + 1\n\t        print('[PRODUCER] Producing %s...' % n)\n\t        # Step.02. å½“äº§ç”Ÿäº†ä¸œè¥¿åï¼Œé€šè¿‡ c.send(n) åˆ‡æ¢åˆ° consumer æ‰§è¡Œ\n\t        result = c.send(n)\n\t        # Step.04. produce æ‹¿åˆ° consumer çš„å¤„ç†ç»“æœï¼Œ(æˆ–) ç»§ç»­ç”Ÿäº§ä¸‹æ¡æ¶ˆæ¯\n\t        print('[PRODUCER] Consumer return: %s' % result)       \n\t    # Step.05. produce å†³å®šä¸ç”Ÿäº§äº†ï¼Œé€šè¿‡ c.close() å…³é—­ consumerï¼Œæ•´ä¸ªè¿‡ç¨‹ç»“æŸ\n\t    c.close()\n\n\t# å‡½æ•°è°ƒç”¨\n\tcons = consumer()\n\tproduce(cons)\n\t\n\t# è¾“å‡ºç»“æœ\n\t[PRODUCER] Producing 1...\n\t[CONSUMER] Consuming 1...\n\t[PRODUCER] Consumer return: OK:1\n\t[PRODUCER] Producing 2...\n\t[CONSUMER] Consuming 2...\n\t[PRODUCER] Consumer return: OK:2\n\t[PRODUCER] Producing 3...\n\t[CONSUMER] Consuming 3...\n\t[PRODUCER] Consumer return: OK:3\n\t```\n\n##### Asyncio\n- `asyncio` æ˜¯ `Python 3.4` ç‰ˆæœ¬å¼•å…¥çš„æ ‡å‡†åº“ï¼Œç›´æ¥å†…ç½®äº†å¯¹å¼‚æ­¥ I/O çš„æ”¯æŒã€‚\n- `asyncio` çš„ç¼–ç¨‹æ¨¡å‹æ˜¯ä¸€ä¸ª `æ¶ˆæ¯å¾ªç¯`ã€‚æˆ‘ä»¬ä» asyncio æ¨¡å—ä¸­ç›´æ¥è·å–ä¸€ä¸ª `EventLoop` çš„å¼•ç”¨ï¼Œç„¶åæŠŠéœ€è¦æ‰§è¡Œçš„åç¨‹æ‰”åˆ° EventLoop ä¸­æ‰§è¡Œï¼Œå°±å®ç°äº†å¼‚æ­¥ I/Oï¼Œå…·ä½“æ“ä½œå®ä¾‹ï¼š\n\t- `@asyncio.coroutine` æŠŠä¸€ä¸ª `generator` æ ‡è®°ä¸º `coroutine` ç±»å‹ï¼Œç„¶åï¼Œæˆ‘ä»¬å°±æŠŠè¿™ä¸ª coroutine æ‰”åˆ° EventLoop ä¸­æ‰§è¡Œã€‚\n\t- `hello()` ä¼šé¦–å…ˆæ‰“å°å‡º `Hello world!`ã€‚ç„¶åï¼Œ`yield from` è¯­æ³•å¯ä»¥è®©æˆ‘ä»¬æ–¹ä¾¿åœ°è°ƒç”¨å¦ä¸€ä¸ª generatorã€‚ç”±äº `asyncio.sleep()` ä¹Ÿæ˜¯ä¸€ä¸ª `coroutine`ï¼Œæ‰€ä»¥çº¿ç¨‹ä¸ä¼šç­‰å¾… `asyncio.sleep()`ï¼Œè€Œæ˜¯ç›´æ¥ä¸­æ–­å¹¶æ‰§è¡Œä¸‹ä¸€ä¸ªæ¶ˆæ¯å¾ªç¯ã€‚å½“ `asyncio.sleep()` è¿”å›æ—¶ï¼Œçº¿ç¨‹å°±å¯ä»¥ä» `yield from` æ‹¿åˆ°è¿”å›å€¼ ( æ­¤å¤„æ˜¯ None )ï¼Œç„¶åæ¥ç€æ‰§è¡Œä¸‹ä¸€è¡Œè¯­å¥ã€‚\n\n\t\t> è‹¥æˆ‘ä»¬æŠŠ asyncio.sleep(1) çœ‹æˆæ˜¯ä¸€ä¸ªè€—æ—¶ä¸€ç§’çš„ I/O æ“ä½œã€‚åœ¨æ­¤æœŸé—´ï¼Œä¸»çº¿ç¨‹å¹¶æœªç­‰å¾…ï¼Œè€Œæ˜¯å»æ‰§è¡Œ EventLoop ä¸­å…¶ä»–å¯ä»¥æ‰§è¡Œçš„ coroutineï¼Œå› æ­¤å®ç°äº† `å¹¶å‘æ‰§è¡Œ`ã€‚\n\n\t```python\n\timport asyncio\n\n\t@asyncio.coroutine\n\tdef hello():\n\t    print(\"Hello world!\")\n\t    # å¼‚æ­¥è°ƒç”¨ asyncio.sleep(1):\n\t    r = yield from asyncio.sleep(1)\n\t    print(\"Hello again!\")\n\n\t# è·å– EventLoop\n\tloop = asyncio.get_event_loop()\n\t# æ‰§è¡Œ coroutine\n\tloop.run_until_complete(hello())\n\tloop.close()\n\t```\n\t\n- `ä¸¾ä¸€åä¸‰`ï¼šæˆ‘ä»¬å°è¯•ç”¨ Task å°è£…ä¸¤ä¸ª coroutineï¼š\n\n\t```python\n\timport threading\n\timport asyncio\n\n\t@asyncio.coroutine\n\tdef hello():\n\t    print('Hello world! (%s)' % threading.currentThread())\n\t    yield from asyncio.sleep(1)\n\t    print('Hello again! (%s)' % threading.currentThread())\n\n\tloop = asyncio.get_event_loop()\n\ttasks = [hello(), hello()]\n\tloop.run_until_complete(asyncio.wait(tasks))\n\tloop.close()\n\t\n\t# è¾“å‡ºç»“æœ\n\t# ç”±æ‰“å°å½“å‰çº¿ç¨‹åç§°å¯çœ‹å‡ºï¼Œä¸¤ä¸ª coroutine ç”±åŒä¸€ä¸ªçº¿ç¨‹å¹¶å‘æ‰§è¡Œçš„\n\tHello world! (<_MainThread(MainThread, started 140735195337472)>)\n\tHello world! (<_MainThread(MainThread, started 140735195337472)>)\n\t(æš‚åœçº¦ 1 ç§’)\n\tHello again! (<_MainThread(MainThread, started 140735195337472)>)\n\tHello again! (<_MainThread(MainThread, started 140735195337472)>)\n\t```\n\t\n- `å…·ä½“åº”ç”¨åœºæ™¯`ï¼šæˆ‘ä»¬ asyncio çš„å¼‚æ­¥ç½‘ç»œè¿æ¥æ¥è·å– sinaã€sohu çš„é¦–é¡µã€‚\n\n\t```python\n\timport asyncio\n\n\t@asyncio.coroutine\n\tdef wget(host):\n\t    print('wget %s...' % host)\n\t    connect = asyncio.open_connection(host, 80)\n\t    reader, writer = yield from connect\n\t    header = 'GET / HTTP/1.0\\r\\nHost: %s\\r\\n\\r\\n' % host\n\t    writer.write(header.encode('utf-8'))\n\t    yield from writer.drain()\n\t    while True:\n\t        line = yield from reader.readline()\n\t        if line == b'\\r\\n':\n\t            break\n\t        print('%s header > %s' % (host, line.decode('utf-8').rstrip()))\n\t    # Ignore the body, close the socket\n\t    writer.close()\n\n\tloop = asyncio.get_event_loop()\n\ttasks = [wget(host) for host in ['www.sina.com.cn', 'www.sohu.com']\n\tloop.run_until_complete(asyncio.wait(tasks))\n\tloop.close()\n\t\n\t# è¾“å‡ºç»“æœ\n\twget www.sohu.com...\n\twget www.sina.com.cn...\n\t(æ‰“å°å‡ºsohuçš„header)\n\twww.sohu.com header > HTTP/1.1 200 OK\n\twww.sohu.com header > Content-Type: text/html\n\t...\n\t(æ‰“å°å‡º sina çš„ header)\n\twww.sina.com.cn header > HTTP/1.1 200 OK\n\twww.sina.com.cn header > Date: Wed, 20 May 2015 04:56:33 GMT\n\t...\n\t```\n\n##### Async / Await\n- ç”¨ asyncio æä¾›çš„ @asyncio.coroutine å¯æŠŠä¸€ä¸ª generator æ ‡è®°ä¸º coroutine ç±»å‹ï¼Œç„¶ååœ¨ coroutine å†…éƒ¨ç”¨ yield from è°ƒç”¨å¦ä¸€ä¸ª coroutine å®ç°å¼‚æ­¥æ“ä½œã€‚\n- ä¸ºç®€åŒ–å¹¶æ›´å¥½åœ°æ ‡è¯†å¼‚æ­¥ I/Oï¼Œä» `Python 3.5` å¼€å§‹å¼•å…¥äº†æ–°è¯­æ³• `async` å’Œ `await`ï¼Œå¯ä»¥è®© `coroutine` çš„ä»£ç æ›´ç®€æ´æ˜“è¯»ã€‚è¯·æ³¨æ„ï¼Œasync å’Œ await æ˜¯é’ˆå¯¹ coroutine çš„æ–°è¯­æ³•ï¼Œå³åªéœ€è¦åšä¸¤æ­¥ç®€å•çš„æ›¿æ¢ï¼š\n\t- æŠŠ `@asyncio.coroutine` æ›¿æ¢ä¸º `async`ï¼›\n\t- æŠŠ `yield from` æ›¿æ¢ä¸º `await`.\n\n\t```python\n\t# asyncio åŸè¯­æ³•ä¹¦å†™\n\t@asyncio.coroutine\n\tdef hello():\n\t    print(\"Hello world!\")\n\t    result = yield from asyncio.sleep(1)\n\t    print(\"Hello again!\")\n\t    \n\t# ç”¨æ–°è¯­æ³•é‡æ–°ç¼–å†™\n\tasync def hello():\n\t    print(\"Hello world!\")\n\t    result = await asyncio.sleep(1)\n\t    print(\"Hello again!\")\n\t    \n\t# å‰©ä¸‹çš„ä»£ç ä¿æŒä¸å˜\n\t```\n\n##### Aiohttp\n- asyncio å¯å®ç°å•çº¿ç¨‹å¹¶å‘ I/O æ“ä½œã€‚è‹¥ä»…ç”¨åœ¨å®¢æˆ·ç«¯ï¼Œå‘æŒ¥çš„å¨åŠ›ä¸å¤§ã€‚è‹¥åœ¨æœåŠ¡å™¨ç«¯ï¼Œä¾‹å¦‚WebæœåŠ¡å™¨ï¼Œç”±äºHTTPè¿æ¥å°±æ˜¯ I/O æ“ä½œï¼Œå› æ­¤å¯ä»¥ç”¨ `å•çº¿ç¨‹ + coroutine` å®ç°å¤šç”¨æˆ·çš„é«˜å¹¶å‘æ”¯æŒã€‚\n\n\tasyncio å®ç°äº† TCPã€UDPã€SSL ç­‰åè®®ï¼Œ`aiohttp` åˆ™æ˜¯åŸºäº asyncio å®ç°çš„ HTTP æ¡†æ¶ã€‚\n\n## å‚è€ƒèµ„æ–™\n- \\[1\\] [Eddie Woo. The RSA Encryption Algorithm. 2017. bilibili.com](https://www.bilibili.com/video/av10742893?from=search&seid=163310817147442185)  \n- \\[2\\] [John cui. è½»æ¾å­¦ä¹ RSAåŠ å¯†ç®—æ³•åŸç†. 2018. jianshu.com](https://www.jianshu.com/p/3221e07d3310)  \n- \\[3\\] [å»–é›ªå³°. Python æ•™ç¨‹. 2018. liaoxuefeng.com](https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001431664106267f12e9bef7ee14cf6a8776a479bdec9b9000)  \n- \\[4\\] [Dean J, Ghemawat S. MapReduce: simplified data processing on large clusters [J].  \nCommunications of the ACM, 2008, 51(1): 107-113.](https://dl.acm.org/citation.cfm?id=1327492)  \n- \\[5\\] [Wes McKinney. åˆ©ç”¨ Python è¿›è¡Œæ•°æ®åˆ†æ [M]. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾, 2013](https://book.douban.com/subject/25779298/)  \n- \\[6\\] [Python. The Python Standard Library. python.org](http://docs.python.org/3/library/functions.html) \n- \\[7\\] [æ¸è¡Œæ¸è¿œsilence. Windows ä¸‹å¤šç‰ˆæœ¬ Python å®‰è£…ä¸ pip å®‰è£…å’Œ pip ä½¿ç”¨. 2017. csdn.net](https://blog.csdn.net/silence2015/article/details/56483892)","tags":["çˆ¬è™«"],"categories":["Programme"]},{"title":"é¡¹ç›® | SVN ç¯å¢ƒæ­å»ºä¸ä½¿ç”¨","url":"%2F2018%2F08%2Fbuilding-a-svn-server.html","content":"\næœ€è¿‘æœ‰æœºä¼šæ¥è§¦åˆ°å…¬å¸çš„æ–°é¡¹ç›®ï¼Œå¯¹äºå¤šäººå‚ä¸çš„é¡¹ç›®ï¼Œæ­¤åˆ»æ‰æ„Ÿå—åˆ° `æºä»£ç ç‰ˆæœ¬æ§åˆ¶` çš„é‡è¦æ€§ã€‚é—æ†¾ä¹‹ä½™ï¼Œä¸ºäº†åŠ æ·±ç†è§£å’Œå¤ç”¨èµ·è§ï¼Œæœ¬æ–‡å°†ä» `æ­å»º`ã€`é…ç½®` å’Œ `ä½¿ç”¨` å¤šæ–¹é¢æ€»ç»“ SVN ( Subversionï¼Œå¼€æ”¾æºä»£ç çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ )ã€‚\n\nå½“ç„¶ï¼Œç‰ˆæœ¬æ§åˆ¶çš„å·¥å…·æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ CVSã€GITã€SVNã€‚CVS å‡ ä¹æ·˜æ±°ï¼›GIT é€‚åˆå¼€æºè½¯ä»¶é¡¹ç›®ï¼›SVN é€‚åˆä¼ä¸šå†…éƒ¨ç”±é¡¹ç›®ç»ç†ç»Ÿä¸€åè°ƒçš„å¤šä¸ªå¹¶è¡Œé¡¹ç›®çš„å¼€å‘ã€‚è€ƒè™‘åˆ°ç§ç§å› ç´ ï¼Œæˆ‘ä»¬ä¸èƒ½å•æ–¹é¢è¯„è®ºæ¯ç§ç‰ˆæœ¬æ§åˆ¶å·¥å…·çš„ä¼˜åŠ£ï¼Œæ•…é€‰æ‹©å“ªæ¬¾ç‰ˆæœ¬æ§åˆ¶å·¥å…·è§†å…·ä½“æƒ…å†µè€Œå®šã€‚\n\n<!-- More -->\n\n## æºä»£ç ç®¡ç†\n\n> ä»‹ç»å‚è€ƒäº†èµ„æ–™ [1]ã€‚ \n\n### ç®¡ç†çš„æ„ä¹‰\n- ç›®çš„ï¼šä¸ºäº†è§£å†³åœ¨è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸­ï¼Œç”±æºä»£ç å¼•å‘çš„å„ç§ç¹ççš„é—®é¢˜ã€‚\n- ä½œç”¨ï¼š\n\t- èƒ½è¿½è¸ªä¸€ä¸ªé¡¹ç›®ä»è¯ç”Ÿä¸€ç›´åˆ°å®šæ¡ˆçš„è¿‡ç¨‹ï¼›\n\t- è®°å½•ä¸€ä¸ªé¡¹ç›®çš„æ‰€æœ‰å†…å®¹å˜åŒ–ï¼Œæ–¹ä¾¿åœ°æŸ¥é˜…ç‰¹å®šç‰ˆæœ¬çš„ä¿®è®¢æƒ…å†µ.\n- å¸¸è§é—®é¢˜ï¼š\n\t- **ä»£ç å†²çª**ï¼šå¤šäººæ“ä½œåŒä¸€ä¸ªæ–‡ä»¶ ( å›¢é˜Ÿå¼€å‘ä¸­çš„å¸¸è§é—®é¢˜ )ï¼›\n\t- ç‰ˆæœ¬å¤‡ä»½ï¼šè´¹ç©ºé—´ ( å¤§æ•°æ®æ—¶ä»£ï¼Œå‚¨å­˜æˆæœ¬åè€Œæœ€ \"å»‰ä»·\" )ï¼›\n\t- æƒé™æ§åˆ¶ï¼šæ— æ³•å¯¹æºä»£ç è¿›è¡Œç²¾ç¡®çš„æƒé™æ§åˆ¶ï¼›\n\n### ç®¡ç†çš„å·¥å…·\n- CVSï¼šå†å²æ‚ ä¹…ï¼Œç°åœ¨å‡ ä¹æ²¡äººä½¿ç”¨ã€‚\n- SVNï¼š\n\t- é›†ä¸­å¼ç‰ˆæœ¬æ§åˆ¶çš„ä»£è¡¨ï¼›\n\t- CVS çš„æ¥ç­äººï¼Œé€Ÿåº¦å’ŒåŠŸèƒ½æ¯” CVS æœ‰å¾ˆå¤§å¹…åº¦æå‡.\n- GITï¼š\n\t- åˆ†å¸ƒå¼æºä»£ç ç®¡ç†å·¥å…·ï¼›\n\t- ç›®å‰è¢«å¤§å¤šæ•°å¼€æºé¡¹ç›®ä½¿ç”¨ã€‚\n\n## SVN æ¦‚å¿µæ¦‚è¿°\n- `Subversion` çš„ç®€ç§°ä¸º SVNï¼Œæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼›\n- SVN ç”¨äºå¤šä¸ªäººå…±åŒå¼€å‘åŒä¸€ä¸ªé¡¹ç›®ï¼Œç›®çš„æ˜¯ä¸ºäº†èµ„æºå…±äº«å…±ç”¨ï¼›\n- SVN æœåŠ¡å™¨æœ‰ 2 ç§ `è¿è¡Œæ–¹å¼`ï¼šç‹¬ç«‹æœåŠ¡å™¨å’Œå€ŸåŠ© Apacheã€‚ä¸¤ç§æ–¹å¼å„æœ‰åˆ©å¼Šï¼Œå¯è‡ªè¡Œé€‰æ‹©ã€‚\n- SVN `å­˜å‚¨ç‰ˆæœ¬æ•°æ®` ä¹Ÿæœ‰ 2 ç§æ–¹å¼ï¼š`Berkeley DB` ( äº‹åŠ¡å®‰å…¨å‹è¡¨ç±»å‹ ) å’Œ `FSFS` ( ä¸éœ€è¦æ•°æ®åº“çš„å­˜å‚¨ç³»ç»Ÿ )ã€‚å› ä¸º Berkeley DB æ–¹å¼åœ¨æœåŠ¡å™¨ä¸­æ–­æ—¶ï¼Œæœ‰å¯èƒ½é”ä½æ•°æ®ï¼Œæ•…é€‰æ‹© FSFS çš„å­˜å‚¨æ–¹å¼ä¼šæ›´å®‰å…¨ä¸€ç‚¹ã€‚\n\n## SVN ç¯å¢ƒæ­å»º\n\n### SVN æœåŠ¡å™¨\n- å®‰è£… SVN Server For `Windows`ï¼š[VisualSVN Server](https://www.visualsvn.com/server/download/) \n\n\té…ç½®æ˜¯é€šè¿‡ç•Œé¢æ“ä½œå®Œæˆçš„ï¼Œå…·ä½“å®‰è£…æµç¨‹å°±ä¸é˜è¿°äº†ï¼Œå¯å‚è€ƒå¼•ç”¨æ–‡ç« å®Œæˆé…ç½® $^{[1,2]}$ã€‚\n\n\t> Tips.01. å®‰è£…è¿‡ç¨‹ä¸­ï¼Œå…¶ä¸­ SVN æœåŠ¡å™¨ç«¯å£é…ç½®æ¨èä½¿ç”¨HTTPS çš„ `8443` ç«¯å£ï¼Œå› ä¸º HTTPS å®‰å…¨æ€§æ¯”è¼ƒé«˜ï¼Œå°½ç®¡ `443` æ˜¯æ ‡å‡† HTTPSportã€‚  \n\t> Tips.02. è¿˜æœ‰å°±æ˜¯ç”¨äºéªŒè¯çš„èº«ä»½é…ç½®ï¼šWindows éªŒè¯å’Œ Subversion èº«ä»½éªŒè¯ï¼Œé»˜è®¤æ˜¯ Subversion èº«ä»½éªŒè¯ã€‚\n\n- å®‰è£… SVN Server For `MacOS`ï¼šMacOS è‡ªå¸¦äº† SVN çš„æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯åŠŸèƒ½ã€‚å‚è€ƒå¼•ç”¨æ–‡ç« å®Œæˆé…ç½®å³å¯ä½¿ç”¨ $^{[3,4]}$ã€‚\n\n### SVN å®¢æˆ·ç«¯\n- Windows Clientï¼š[TortoiseSVN](https://tortoisesvn.net/downloads.html)\n- MacOS Clientï¼š[Cornerstone](https://cornerstone.assembla.com/)\n\n\t> åœ¨ MacOS ä¸Šå¯åˆ©ç”¨ SVN å›¾å½¢ç•Œé¢å·¥å…·æ¥ç®¡ç†æºä»£ç ï¼Œå¯ä»¥å¤§å¤§å‡å°ä½¿ç”¨å‘½ä»¤è¡Œçš„ç—›è‹¦ $^{[5]}$ã€‚\n\n### SVN é…ç½®ä¸ä½¿ç”¨\nWindows ç«¯é…ç½®å’Œä½¿ç”¨ SVNï¼Œå¯é€šè¿‡å›¾å½¢ç•Œé¢å·¥å…·å³å¯å®Œæˆæ“ä½œï¼Œè¯¦ç»†çš„æ­¥éª¤åœ¨å¼•ç”¨æ–‡ç«  [1]ã€[2] ä¸­ä¹Ÿæœ‰æåŠã€‚æ•…åœ¨æœ¬ç« èŠ‚ä¸»è¦è®²è¿° `Mac` ç¯å¢ƒä¸‹æ­å»ºå’Œé…ç½® SVNã€‚\n\n#### SVN æœåŠ¡ç«¯é…ç½®\n\n##### åˆ›å»ºä»£ç ä»“åº“\n- Step.01. æ–°å»ºä¸€ä¸ª `svn` ç›®å½•ï¼Œä¾‹å¦‚ `/Users/kofe/svn`ï¼Œä»¥åå¯åœ¨ `svn` ç›®å½•ä¸‹åˆ›å»ºå¤šä¸ªä»“åº“ç›®å½•ã€‚\n- Step.02. æ‰“å¼€ç»ˆç«¯ï¼Œåˆ›å»ºä¸€ä¸ªåä¸º `idea` ä»“åº“ï¼Œè¾“å…¥æŒ‡ä»¤ï¼š\n\n\t```bash\n\t# æŒ‡ä»¤æ‰§è¡ŒæˆåŠŸåï¼Œä¼šå‘ç°ç¡¬ç›˜ä¸Šå¤šäº†ä¸ª /Users/kofe/svn/idea ç›®å½•\n\tsvnadmin create /Users/kofe/svn/idea\n\t```\n\n##### é…ç½®ç”¨æˆ·æƒé™\nä¸»è¦æ˜¯ä¿®æ”¹ `/svn/idea/conf` ç›®å½•ä¸‹çš„ä¸‰ä¸ªæ–‡ä»¶ï¼š`svnserve.conf`ã€`Passwd` æ–‡ä»¶å’Œ `Authz` æ–‡ä»¶ã€‚\n\n- svnserve.conf\n\n\t```bash\n\t# anon-access = read ä»£è¡¨åŒ¿åè®¿é—®çš„æ—¶å€™æ˜¯åªè¯»çš„\n\t# anon-access = none ä»£è¡¨ç¦æ­¢åŒ¿åè®¿é—®ï¼Œéœ€è¦å¸å·å¯†ç æ‰èƒ½è®¿é—®\n\tanon-access = read\n\tauth-access = write\n\tpassword-db = passwd\n\tauthz-bd = authz\n\t```\n\n- Passwd æ–‡ä»¶ï¼šåœ¨ `[users]` ä¸‹é¢æ·»åŠ è´¦å·å’Œå¯†ç ã€‚\n\n\t```bash\n\t[users]\n\t# æ ¼å¼ï¼šè´¦å· = å¯†ç \n\tkofe = 123456\n\tlucy = 123456\n\t```\n\n- Authz æ–‡ä»¶ï¼šé…ç½®ç”¨æˆ·ç»„å’Œæƒé™æˆ‘ä»¬å¯ä»¥å°†åœ¨ Passwd é‡Œæ·»åŠ çš„ç”¨æˆ·åˆ†é…åˆ°ä¸åŒçš„ç”¨æˆ·ç»„é‡Œã€‚ä»¥åå°±å¯å¯¹ä¸åŒç”¨æˆ·ç»„è®¾ç½®ä¸åŒçš„æƒé™ï¼Œæ²¡æœ‰å¿…è¦å¯¹æ¯ä¸ªç”¨æˆ·è¿›è¡Œå•ç‹¬è®¾ç½®æƒé™ã€‚å³åœ¨ `[groups]` ä¸‹é¢æ·»åŠ ç»„åå’Œç”¨æˆ·åï¼Œå¤šä¸ªç”¨æˆ·ä¹‹é—´ç”¨é€—å· **,** éš”å¼€ã€‚\n\n\t```bash\n\t[groups] \n\tusergroup = kofe, lucy # æ ¼å¼ï¼šç»„å = ç”¨æˆ·1, ç”¨æˆ·2, ...\n\n\t# ä½¿ç”¨ [/] ä»£è¡¨ SVN æœåŠ¡å™¨ä¸­çš„æ‰€æœ‰èµ„æºåº“\n\t# æŸä¸ªç»„æœ‰è¯»å†™æƒé™\n\t[/]\n\t@usergroup = rw\n\n\t# ä½¿ç”¨ [/] ä»£è¡¨ SVN æœåŠ¡å™¨ä¸­çš„æ‰€æœ‰èµ„æºåº“\n\t# æŸä¸ªç”¨æˆ·æœ‰è¯»å†™æƒé™\n\t# lucy = rw\n\t```\n\n##### å¯åŠ¨å…³é—­æœåŠ¡\n- åœ¨ç»ˆç«¯è¾“å…¥ä¸‹åˆ—æŒ‡ä»¤ï¼šè‹¥æ²¡æœ‰ä»»ä½•æç¤ºï¼Œæ­å–œä½ å¯åŠ¨æˆåŠŸã€‚\n\n\t```bash\n\tsvnserve -d -r /Users/kofe/svn\n\t# æˆ–è¾“å…¥: svnserve -d -r /User/kofe/svn/idea\n\t```\n\n- å½“ç„¶ï¼Œä¼šå¯ç”¨ä¹Ÿè¦ä¼šå…³é—­ SVN æœåŠ¡å™¨ï¼Œç‰¹åˆ«æ˜¯é¦–æ¬¡é…ç½®å®Œ SVN æœåŠ¡å™¨éœ€è¦é‡å¯ã€‚  \n\tCase.01. åœ¨ `æ´»åŠ¨ç›‘è§†å™¨` ä¸­æœç´¢ `svn`, åœ¨åˆ—è¡¨ä¸­æ‰¾åˆ°è¿›ç¨‹ `svnserve`, ç‚¹å‡»å·¦ä¸Šè§’çš„`å¼ºåˆ¶é€€å‡ºè¿›ç¨‹`ã€‚  \n\tCase.02. æˆ–è€…å¯é€šè¿‡ shell è„šæœ¬å®ç°ä¸€é”®å…³é—­ã€‚  \n\t\n\t```bash\n\t#!/bin/sh\n\techo \"Current Process List:\"\n\techo \"= = = = = = = = = = =\"\n\tps -A | grep svn\n\techo \"= = = = = = = = = = =\"\n\tkill `pgrep \"svn\"`\n\n\techo \"Kill successfully!\" Current Process Status:\n\techo \"= = = = = = = = = = = = = = = = = = = = = =\"\n\tps -A | grep svn\n\techo \"= = = = = = = = = = = = = = = = = = = = = =\"\n\t```\n\n#### SVN å®¢æˆ·ç«¯æ“ä½œ\n\n##### ä»£ç ç‰ˆæœ¬æ§åˆ¶\n> å½“ç„¶ï¼Œå……åˆ†åˆ©ç”¨ SVN å›¾å½¢ç•Œé¢å·¥å…· ( [Cornerstone](https://cornerstone.assembla.com/) ) æ¥ç®¡ç†æºä»£ç ï¼Œå¯å¤§å¤§å‡å°ä½¿ç”¨å‘½ä»¤è¡Œçš„ç—›è‹¦ï¼Œæå‡ä½¿ç”¨æ•ˆç‡ã€‚\n\n- é¦–æ¬¡å¯¼å…¥å·¥ç¨‹æ–‡ä»¶åˆ° SVN æœåŠ¡å™¨ï¼š\n\n\t```bash\n\t# /Users/kofe/procedure/idea/SSM_DEMOï¼ŒæŒ‡çš„æ˜¯éœ€è¦å¯¼å…¥çš„å·¥ç¨‹æ–‡ä»¶\n\t# svn://localhost/idea æŒ‡æŠŠå·¥ç¨‹æ–‡ä»¶ä¸Šä¼ åˆ° idea ç›®å½•ä¸‹\n\t# --username=admin --password=123456 æŒ‡çš„æ˜¯æ ¡éªŒç”¨æˆ·åå’Œå¯†ç \n\t# -m \"åˆå§‹åŒ–å¯¼å…¥\" æŒ‡çš„æ˜¯æäº¤çš„ä¿¡æ¯æ³¨é‡Š\n\tsvn import /Users/kofe/procedure/idea/SSM_DEMO svn://localhost/idea --username=kofe --password=123456 -m \"åˆå§‹åŒ–å¯¼å…¥\"\n\t```\n\n- ä» SVN æœåŠ¡å™¨ä¸‹è½½å·¥ç¨‹æ–‡ä»¶åˆ°æœ¬åœ° ( Checkout )ï¼š\n\n\t```bash\n\tsvn checkout svn://localhost/idea --username=kofe --password=123456 /Users/kofe/procedure/idea\n\t```\n\t\n- äºŒæ¬¡æäº¤ä»£ç åˆ°æœåŠ¡å™¨ï¼šäºŒæ¬¡æäº¤æ˜¯æœ‰ä¸€ä¸ªå‰æçš„, é‚£å°±æ˜¯ä½ é¦–å…ˆéœ€è¦åœ¨ SVNæœåŠ¡å™¨ä¸Šä¸‹è½½ä»£ç åˆ°æœ¬åœ°ï¼Œç„¶åå†å»ä¿®æ”¹è¿™ä¸€ä»½ä»£ç , æ‰èƒ½å¤ŸäºŒæ¬¡æäº¤ã€‚\n\n\t```bash\n\tcd /Users/kofe/procedure/idea\n\tsvn commit -m \"ä¿®æ”¹éƒ¨åˆ†ä»£ç  (æ³¨é‡Šä¿®æ”¹çš„å†…å®¹)\"\n\t```\n\t\n- SVN åŸºæœ¬æ“ä½œåŸç†ï¼š\n\t- `svn checkout`ï¼šå°†æœåŠ¡å™¨ä»£ç å®Œæ•´ä¸‹è½½åˆ°æœ¬åœ°ã€‚\n\t- `svn update`ï¼šå°†æœåŠ¡å™¨æœ€æ–°çš„ä»£ç ä¸‹è½½åˆ°æœ¬åœ°ã€‚\n\t- `svn commit`ï¼šå°†æœ¬åœ°ä¿®æ”¹çš„å†…å®¹æäº¤åˆ°æœåŠ¡å™¨ã€‚\n\n\t![å›¾3-1SVN åŸºæœ¬æ“ä½œåŸç†](/images/illustration/Project/2018/08/building-a-svn-server_3-1.png)\n<center>å›¾ 3-1 SVN åŸºæœ¬æ“ä½œåŸç†</center>\n\n##### ä»£ç ç‰ˆæœ¬å†²çª\n- ç‰ˆæœ¬å†²çªåŸå› ï¼š\n\n\tå‡è®¾ Aã€B ä¸¤ç”¨æˆ·éƒ½åœ¨ç‰ˆæœ¬å·ä¸º 100 æ—¶æ›´æ–°äº† `sample.txt` æ–‡ä»¶ï¼ŒA ç”¨æˆ·åœ¨ä¿®æ”¹å®Œæˆä¹‹åæäº¤ sample.txt åˆ°æœåŠ¡å™¨ï¼Œè¿™ä¸ªæ—¶å€™æäº¤æˆåŠŸï¼Œè¿™ä¸ªæ—¶å€™ sample.txt æ–‡ä»¶çš„ç‰ˆæœ¬å·å·²ç»å˜æˆ 101 äº†ã€‚åŒæ—¶ B ç”¨æˆ·åœ¨ç‰ˆæœ¬å·ä¸º 100 çš„ sample.txt æ–‡ä»¶ä¸Šä½œä¿®æ”¹ï¼Œä¿®æ”¹å®Œæˆä¹‹åæäº¤åˆ°æœåŠ¡å™¨æ—¶ï¼Œç”±äºä¸æ˜¯åœ¨å½“å‰æœ€æ–°çš„ 101 ç‰ˆæœ¬ä¸Šä½œçš„ä¿®æ”¹ï¼Œæ‰€ä»¥å¯¼è‡´æäº¤å¤±è´¥ã€‚\n\n- ç‰ˆæœ¬å†²çªç°è±¡ï¼š\n\n\tå†²çªå‘ç”Ÿæ—¶ï¼ŒSVN ä¼šåœ¨å½“å‰å·¥ä½œç›®å½•ä¸­ä¿å­˜æ‰€æœ‰çš„ç›®æ ‡æ–‡ä»¶ç‰ˆæœ¬ [ ä¸Šæ¬¡æ›´æ–°ç‰ˆæœ¬ã€å½“å‰è·å–çš„ç‰ˆæœ¬ ( å³åˆ«äººæäº¤çš„ç‰ˆæœ¬ )ã€è‡ªå·±æ›´æ–°çš„ç‰ˆæœ¬ã€ç›®æ ‡æ–‡ä»¶ ]ã€‚  å‡è®¾æ–‡ä»¶åæ˜¯ `sample.txt` ï¼Œå¯¹åº”çš„æ–‡ä»¶ååˆ†åˆ«æ˜¯ ( åŒæ—¶åœ¨ç›®æ ‡æ–‡ä»¶ä¸­æ ‡è®°æ¥è‡ªä¸åŒç”¨æˆ·çš„æ›´æ”¹ )ï¼š\n\n\t```bash\n\tsample.txt.r101\n\tsample.txt.r102\n\tsample.txt.mine\n\tsample.txt\n\t```\n\t\n- `æ‰‹å·¥åˆå¹¶` SVN å†²çª $^{[6]}$ï¼Œå¼€å§‹çš„æ—¶å€™è®©äººè§‰å¾—å®³æ€•ï¼Œä½†æœ‰è§„å¾‹å¯å¾ªã€‚ä¾‹å¦‚æœ‰ä»¥ä¸‹æ–‡æœ¬ï¼š\n\n\t```java\n\tMayonnaise\n\tLettuce\n\tTomato\n\tProvolone\n\t<<<<<<<.mine\n\tSalami\n\tMortadella\n\tProsciutto\n\t=======\n\tSauerkraut\n\tGrilledChicken\n\t>>>>>>>.r2\n\t```\n\n\tä¸€è¿ä¸²çš„å¤§äºã€å°äºã€ç­‰äºå·æ˜¯ SVN å†²çªæ ‡è®°ï¼Œè¿™äº›æ•°æ®å¾—å…¨éƒ¨åˆ é™¤æ‰å¯ä»¥æäº¤ã€‚åœ¨ SVN å†²çªåŒºä¸­ï¼Œæˆ–è®¸ä½ éœ€è¦å’Œä½ çš„åŒäº‹æ²Ÿé€šæ¥å®‰æ’å†²çªåŒºçš„æ–‡æœ¬å†…å®¹ï¼Œå¾…æ‰€æœ‰å†²çªåŒºå¾—åˆ°åˆç†çš„è§£å†³ä¹‹åæ–¹å¯å†æäº¤æ–‡ä»¶ã€‚\n\n\t```java\n\t// æ˜¯ä½ åœ¨å†²çªåŒºé‡Œé¢åšçš„ä¿®æ”¹\n\t<<<<<<<.mine\n\tSalami\n\tMortadella\n\tProsciutto\n\t=======\n\n\t// æ˜¯åˆ«äººåœ¨å†²çªåŒºåšçš„ä¿®æ”¹\n\tSauerkraut\n\tGrilledChicken\n\t>>>>>>>.r2\n\t```\n\t\n- å¦‚ä½•é™ä½å†²çªè§£å†³çš„å¤æ‚åº¦ï¼š\n\t- åœ¨æäº¤æ—¶å†™ä¸Šæ˜ç¡®çš„ Message ( æ³¨é‡Š )ï¼Œæ–¹ä¾¿ä»¥åæŸ¥æ‰¾ç”¨æˆ·æ›´æ–°çš„åŸå› ã€‚\n\t- å…»æˆè‰¯å¥½çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œä½¿ç”¨ SVN æ—¶æ¯æ¬¡éƒ½æ˜¯å…ˆæäº¤ï¼Œåæ›´æ–°ã€‚æ¯å¤© `æ—©ä¸Š` æ‰“å¼€åï¼Œé¦–å…ˆè¦ä»ç‰ˆæœ¬åº“ `è·å–æœ€æ–°ç‰ˆæœ¬`ï¼Œæ¯å¤© `ä¸‹ç­å‰` å¿…é¡»å°†å·²ç»ç¼–è¾‘è¿‡çš„æ–‡æ¡£éƒ½ `æäº¤` åˆ°ç‰ˆæœ¬åº“ã€‚\n\n## å‚è€ƒèµ„æ–™ \n\\[1\\] [PhelanGeek. SVN æœåŠ¡å™¨æ­å»ºæ•™ç¨‹. jianshu.com. 2016](https://www.jianshu.com/p/96f2db36044b)  \n\\[2\\] [RealLiuNing. Windows 10 æ­å»ºç‹¬ç«‹ SVN æœåŠ¡å™¨. jianshu.com. 2018](https://juejin.im/post/5b0e50f5f265da08ec33b74e)  \n\\[3\\] [CainLuo. æ­å»º MacOS æœ¬åœ° SVN æœåŠ¡å™¨. juejin.im. 2016](https://juejin.im/post/58209be1a0bb9f0058c08452)  \n\\[4\\] [Sunny Fight. iOS ç‰ˆæœ¬æ§åˆ¶ SVN (Mac ç¯å¢ƒä¸‹ SVN çš„ä½¿ç”¨). jianshu.com. 2016](https://www.jianshu.com/p/66f085556fb2)  \n\\[5\\] [å¤©è“. SVN åœ¨ Mac ä¸Šä½¿ç”¨ Xcode+Cornerstone. jianshu.com. 2017](https://www.jianshu.com/p/650342b0a0ce)  \n\\[6\\] [aaronGao. svn conflict å†²çªè§£å†³. cnbologs.com. 2016](https://www.cnblogs.com/aaronLinux/p/5521844.html)","tags":["ç‰ˆæœ¬æ§åˆ¶"],"categories":["Project"]},{"title":"æ¡†æ¶ | Java EE ä¹‹ SSM æ¡†æ¶é…ç½®ä¸ä½¿ç”¨","url":"%2F2018%2F08%2FJ2EE-SSM-1.html","content":"\n## åºè¨€\næœ¬æ–‡ç« ä¸»è¦å›´ç»• J2EE ä¸­ SSM ( Springã€Spring MVCã€MyBatis ) æ¡†æ¶çš„é…ç½®ä»¥åŠä½¿ç”¨é—®é¢˜å±•å¼€å­¦ä¹ çš„ï¼Œæœ€ç»ˆç›®çš„æ˜¯è¾“å‡ºå¯å¤ç”¨çš„ç‰ˆæœ¬ï¼Œä»¥ä¾›åç»­çš„é¡¹ç›®å¤ç”¨ã€‚å½“ç„¶ï¼Œå­¦ä¹ å’Œé…ç½®çš„è¿‡ç¨‹éš¾å…æœ‰ä¸æ°å½“æˆ–é”™è¯¯ä¹‹å¤„ï¼Œè¿˜æœ›æœ‹å‹æŒ‡å‡ºã€æ–§æ­£ã€‚\n\n<!-- More -->\n\n## æ›´æ–°è¿›åº¦\n- 2018.08.13ï¼šå®Œæˆåˆç¨¿ï¼Œæ¢³ç† SSM æ¡†æ¶åˆè¯†ç« èŠ‚ï¼›\n- 2018.08.20ï¼šæ¡†æ¶å†…å®¹ï¼Œæ¢³ç† SSM æ¡†æ¶åŸºæœ¬å†…å®¹ï¼›\n- 2018.08.24ï¼šæ¡†æ¶å†…å®¹ï¼Œä¿®æ­£ SSM æ¡†æ¶éƒ¨åˆ†å†…å®¹ï¼›\n- 2018.08.26ï¼šæ¡†æ¶å†…å®¹ï¼Œæ•´åˆ Spring å’Œ MyBatisï¼›\n\n## æ•™å­¦èµ„æº\n- è§†é¢‘ | [é»‘é©¬ç¨‹åºå‘˜. J2EE è¿›é˜¶. MyBatis æ¡†æ¶ç”±æµ…å…¥æ·±. 2017. bilibili.com](https://www.bilibili.com/video/av20394903)\n\n\t> æœ¬æ¡†æ¶çš„å­¦ä¹ ç¬”è®°æ˜¯åŸºäºæ­¤ç³»åˆ—æ•™å­¦è§†é¢‘æ‰€å¾—çš„ã€‚\n\t\n- æ–‡ç«  | [å´æ“. æ­å»ºä¸€ä¸ªåŸºäº SSM æ¡†æ¶çš„äººåŠ›èµ„æºç®¡ç†ç³»ç»Ÿ. 2018. csdn.net](https://blog.csdn.net/noaman_wgs/article/details/79503559)\n\n\t> å‘ç°è¿™ä½åšä¸»æ­å»ºçš„ä¾‹å­ ( [nomico271. SSM_HRMS. Github](https://github.com/nomico271/SSM_HRMS) ) ç´§å‡‘ã€ç®€ç»ƒï¼Œé€‚åˆåˆå…¥é—¨æ—¶æ¥æ¨¡ä»¿æ„å»ºè‡ªå·±çš„é¡¹ç›®ã€‚\n\n## IDE æ­å»º\nIDE æ­å»ºä»¥ [Java EE ä¹‹ SSH æ¡†æ¶é…ç½®ä¸ä½¿ç”¨](https://www.kofes.cn/2018/07/J2EE-SSH-SSI-1.html#IDE-æ­å»º) ä¸ºå‚è€ƒã€‚\n\n\n## ç‰ˆæœ¬ä¿¡æ¯\t\n-  æ¡†æ¶ç‰ˆæœ¬ï¼š\n\t- Spring MVCï¼š4.3.x\n\t- Springï¼š4.3.x\n\t- MyBatisï¼š3.4.x\n- å…¶ä»–ç»„ä»¶ï¼š\n\t- MySQLï¼š5.7.x / SQL Serverï¼š2008 R2\n\t- Tomcatï¼š9.0.x\n\t- Mavenï¼š3.3.9\n\t- JDKï¼š1.8\n- æ„å»ºæ¡†æ¶ï¼Œè¿˜éœ€è¦ç›¸å…³ä¾èµ–åº“ ( Jar åŒ… )ï¼Œä¸ºä¾¿äºä½ ä¸‹è½½ Jar åŒ…æˆ–æ ¡å¯¹ä¾èµ–æ˜¯å¦é½å…¨ï¼Œå…·ä½“åœ°ï¼Œä»¥ä¸‹åˆ—ä¸¾äº† SSM æ¡†æ¶æ‰€éœ€è¦çš„ä¾èµ–åº“ã€‚\n\n| Spring | MyBatis |\n| :---- | :---- | \n| spring-core | mybatis | \n| spring-beans | mybatis-spring ( Spring æ•´åˆ Mybatis ) |\n| spring-context | pagehelper ( åˆ†é¡µåŠ©æ‰‹ ) |\n| spring-webmvc | &nbsp; |\n| spring-web | &nbsp; |\n| spring-aop (Â æ•´åˆ Aop ) | &nbsp; |\n| aopalliance (Â æ•´åˆ Aop ) | &nbsp; |\n| spring-aspect (Â æ•´åˆ Aop ) | &nbsp; |\n| aspectjweaver (Â æ•´åˆ Aop ) | &nbsp; |\n| spring-tx ( æ•´åˆäº‹åŠ¡ ) | &nbsp; |\n| spring-jdbc | &nbsp; |\n\n| Â å…¶ä»–ä¾èµ–åº“ ( Jar åŒ… ) | å¤‡æ³¨ |\n| :---- | :---- |\n| log4j | æ—¥å¿—æ”¯æŒ |\n| log4j-coreã€log4j-api | æ—¥å¿—æ”¯æŒ |\n| slf4j-apiã€slf4j-log4j12 | æ—¥å¿—æ”¯æŒ |\n| junit | Junit å•å…ƒæµ‹è¯• |\n| c3p0 | c3p0 æ•°æ®åº“è¿æ¥æ±  |\n| mysql-connector-java | æ·»åŠ  MySQL æ•°æ®åº“æ”¯æŒ |\n| jackson-databind | Json æ•°æ®è½¬åŒ–ä¸ºç±»å¯¹è±¡ |\n| jsp-api | JSP |\n| javax.servlet-api | Servlet |\n| jstl | JSTL æ ‡ç­¾åº“ |\n| taglibs-standard-impl | JSP æ ‡å‡†æ ‡ç­¾åº“ |\n\n\n## æ¡†æ¶åˆè¯†\n- SSM æ¡†æ¶é›†ç”± Springã€SpringMVCã€MyBatis ä¸‰ä¸ªå¼€æºæ¡†æ¶æ•´åˆè€Œæˆï¼Œæ˜¯ç»§ SSH (Springã€Struts2ã€Hibernate ) ä¹‹åï¼Œç›®å‰æ¯”è¾ƒä¸»æµçš„ Java EE ä¼ä¸šçº§æ¡†æ¶ï¼Œé€‚ç”¨äºæ­å»ºå„ç§å¤§å‹çš„ä¼ä¸šçº§åº”ç”¨ç³»ç»Ÿã€‚ \n\n\t> SSM ä¸ SSH éƒ½æœ‰å„è‡ªçš„ä¼˜ç¼ºç‚¹ï¼Œè€Œæ ¹æ®ä½ çš„é¡¹ç›®ç‰¹ç‚¹è€Œé€‰æ‹©åˆé€‚çš„æ¡†æ¶å³å¯ã€‚å…³äº SSH æ¡†æ¶çš„é…ç½®ä¸ä½¿ç”¨ï¼Œæ„Ÿå…´è¶£çš„å¯å‚è€ƒæœ¬åšå®¢çš„æ–‡ç« ï¼š[Java EE ä¹‹ SSH æ¡†æ¶é…ç½®ä¸ä½¿ç”¨](https://www.kofes.cn/2018/07/J2EE-SSH-SSI-1.html)\n\n### ORM æ¡†æ¶\n- å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆObject Relational Mappingï¼ŒO/R Mappingï¼ŒORMï¼‰æ˜¯é€šè¿‡ä½¿ç”¨æè¿°å¯¹è±¡å’Œæ•°æ®åº“ä¹‹é—´æ˜ å°„çš„ `å…ƒæ•°æ®`ï¼Œå°†é¢å‘å¯¹è±¡è¯­è¨€ç¨‹åºä¸­çš„ `å¯¹è±¡` è‡ªåŠ¨ `æŒä¹…åŒ–` åˆ° `å…³ç³»æ•°æ®åº“` ä¸­ã€‚æœ¬è´¨ä¸Šå°±æ˜¯å°†æ•°æ®ä»ä¸€ç§å½¢å¼è½¬æ¢åˆ°å¦å¤–ä¸€ç§å½¢å¼ã€‚ \n- è®© `å®ä½“ç±»` å’Œ `æ•°æ®åº“è¡¨` è¿›è¡Œä¸€ä¸€å¯¹åº”å…³ç³» (æ˜ å°„å…³ç³»)ï¼Œ`å®ä½“ç±»å±æ€§` å’Œ `è¡¨é‡Œé¢çš„å­—æ®µ` å¯¹åº”ã€‚æ“ä½œè¡¨å¯¹åº”å®ä½“ç±»å¯¹è±¡ï¼Œè€Œä¸éœ€æ“ä½œæ•°æ®åº“è¡¨ã€‚\n\n### SSM æ¡†æ¶\n\n#### MyBatis\n\n##### åŸç”Ÿ Jdbc æ“ä½œæ•°æ®åº“\nåœ¨å¼•å…¥ MyBatis ( æˆ– Hibernate ) å‰ï¼Œä¸€èˆ¬é€šè¿‡åŸç”Ÿ Jdbc æ¥æ“ä½œæ•°æ®åº“ï¼Œè€Œè¿™ç§æ–¹å¼å­˜åœ¨å¾ˆå¤šé—®é¢˜ $^{[2]}$ï¼š\n\n- ç¨‹åºåˆ›å»ºæ•°æ®åº“è¿æ¥ï¼Œå³éœ€æ±‚æ—¶åˆ›å»ºï¼Œç”¨å®Œåå…³é—­ã€‚è‹¥é¢‘ç¹çš„åˆ›å»ºã€å…³é—­æ•°æ®åº“è¿æ¥ï¼Œæ˜¾ç„¶å­˜åœ¨é—®é¢˜ã€‚ ( å¯ä»¥é€šè¿‡æ•°æ®åº“è¿æ¥æ± æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ )\n\n- ç¡¬ç¼–ç çš„åœ°æ–¹å¤ªå¤šäº†ã€‚ä¾‹å¦‚ï¼Œæ•°æ®åº“è¿æ¥ç›¸å…³ä¿¡æ¯ï¼ŒSQLç›¸å…³ä¿¡æ¯ç­‰ã€‚( å¯é€šè¿‡ä½¿ç”¨ XML é…ç½®æ–‡ä»¶ï¼Œæ¥é¿å…è¿™ä¸ªé—®é¢˜ )\n\n- å®è´¨ä¸Šï¼Œæˆ‘ä»¬ç¼–å†™JDBCæ˜¯æœ‰æ­¥éª¤å¯å¾ªçš„ï¼Œå³å…ˆå¾—åˆ°æ•°æ®åº“è¿æ¥å¯¹è±¡ï¼Œä¼ å…¥SQLã€è¾“å…¥å‚æ•°ã€è®¾ç½®å‚æ•°ï¼Œå†å»æ‰§è¡ŒSQLï¼Œç„¶åéå†ç»“æœé›†å°†æ•°æ®åº“ SQL æ‰§è¡Œçš„ç»“æœå¯¹è±¡è½¬åŒ–ä¸º JAVA å¯¹è±¡ï¼Œç„¶åå†å»ä¸šåŠ¡å¤„ç†ï¼Œæœ€åé‡Šæ”¾èµ„æºã€‚\n\n\té‚£ä¹ˆè¿™ä¸ªè¿‡ç¨‹ï¼Œå®é™…ä¸Šæ˜¯ä¸ª `æ¨¡æ¿æ–¹æ³•`ï¼Œèƒ½ä¸èƒ½æŠ½ç¦»å‡ºæ¥ï¼Œæ›´å¥½çš„å»å®Œæˆè¿™ä¸ªè¿‡ç¨‹å‘¢ï¼Ÿ\n\n\n##### æ¡†æ¶æ¯”è¾ƒ\n-  Hibernate\n\t- ä¼˜ç‚¹ï¼š  \n\t1) Hibernate è¿™ä¸ªçº¯ç²¹çš„ ORM æ¡†æ¶ï¼Œä»¥é¢å‘å¯¹è±¡çš„æ–¹å¼æ¥å®Œæˆæ•°æ®åº“çš„æ“ä½œã€‚  \n\t2) Hibernate ä¸éœ€è¦ç¼–å†™ SQL å³å¯å®Œå…¨æ˜ å°„ï¼Œä¸”å¯é€šè¿‡ HQL (Hibernate Query Language) è¯­è¨€å¯¹ POJO æ“ä½œã€‚  \n\t3) Hibernate æä¾›äº†æ—¥å¿—ã€ç¼“å­˜ã€çº§è”ç­‰ç‰¹æ€§ã€‚  \n\t- ç¼ºç‚¹ï¼š\n\t1) Hibernate å¯è‡ªç”±ç¼–å†™ SQLï¼Œä½†éå¸¸ç¹çï¼Œåˆ™ä¼˜åŒ– SQL å®ç°é«˜æ€§èƒ½æ•°æ®åº“æ“ä½œæœ‰é™åˆ¶ï¼Œåœ¨äº’è”ç½‘é¡¹ç›®å¿«é€Ÿè¿­ä»£å¼€å‘ä¸­æ˜¾å¾—è¿‡äºç¬¨é‡ã€‚\n\t2) Hibernate çš„ `çº§è”ä¼šé€ æˆå¤ªå¤šæ€§èƒ½çš„ä¸¢å¤±`ã€‚\n\t3) Hibernate ä¸æ”¯æŒå­˜å‚¨è¿‡ç¨‹ã€‚\n- MyBatis\n\t- ä¼˜ç‚¹ï¼šè‡ªç”±ä¹¦å†™ SQLã€æ”¯æŒåŠ¨æ€ SQLã€å¤„ç†åˆ—è¡¨ã€åŠ¨æ€ç”Ÿæˆè¡¨åã€æ”¯æŒå­˜å‚¨è¿‡ç¨‹ã€‚\n\t- ç¼ºç‚¹ï¼šéœ€è¦ç¼–å†™ SQL å’Œæ˜ å°„è§„åˆ™ï¼Œå·¥ä½œé‡ç›¸å¯¹è¾ƒå¤§ã€‚\n\n##### åŸºæœ¬ä»‹ç»\n- MyBatis å‰èº«æ˜¯ Apache çš„å¼€æºé¡¹ç›® `iBatis`ï¼Œ`iBatis` ä¸€è¯æºäº internet å’Œ abatis çš„ç»„åˆï¼Œæ˜¯ä¸€ä¸ªåŸºäº Java çš„æŒä¹…å±‚æ¡†æ¶ã€‚\n\n- MyBatis æ˜¯ä¸€æ¬¾æŒä¹…å±‚æ¡†æ¶ï¼Œå®ƒæ”¯æŒå®šåˆ¶åŒ– SQL (ä¸å±è”½ SQL)ã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚\n- MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†ã€‚\n- MyBatis å¯ä½¿ç”¨ XMLé…ç½®æ–‡ä»¶å½¢å¼æˆ–æ³¨è§£å½¢å¼æ¥é…ç½®å’Œæ˜ å°„åŸç”Ÿä¿¡æ¯ï¼Œå°†æ¥å£å’Œ POJOs ( Plain Ordinary Java Objectï¼Œæ™®é€š Java å¯¹è±¡ / å®ä½“ç±» ) æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ã€‚\n\n\t> æˆ‘ä»¬æŠŠ POJO å¯¹è±¡å’Œæ•°æ®åº“è¡¨ç›¸äº’æ˜ å°„çš„æ¡†æ¶ç§°ä¸ºå¯¹è±¡å…³ç³»æ˜ å°„æ¡†æ¶ ( Object Relational )ã€‚\n\n##### æ¶æ„åŸç†\n\n![å›¾6-1SSMæ¶æ„åŸç†å›¾](/images/illustration/Project/2018/08/J2EE-SSM-1_6-1.png)\n<center>å›¾ 6-1 SSMæ¶æ„åŸç†å›¾</center>\n\n- `SqlMapConfig.xml`ï¼šMyBatis å…¨å±€é…ç½®æ–‡ä»¶ï¼Œé…ç½®æ•°æ®æºã€äº‹åŠ¡ç­‰è¿è¡Œç¯å¢ƒç›¸å…³ä¿¡æ¯ï¼›SQLæ–‡ä»¶å³æ˜¯ `Mapper.xml`ã€‚\n\n- `SqlSessionFactory`ï¼šä¼šè¯å·¥å‚ï¼Œç”¨äºåˆ›å»º SqlSessionã€‚\n\n- `SqlSession`ï¼šå³æ“ä½œæ•°æ®åº“çš„æ¥å£ï¼Œå…¶å†…éƒ¨å€ŸåŠ© `Executor` æ‰§è¡Œå™¨å®Œæˆå¯¹æ•°æ®åº“çš„æ“ä½œã€‚\n\n- `MappedStatement`ï¼šåº•å±‚å°è£…å¯¹è±¡ï¼Œå¯¹æ“ä½œæ•°æ®åº“å‚¨å­˜å°è£…ï¼Œå…¶ä¸­åŒ…æ‹¬ SQL è¯­å¥ ( Mapper.xml )ã€è¾“å…¥å¯¹è±¡å’Œè¾“å‡ºç»“æœç±»å‹ã€‚\n\n##### é…ç½®æ–‡ä»¶\n\n- å…¨å±€é…ç½®æ–‡ä»¶ï¼šåœ¨ Src æ ¹ç›®å½•ä¸‹å»ºç«‹å¹¶é…ç½® `SqlMapConfig.xml`  \n\n\tä¸ Spring æ•´åˆ Hibernate ä¸€æ ·ï¼ŒåæœŸ Spring æ•´åˆ MyBatis åæ­¤é…ç½®æ–‡ä»¶å¯çœç•¥ã€‚å½“ç„¶ï¼Œå­¦ä¹ é˜¶æ®µä»£ç è¿˜æ˜¯å¾—æä¾›ã€‚\n\t\n\t```xml\n\t<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n\t<!DOCTYPE configuration\n\t    PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n\t    \"http://mybatis.org/dtd/mybatis-3-config.dtd\">\n\t<configuration>\n\n\t    <!-- åŠ è½½ Java çš„é…ç½®æ–‡ä»¶æˆ–è€…å£°æ˜å±æ€§ä¿¡æ¯ ( è¯¦ç»†è§æœ¬é¡¹ç›®æºç  ) -->\n\t    <properties resource=\"c3p0.properties\"></properties>\n\n\t    <!-- å…¨å±€å‚æ•°é…ç½® -->\n\t    <!-- <settings></settings> -->\n\n\t    <!-- è‡ªå®šä¹‰åˆ«å -->\n\t    <typeAliases>\n\t        <!-- å•ä¸ªåˆ«åå®šä¹‰\n\t        <typeAlias type=\"cn.kofes.ssm.pojo.Sample\" alias=\"Sample\"/>\n\t        -->\n\n\t        <!-- æ‰¹é‡åˆ«åå®šä¹‰ ( æ¨è )\n\t         | packageï¼šæŒ‡å®šåŒ…åç§°æ¥ä¸ºè¯¥åŒ…ä¸‹çš„ pojo ç±»å£°æ˜åˆ«åï¼Œé»˜è®¤çš„åˆ«åå°±æ˜¯ç±»å ( é¦–å­—æ¯å¤§å°å†™éƒ½å¯ )\n\t        -->\n\t        <package name=\"cn.kofes.pojo\"/>\n\t    </typeAliases>\n\n\t    <!-- é…ç½® MyBatis çš„ç¯å¢ƒä¿¡æ¯ï¼Œä¸ Spring æ•´åˆï¼Œè¯¥ä¿¡æ¯ç”±springæ¥ç®¡ç† -->\n\t    <environments default=\"development\">\n\t        <environment id=\"development\">\n\t            <!-- é…ç½® Jdbc äº‹åŠ¡æ§åˆ¶ï¼Œç”± MyBatis è¿›è¡Œç®¡ç† -->\n\t            <transactionManager type=\"JDBC\"></transactionManager>\n\t            <!-- é…ç½®æ•°æ®æºï¼Œé‡‡ç”¨ MyBatis è¿æ¥æ±  -->\n\t            <dataSource type=\"POOLED\">\n\t                <property name=\"driver\" value=\"${datasource.driverClass}\"/>\n\t                <property name=\"url\" value=\"${datasource.jdbcUrl}\"/>\n\t                <property name=\"username\" value=\"${datasource.user}\"/>\n\t                <property name=\"password\" value=\"${datasource.password}\"/>\n\t            </dataSource>\n\t        </environment>\n\t    </environments>\n\n\t    <!-- åŠ è½½æ˜ å°„æ–‡ä»¶ -->\n\t    <mappers>\n\t        <!-- å•ä¸ªæ˜ å°„æ–‡ä»¶æ·»åŠ  -->\n\t        <mapper resource=\"mapper/SampleMapper.xml\"/>\n\n\t        <!-- æ‰¹é‡åŠ è½½æ˜ å°„æ–‡ä»¶ï¼šmapper.java ä¸ mapper.xml åŒåï¼Œä¸”åœ¨åŒä¸€ç›®å½•ä¸‹\n\t        <package name=\"cn.kofes.ssm.mapper\" />\n\t        -->\n\t    </mappers>\n\t</configuration>\n\t```\n\t\n- Mapper æ˜ å°„æ–‡ä»¶ï¼šä¾‹å¦‚ `SampleMapper.xml`\n\n\t- åˆ›å»ºå®ä½“ç±»å¯¹è±¡ ( POJOs )ï¼š\n\n\t```java\n\t// cn.kofes.pojo.Sample.java\n\tpublic class Sample {\n\t    private Integer id;\n\t    private String name;\n\t\n\t    public Integer getId() { return id; }\n\t    public void setId(Integer id) { this.id = id; }\n\t    public String getName() { return name; }\n\t    public void setName(String name) { this.name = name; }\n\t}\t\n\t```\n\n\t- åœ¨æ˜ å°„æ–‡ä»¶ä¸­é…ç½® SQL è¯­å¥ï¼Œå¦‚å»ºç«‹ `SampleMapper.xml` ( ä¾¿äºç®¡ç†ï¼ŒæŠŠæ˜ å°„æ–‡ä»¶ç»Ÿä¸€æ”¾ç½® mapper æ–‡ä»¶å¤¹ä¸‹ )ï¼š\n\n\t```xml\n\t<!-- mapper/SampleMapper.xml -->\n\t\n\t<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n\t<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\"\n\t    \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\" >\n\n\t<!-- namespace ç”¨äºç»‘å®š Mapper ä»£ç†å¼€å‘ -->\n\t<mapper namespace=\"cn.kofes.mapper.SampleMapper\">\n\t    <!--\n\t     | é…ç½® SQL è¯­å¥ï¼šä¾‹å¦‚æŸ¥æ‰¾æŸä¸€å…ƒç»„\n\t     | - id å±æ€§ï¼šå”¯ä¸€æ ‡è¯†æ˜ å°„æ–‡ä»¶ä¸­çš„ SQL\n\t     | - parameterType å±æ€§ï¼šæŒ‡å®šè¾“å…¥å‚æ•°çš„ç±»å‹\n\t     | - resultType å±æ€§ï¼šæŒ‡å®šè¾“å‡ºå‚æ•°çš„ç±»å‹\n\t     |   SQL è¯­å¥ä¼šå°è£…åˆ° MappedStatement å¯¹è±¡ä¸­ï¼Œæ•… ID åˆç§°ä¸º Statement çš„ ID\n\t     | - #{}ï¼šè¡¨ç¤ºä¸€ä¸ªå ä½ç¬¦å·\n\t     | - #{id}ï¼šid è¡¨ç¤ºæ¥æ”¶è¾“å…¥çš„å‚æ•°ï¼Œå‚æ•°åç§°å°±æ˜¯ id\n\t    -->\n\t    <select id=\"findCertianTupleById\" parameterType=\"int\" resultType=\"cn.kofes.bean.Sample\">\n\t        SELECT * FROM t_sample WHERE id = #{id}\n\t    </select>\n\t    \n\t    <!-- æ’å…¥å…ƒç»„ -->\n\t    <insert id=\"insertOneTuple\" parameterType=\"cn.kofes.pojo.Sample\">\n\t        <!-- ç”¨äºè‡ªå¢ ID çš„æƒ…å†µï¼Œåœ¨å®Œæˆæ’å…¥åå°† ID è¿”å› user å¯¹è±¡ä¸­\n\t        <selectKey keyProperty=\"id\" order=\"AFTER\" resultType=\"java.lang.Integer\">\n\t            SELECT LAST_INSERT_ID()\n\t        </selectKey>\n\t        -->\n\n\t        <!-- ç”¨äºéè‡ªå¢ ID çš„æƒ…å†µï¼Œå…ˆäº§ç”Ÿ ID æ”¾å…¥ user å¯¹è±¡ä¸­ï¼Œå†æ‰§è¡Œä¿å­˜\n\t        <selectKey keyProperty=\"id\" order=\"BEFORE\" resultType=\"java.lang.String\">\n\t            SELECT UUID()\n\t        </selectKey>\n\t        INSERT INTO t_sample (id, name) VALUES (#{id}, #{name})\n\t        -->\n\t        INSERT TO t_sample(id, name) value(#{id}, #{name})\n\t    </insert>\n\t    \n\t    <!-- åˆ é™¤ä¸€æ¡å…ƒç»„ -->\n\t    <delete id=\"deleteOneTupleById\" parameterType=\"java.lang.Integer\">\n\t        DELETE FROM t_sample WHERE id = #{id}\n\t    </delete>\n\n\t    <!-- æ›´æ–°ä¸€æ¡å…ƒç»„ -->\n\t    <update id=\"updateOneTupleById\" parameterType=\"cn.kofes.pojo.Sample\">\n\t        UPDATE t_sample SET id = #{id}, name = #{name}\n\t        WHERE id = #{id}\n\t    </update>\n\t</mapper>\n\t```\n\t\n##### æ¡ˆä¾‹æ¼”ç¤º \n- å•ç‹¬ä½¿ç”¨ MyBatis æ¡†æ¶ï¼Œæ ¹æ® id æŸ¥è¯¢æŒ‡å®šç”¨æˆ·ï¼š\n\n\t```java\n\t// ä¾¿äºæ£€éªŒæ•ˆæœï¼Œè¿™é‡Œä»¥å•å…ƒæµ‹è¯•ç±»å®ç°\n\tpublic class DBOperatorTest {\n\t    @Test\n\t    public void testDoSomethingInDB() {\n\t        // åŠ è½½ MyBatis é…ç½®æ–‡ä»¶\n\t        String resource  = \"SqlMapConfig.xml\";\n\t        // å¾—åˆ°é…ç½®æ–‡ä»¶æµ\n\t        InputStream inputStream = Resource.getResourceAsStream(resource);\n\t        // åˆ›å»ºä¼šè¯å·¥å‚\n\t        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder()\n\t            .build(inputStream);\n\t            \n\t        // é€šè¿‡ä¼šè¯å·¥å‚ï¼Œå¾—åˆ° SqlSession å¯¹è±¡\n\t        SqlSession sqlSession = sqlSessionFactory.openSession();\n\t        \n\t        // é€šè¿‡ SqlSession æ“ä½œæ•°æ®åº“\n\t        // ç¬¬ä¸€ä¸ªå‚æ•°ï¼šnamespace + statement id\n\t        // ç¬¬äºŒä¸ªå‚æ•°ï¼šæŒ‡å®šå’Œæ˜ å°„æ–‡ä»¶ä¸­æ‰€åŒ¹é…çš„ parameterType ç›¸åŒå±æ€§ç±»å‹çš„å‚æ•°\n\t        \n\t        /* æ ¹æ® ID æŸ¥è¯¢å…ƒç»„\n\t        Sample sample = sqlSession.selectOne(\n\t            \"cn.kofes.mapper.SampleMapper.findCertainTupleById\", 1);\n\t        */\n\n\t        /* æ’å…¥ä¸€æ¡å…ƒç»„\n\t        Sample sample = new Sample();\n\t        sample.setName(\"é‚¯éƒ¸\");\n\t        sqlSession.insert(\n\t            \"cn.kofes.mapper.SampleMapper.insertOneTuple\", sample);\n\t        */\n\t        \n\n\t        /* æ ¹æ® ID ä¿®æ”¹å…ƒç»„\n\t        Sample sample = new Sample();\n\t        sample.setId(14);\n\t        sample.setName(\"é˜¿æ–—\");\n\t        sqlSession.update(\n\t            \"cn.kofes.mapper.SampleMapper.updateOneTupleById\", sample);\n\t        */\n\t        \n\t        sqlSession.commit();\n\t        sqlSession.close();\n\t    }\n\t}\n\t```\n\t\n- æ¡ˆä¾‹æ€»ç»“ï¼š\n\t- `namespace`ï¼šå‘½åç©ºé—´ï¼Œä½œç”¨æ˜¯éš”ç¦» SQLã€‚åœ¨ MyBatis å’Œ Spring ç»“åˆä½¿ç”¨æ—¶å…·æœ‰ç‰¹æ®Šçš„æ„ä¹‰ï¼Œè¿™é‡Œæš‚ä¸”ä½¿ç”¨å…¨é™å®šç±»åã€‚\n\t- `<select>` ç­‰ SQL Command æ ‡ç­¾éœ€è¦ä¸€ä¸ª IDï¼Œè¿˜éœ€è¦è¾“å…¥å‚æ•° parameterTypeï¼Œè¾“å‡ºå‚æ•°æ˜ å°„ resultType ç­‰ã€‚åœ¨ MyBatis åº•å±‚å°è£…æˆäº†ä¸€ä¸ª MappedStatement å¯¹è±¡ï¼Œä½¿ç”¨æ—¶ä»¥ `namespace.id` çš„æ–¹å¼å¼•ç”¨å³å¯ã€‚\n\t- `#{}` å’Œ `${}`ï¼š\n\t\t- `#{}`ï¼šè¡¨ç¤ºä¸€ä¸ªå ä½ç¬¦å·ï¼Œç”¨äºæ¥æ”¶è¾“å…¥å‚æ•°ï¼Œç±»å‹å¯ä»¥æ˜¯ç®€å•ç±»å‹ï¼Œä¹Ÿå¯æ˜¯ POJOã€HashMap ç­‰ã€‚( é€šè¿‡ `OGNL è¡¨è¾¾å¼` è¯»å–å¯¹è±¡çš„å±æ€§å€¼ )\n\t\t- `${}`ï¼šè¡¨ç¤ºä¸€ä¸ªæ‹¼æ¥ç¬¦å·ï¼Œä¼šå¼•å…¥ `SQLæ³¨å…¥`ï¼Œæ•…ä¸å»ºè®®ä½¿ç”¨ã€‚\n\n- æ€è€ƒé—®é¢˜ï¼š\n\t- æˆ‘ä»¬é‡ç‚¹å…³æ³¨çš„æ˜¯ SqlSessionï¼Œå®ƒå…¶å®æ˜¯ä¸€ä¸ª interfaceï¼Œå®šä¹‰äº†å¾ˆå¤šæ“ä½œæ•°æ®åº“çš„æ¥å£ï¼Œå…¶ä¸­å®ç°äº† Closeable æ¥å£ï¼Œå¾ˆæ˜ç¡®æ˜¯ä½¿ç”¨å®Œæ¯•åéœ€è¦ `close()` çš„ã€‚  \n\t- å®ƒçš„å®ç°ç±» DefaultSqlSession ä¸­æœ‰ä¸€äº›æ•°æ®åŸŸï¼Œæ¯”å¦‚è¯´ autoCommitï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯ä¸å¼€å¯è‡ªåŠ¨æäº¤çš„ï¼›ä¸”æ–¹æ³•ä¹Ÿå¹¶ä¸æ˜¯ Synchronized çš„ï¼Œè¿™è¯´æ˜ SqlSession å¹¶ä¸æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå› æ­¤æˆ‘ä»¬åº”è¯¥æ˜¯å±€éƒ¨ä½¿ç”¨ SqlSessionï¼Œä¸”åœ¨ä½¿ç”¨å®Œæ¯•å `close()` å…³é—­ sqlSessionã€‚\n\n##### ~~MyBatis åŸå§‹æ–¹æ³•~~\n\n> è¿™ç§æ–¹å¼ï¼Œé‡å¤çš„ä»£ç å¤ªå¤šï¼Œç°é˜¶æ®µåŸºæœ¬å¼ƒç”¨ï¼Œç›®å‰ä½¿ç”¨æœ€å¤šçš„å°±æ˜¯ Mapper ä»£ç†å¼€å‘ã€‚\n\n- åœ¨å¼€å§‹ Mapper ä»£ç†å¼€å‘å‰ï¼Œå¯äº†è§£ä¸€ç§ MyBatis çš„åŸå§‹ Dao å¼€å‘æ–¹æ³•ï¼š\n\t- Step.01.æä¾› Dao æ¥å£ï¼Œæœ‰å¢ã€åˆ ã€æ”¹ã€æŸ¥çš„æ–¹æ³•ã€‚\n\t- Step.02.æä¾› Dao çš„å®ç°ç±»ï¼Œåœ¨å®ç°ç±»ä¸­åˆ©ç”¨ Spring æ³¨å…¥ SqlSessionFactoryï¼Œç„¶ååœ¨å„ä¸ªæ–¹æ³•ä¸­å¾—åˆ° SqlSessionï¼Œè¿›è¡Œæ“ä½œåï¼Œå…³é—­ SqlSession å³å¯ã€‚\n- ä¾¿äºç†è§£ï¼Œæ”¾ä¸Šå®ç°ä»£ç ï¼š\n\n\t```java\n\t// DAO å±‚æ¥å£\n\tpublic interface BaseDao {\n\t    public void insertOneTuple(User user) throw Exception;\n\t    public void deleteOneTupleById(int id)  throw Exception;\n\t    public void updateOneTupleById(User user)  throw Exception;\n\t    public User findCertainById(int id) throw Exception;    \n\t}\n\t\n\t// DAO å±‚å®ç°ç±»\n\tpublic class SampleDaoImpl implements BaseDao {\n\t    private SqlSessionFactory sqlSessionFactory;\n\t    \n\t    public SampleDaoImpl(SqlSessionFactory sqlSessionFactory) \n\t        throw Exception {\n\t        this.sqlSessionFactory = sqlSessionFactory;\n\t    }\n\t    \n\t    @Override\n\t    public User findCertainById(int id) throw Exception { \n\t        // çœç•¥å®ç°é€»è¾‘...\n\t    }\n\t    @Override\n\t    public void deleteOneTupleById(int id)  throw Exception { \n\t        // çœç•¥å®ç°é€»è¾‘...\n\t    }\n\t    @Override\n\t    public void updateOneTupleById(User user)  throw Exception {\n\t        // çœç•¥å®ç°é€»è¾‘...\n\t    }\n\t    @Override\n\t    public User findCertainById(int id) throw Exception {\n\t        // çœç•¥å®ç°é€»è¾‘...\n\t    }\n\t}\n\t\n\t// å•å…ƒæµ‹è¯•ç±»\n\tpublic class SampleDaoTest {\n\t    private SqlSessionFactory sqlSessionFactory;\n\t    \n\t    @Before\n\t    public void setUp() {\n\t        InputStream inputStream = \n\t            Resource.getResourceAsStream(\"SqlMapConfig.xml\");\n\t        SqlSessionFactory sqlSessionFactory = \n\t            new SqlSessionFactoryBuilder().build(inputStream);\n\t    }\n\n\t    @Test\n\t    public void testFindCertainById() {\n\t        BaseDao sampleDao = new SampleDaoImpl(sqlSessionFactory);\n\t        User user = sampleDao.findCertainById(5);\n\t        System.out.println( user.toString() );\n\t    }\n\t}\n\t```\n\n##### Mapper ä»£ç†å¼€å‘\n\n- Mapper æ˜ å°„æ–‡ä»¶ï¼šä¸Šä¸€èŠ‚é…ç½®çš„æ˜ å°„æ–‡ä»¶ `SampleMapper.xml`\n\n- Mapper æ¥å£ï¼š\n\t-  åœ¨ SampleMapper.xml ä¸­ namespace ç­‰äº Mapper çš„æ¥å£åœ°å€ ( `å…¨è·¯å¾„åœ°å€` )ï¼›\n\t-  åœ¨ Mapper æ¥å£ä¸­çš„ `æ–¹æ³•å` å’Œ SampleMapper.xml ä¸­ Statement çš„ `ID` åç§°ä¸€è‡´ï¼›\n\t-  åœ¨ Mapper æ¥å£ä¸­çš„æ–¹æ³• `è¾“å…¥å‚æ•°ç±»å‹` å’Œ SampleMapper.xml ä¸­ Statement çš„ `parameterType` æŒ‡å®šçš„ç±»å‹ä¸€è‡´ã€‚\n\t-  åœ¨ Mapper æ¥å£ä¸­çš„ `æ–¹æ³•è¿”å›å€¼ç±»å‹` å’Œ SampleMapper.xml ä¸­ Statement çš„ `resultType` æŒ‡å®šçš„ç±»å‹ä¸€è‡´ã€‚\n\n- å…³äºè§„èŒƒçš„å¯ç¤ºï¼šæ•…æˆ‘ä»¬è¿›è¡Œ Mapper çš„å¼€å‘åº”è¯¥éµå¾ªä¸€äº›è§„èŒƒï¼Œè¿™æ · MyBatis æ–¹å¯è‡ªåŠ¨ç”Ÿæˆ `XXXMapper` ç±»çš„ä»£ç†å®ç°ç±»ã€‚\n\t- ä¿è¯ XXXMapper.xml ä¸­çš„ `namespace` åŒ XXXMapper.java çš„ `å…¨é™å®šåç§°` ä¸€è‡´ï¼›\n\t- ä¿è¯ XXXMapper.xml ä¸­çš„ `Statement ID` åŒ XXXMapper.java çš„ `æ–¹æ³•åç§°` ä¸€è‡´ï¼›\n\t- ä¿è¯ XXXMapper.xml ä¸­çš„ Statement çš„è¾“å…¥å‚æ•°çš„ç±»å‹ ( `parameterType` )ã€è¾“å‡ºå‚æ•°çš„ç±»å‹ ( `resultType` ) åŒ `XXXMapper.java` çš„ä¿æŒä¸€è‡´.\n\n\t![å›¾6-2Mapperä»£ç†å¼€å‘è§„èŒƒ](/images/illustration/Project/2018/08/J2EE-SSM-1_6-2.png)\n<center>å›¾6-2 Mapper ä»£ç†å¼€å‘è§„èŒƒ</center>\n\n\t```java\n\t// Mapper æ¥å£ï¼šcn.kofes.ssm.mapper.SampleMapper.java\n\tpublic interface SampleMapper {\n\t    public void insertOneTuple(Sample sample);\n\t    public void deleteOneTupleById(Integer id);\n\t    public void updateOneTupleById(Sample sample);\n\t    public Sample findCertainTupleById(Integer id);\n\t}\n\t\n\t// å•å…ƒæµ‹è¯•ç±»\n\tpublic class SampleMapperTest {\n\n\t    private SqlSessionFactory sqlSessionFactory;\n\t    private  SqlSession sqlSession;\n\n\t    @Before\n\t    public void setUp() throws IOException {\n\t        // åŠ è½½ MyBatis é…ç½®æ–‡ä»¶ï¼Œå¾—åˆ°é…ç½®æ–‡ä»¶æµ\n\t        InputStream inputStream =\n\t            Resources.getResourceAsStream(\"SqlMapConfig.xml\");\n\t        // åˆ›å»ºä¼šè¯å·¥å‚\n\t        SqlSessionFactory sqlSessionFactory =\n\t            new SqlSessionFactoryBuilder().build(inputStream);\n\t        // é€šè¿‡ä¼šè¯å·¥å‚ï¼Œå¾—åˆ° SqlSession å¯¹è±¡\n\t        sqlSession = sqlSessionFactory.openSession();\n\t    }\n\n\t    @Test\n\t    public void testFindCertainTupleById() {\n\t        SampleMapper sampleMapper = sqlSession.getMapper(SampleMapper.class);\n\t        System.out.println( sampleMapper.findCertainTupleById(15).toString() );\n\t        sqlSession.close();\n\t    }\n\t}\n\t```\n- å½“ç„¶ä¸è¦å¿˜è®°åœ¨å…¨å±€é…ç½®æ–‡ä»¶ `SqlMapConfig.xml` ä¸­åŠ è½½æ˜ å°„æ–‡ä»¶ ( å‚è€ƒä¸Šè¿°é…ç½®æ–‡ä»¶ )ã€‚\n\n##### POJO åŒ…è£…ç±»å‹æŸ¥è¯¢\n\n###### è¾“å…¥æ˜ å°„\n-  è¾“å…¥æ˜ å°„ï¼šé€šè¿‡ parameterType æŒ‡å®šè¾“å…¥å‚æ•°çš„ç±»å‹ï¼Œç±»å‹å¯ä»¥æ˜¯ `ç®€å•ç±»å‹`ï¼Œä¹Ÿå¯ä»¥æ˜¯  `POJO`ã€`HashMap` ç±»å‹ã€‚\n\n\t```java\n\t// å®šä¹‰åŒ…è£…ç±»å‹ POJOï¼šè‡ªå®šä¹‰æ‰€éœ€è¦çš„æŸ¥è¯¢æ¡ä»¶ï¼Œå®ç°å¤šè¡¨æŸ¥è¯¢\n\tpublic class POJOCollection {\n\t    /**\n\t     * ä¸ºæ›´åŠ å½¢è±¡ã€ç†è§£ï¼Œè¿™é‡Œå¼•å…¥ç”¨æˆ·å’Œéƒ¨é—¨çš„å®ä½“ç±»\n\t     * ä¸€ä¸ªç”¨æˆ·å¯¹åº”ä¸€ä¸ªéƒ¨é—¨ï¼Œä¸€ä¸ªéƒ¨é—¨åŒ…å«å¤šä¸ªç”¨æˆ·\n\t     */\n\t    private User user; // User å®ä½“ç±»\n\t    private Department department; // Department å®ä½“ç±»\n\t    \n\t    // æ„é€ å‡½æ•°åˆå§‹åŒ–\n\t    public POJOCollection() {\n\t        user = new User();\n\t        department = new Department();\n\t    }\n\t\t\n\t    // ç”Ÿæˆ Setter å’Œ Getter æ–¹æ³•\n\t    public void setUser(User user) { this.user = user; }\n\t    public User getUser() { return user; }\n\t    public void setDepartment(Department department) { this.department = department; }\n\t    public Department getDepartment() { return department; }\n\t}\n\t```\n\n- åœ¨æ˜ å°„æ–‡ä»¶ `SampleMapper.xml` ä¸­é…ç½® SQL è¯­å¥ï¼š\n \n\t```xml\n\t<!--  è‡ªå®šä¹‰æ‰€éœ€è¦çš„æŸ¥è¯¢æ¡ä»¶ï¼Œå®ç°å¤šè¡¨æŸ¥è¯¢ -->\n\t<select id=\"findPOJOList\"\n\t    parameterType=\"cn.kofes.ssm.pojo.POJOCollection\"\n\t    resultType=\"cn.kofes.ssm.pojo.User\">\n\t    SELECT * FROM t_user as u, t_department as d\n\t    WHERE u.uid = #{user.uid} and d.depart_id = #{department.depart_id}\n\t</select>\n\t```\n\n- Mapper æ¥å£ï¼š\n\n\t```java\n\t// Mapper æ¥å£ï¼šcn.kofes.ssm.mapper.SampleMapper.java\n\tpublic interface SampleMapper {\n\t    public List<Sample> findPOJOList(POJOCollection pojoCollection);\n\t}\n\n\t// å•å…ƒæµ‹è¯•ç±»\n\tpublic class SampleMapperTest {\n\n\t    private SqlSessionFactory sqlSessionFactory;\n\t    private  SqlSession sqlSession;\n\n\t    @Before\n\t    public void setUp() throws IOException {\n\t        // åŒä¸Š\n\t    }\n\n\t    @Test\n\t    public void testFindPOJOList() {\n\t        // Mapper æ¥å£ä»£ç†\n\t        SampleMapper sampleMapper =\n\t            sqlSession.getMapper(SampleMapper.class);\n\n\t        POJOCollection pojoCollection = new POJOCollection();\n\t        pojoCollection.getUser().setUid(50);\n\t        pojoCollection.getDepartment().setDepart_id(1);\n\n\t        List<User> list =\n\t            sampleMapper.findPOJOList(pojoCollection);\n\t        System.out.println( list.get(0).toString() );\n\n\t        sqlSession.close();\n\t    }\n\t}\n\t```\n\n###### è¾“å‡ºæ˜ å°„\n\n- è¾“å‡ºæ˜ å°„ï¼šä½¿ç”¨ resultType è¿›è¡Œè¾“å‡ºæ˜ å°„ï¼ŒæŸ¥è¯¢åˆ—åå’Œ POJO ä¸­çš„å±æ€§åä¸€è‡´ï¼Œè¯¥åˆ—æ‰ä¼šæˆåŠŸæ˜ å°„ã€‚\n\n\t> è‹¥æŸ¥è¯¢å‡ºæ¥çš„åˆ—å ( é€šè¿‡ AS è‡ªå®šä¹‰çš„åˆ—å ) å’Œ POJO çš„å±æ€§åä¸ä¸€è‡´ï¼Œé€šè¿‡å®šä¹‰ä¸€ä¸ª resultMap å¯¹åˆ—åå’Œå±æ€§åä¹‹é—´ä½œä¸€ä¸ªæ˜ å°„å…³ç³»ã€‚\n\t\n- å®šä¹‰ resultMapï¼šåœ¨æ˜ å°„æ–‡ä»¶ `SampleMapper.xml` ä¸­å®šä¹‰ï¼›\n\n\t```xml\n\t<!--\n\t | idï¼šresultMap å”¯ä¸€æ ‡è¯†\n\t | typeï¼š\n\t-->\n\t<resultMap id=\"sampleResultMap\" type=\"cn.kofes.ssm.pojo.Sample\">\n\t    <!--\n\t     | id è¡¨ç¤ºæŸ¥è¯¢ç»“æœé›†ä¸­çš„å”¯ä¸€æ ‡è¯†\n\t     | columï¼šæŸ¥è¯¢å‡ºæ¥çš„åˆ—å ( AS è‡ªå®šä¹‰åˆ—å )\n\t     | propertyï¼štype æŒ‡å®šçš„ POJO ç±»å‹ä¸­çš„å±æ€§å\n\t    -->\n\t    <id column=\"id_\" property=\"id\" />\n\t    <!--\n\t     | result å¯¹é ID çš„å±æ€§è¿›è¡Œæ˜ å°„å®šä¹‰\n\t    -->\n\t    <result column=\"name_\" property=\"name\" />\n\t</resultMap>\n\t\n\t<!-- ä½¿ç”¨ resultMap ä½œä¸º Statement çš„è¾“å‡ºæ˜ å°„ç±»å‹ -->\n\t<select id=\"listCustomView\"\n\t    parameterType=\"int\" resultMap=\"sampleResultMap\">\n\t    SELECT id as id_, name as name_\n\t    FROM t_sample\n\t    WHERE id = #{id}\n\t</select>\n\t```\n\n- Mapper æ¥å£ï¼š\n\n\t```java\n\t// Mapper æ¥å£ï¼šcn.kofes.ssm.mapper.SampleMapper.java\n\tpublic interface SampleMapper {\n\t    public Sample listCustomView(Integer id);\n\t}\n\n\t// å•å…ƒæµ‹è¯•ç±»\n\tpublic class SampleMapperTest {\n\n\t    private SqlSessionFactory sqlSessionFactory;\n\t    private  SqlSession sqlSession;\n\n\t    @Before\n\t    public void setUp() throws IOException {\n\t        // åŒä¸Š\n\t    }\n\n\t    @Test\n\t    public void testListCustomView() {\n\t        // Mapper æ¥å£ä»£ç†\n\t        SampleMapper sampleMapper = \n\t            sqlSession.getMapper(SampleMapper.class);\n            \n\t        System.out.println( sampleMapper.listCustomView(15) );\n\t    }\n\t}\n\t```\n\n###### æ˜ å°„å¯¹æ¯”\n- `resultType` æŸ¥è¯¢å‡ºæ¥çš„åˆ—å ( é€šè¿‡ AS è‡ªå®šä¹‰çš„åˆ—å ) å’Œ POJO çš„å±æ€§åéœ€ä¸€è‡´ï¼Œè¯¥åˆ—æ‰ä¼šæˆåŠŸæ˜ å°„ã€‚  \n\t`resultMap` å¯æ ¹æ®æŸ¥è¯¢å‡ºæ¥çš„åˆ—åæŒ‡å®š POJO ç±»å‹ä¸­çš„åº”çš„å±æ€§åã€‚\n- `resultType` è¿”å›çš„æ˜¯ User å¯¹è±¡ï¼Œé€‚åº”è¾ƒç®€å•çš„è¾“å‡ºç»“æœæ˜ å°„ï¼ŒMyBatis å…¶å®è¿˜æä¾›äº†`resultMap` ä½œä¸ºå¤æ‚è¾“å‡ºç»“æœæ˜ å°„ã€‚åœ¨ [é«˜çº§æ˜ å°„](#é«˜çº§æ˜ å°„) ç« èŠ‚å°†å¯¹æ¯”é˜è¿°ã€‚\n\t\n##### åŠ¨æ€ SQL\nMyBatis æ ¸å¿ƒæ˜¯å¯¹ SQL è¯­å¥è¿›è¡Œçµæ´»æ“ä½œï¼Œé€šè¿‡è¡¨è¾¾å¼è¿›è¡Œåˆ¤æ–­ï¼Œå¯¹ SQL è¿›è¡Œçµæ´»æ‹¼æ¥ã€ç»„è£…ã€‚\n\n- SQL è¯­å¥ `æ‹¼æ¥`ï¼Œä¾‹å¦‚ `<where>` å’Œ `<if>` æ ‡ç­¾çš„ç»„åˆä½¿ç”¨ï¼›\n- SLQ è¯­å¥ `æŠ½ç¦»`ï¼Œä¾‹å¦‚ `<sql>` å’Œ `<include>` æ ‡ç­¾çš„ç»„åˆä½¿ç”¨ï¼› \n- Foreachï¼šå‘ SQL ä¼ é€’æ•°ç»„æˆ– List é›†åˆï¼ŒMyBatis ä½¿ç”¨ `<foreach>` æ ‡ç­¾è§£æã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦æŸ¥è¯¢å¤šä¸ª ID å€¼ï¼›\n\n\t```xml\n\t<!-- å°†é€šç”¨çš„ SQL è¯­å¥æŠ½ç¦»ï¼Œä¾‹å¦‚ï¼šå±æ€§åã€è¡¨åç­‰ -->\n\t<sql id=\"t_sample\">t_sample</sql>\n\n\t<select id=\"findPOJOList\" \n\t    parameterType=\"cn.kofes.ssm.pojo.POJOCollection\"\n\t    resultType=\"cn.kofes.ssm.pojo.Sample\">\n\t    SELECT * FROM <include refid=\"t_sample\" />\n    \n\t    <!-- è‡ªåŠ¨å»æ‰æ¡ä»¶ä¸­ç¬¬ä¸€ä¸ª AND æˆ–è€… OR  -->\n\t    <where>\n\t        <!-- Case.01.æ³¨æ„ä¸‹é¢è¿™ç§å†™æ³•åªé€‚ç”¨äº id ç±»å‹ä¸º String  -->\n\t        <if test=\" sample.id != null and sample.id != '' \">\n\t            AND sample.id = #{sample.id}\n\t        </if>\n\t        <if test=\" other.id != null and other.id  != '' \">\n\t            AND other.id = #{other.id}\n\t        </if>\n        \n\t        <!-- Case.02.è‹¥ id ç±»å‹ä¸º Integer éœ€è¦ä»¥ä¸‹å†™æ³• \n\t        <if test=\"_parameter!=null and _parameter > 0\">\n\t            AND id = #{id}\n\t        </if>\n\t        -->\n\t        \n\t        <!-- Case.03.æŸ¥è¯¢å¤šä¸ª ID å€¼ -->\n\t        \n\t        <!--  æ‹¼æ¥æ•ˆæœï¼šAND(id = ? OR id = ? OR id = ?) \n\t        <if test=\"ids != null\">\n\t            <foreach collection=\"ids\" item=\"id\" \n\t                open=\"AND (\" close=\")\" separator=\"OR\">\n\t                id = #{id}\n\t            </foreach>\n\t        </if>\n\t        -->\n\t        \n\t        <!--  æ‹¼æ¥æ•ˆæœï¼šIN(1, 3, 5)\n\t        <if test=\"ids != null\">\n\t            <foreach collection=\"ids\" item=\"id\" \n\t                open=\"IN (\" close=\")\" separator=\",\">\n\t                id = #{id}\n\t            </foreach>\n\t        </if>\n\t        -->\n\t    </where>\n\t</select>\n\t```\n\t\n##### é«˜çº§æ˜ å°„\nä¸ºä¾¿äºåç»­ç« èŠ‚çš„å­¦ä¹ ï¼Œè¿™é‡Œä»¥ç”¨æˆ·è¡¨ã€å•†å“è¡¨ã€è®¢å•è¡¨å’Œè®¢å•æ˜ç»†è¡¨çš„å®ä¾‹æ¥é˜è¿°é—®é¢˜ï¼š\n\n![å›¾6-3ç”¨æˆ·è´­ç‰©æ¸…å•ERå›¾](/images/illustration/Project/2018/08/J2EE-SSM-1_6-3.png)\n<center>å›¾ 6-3 ç”¨æˆ·è´­ç‰©æ¸…å• ER å›¾</center>\n\n- ç”¨æˆ·è¡¨ ( User )ï¼šè´­ä¹°å•†å“çš„ç”¨æˆ·ä¿¡æ¯ï¼›\n- å•†å“è¡¨ ( Item )ï¼šå•†å“çš„æ˜ç»†ä¿¡æ¯ï¼›\n- è®¢å•è¡¨ ( Order )ï¼šç”¨æˆ·æ‰€åˆ›å»ºçš„è®¢å•ï¼›\n- è®¢å•æ˜ç»†è¡¨ ( OrderDetail )ï¼šæ¯ä¸€å¼ è®¢å•è®°å½•è´­ä¹°çš„å•†å“ä¿¡æ¯ï¼›\n\n\t> ä¸ºä¾¿äºç†è§£ï¼Œæ•°æ®è¡¨ä¸ POJO ( å®ä½“ç±» ) çš„åç§°ç»Ÿä¸€å‘½åä¸ºç›¸åŒåç§°ã€‚\n\n###### ä¸€å¯¹ä¸€æ˜ å°„\nä¾¿äºç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ç«‹ä¸€éœ€æ±‚ï¼šæŸ¥è¯¢è®¢å•è¡¨ï¼Œå…³è”æŸ¥è¯¢ `åˆ›å»ºè®¢å•çš„ç”¨æˆ·ä¿¡æ¯`ã€‚\n\nUser å’Œ Order çš„å…³è”æŸ¥è¯¢ï¼Œå…³é”®æ˜¯æŸ¥è¯¢å‡ºæ¥çš„ç»“æœå¦‚ä½•æ˜ å°„ï¼Ÿæ˜¯ç”¨ resultTypeï¼Œè¿˜æ˜¯ç”¨ resultMapï¼Ÿ\n\n1) `resultType`  \n\næ˜¾ç„¶æˆ‘ä»¬çš„å®ä½“ç±» ( User ä»…ä»…åŒ…å«ç”¨æˆ·ä¿¡æ¯ï¼ŒOrder ä»…ä»…åŒ…å«è®¢å•ä¿¡æ¯ï¼ŒOrder ä¸­æ²¡æœ‰ User çš„å¼•ç”¨ ) å¹¶ä¸èƒ½æ¥å—å…³è”æŸ¥è¯¢çš„ç»“æœé›†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è€ƒè™‘ä½¿ç”¨ OrderVoUser æ˜ å°„ç±»ï¼Œå³è®©å®ƒ `extends Orders`ï¼Œç„¶ååœ¨åŠ ä¸Šä¸€äº› User çš„å±æ€§ä½œä¸ºè¾“å‡ºç»“æœç±»å‹ã€‚\n\t\n> OrdersVoUser æ˜ å°„ç±»çš„åˆ›å»ºåŸç†ä¸ä¸Šè¿°çš„ POJOCollection æ˜ å°„ç±»ä¸€æ ·ã€‚\n\t\n2) `resultMap`  \n\t\nå¯æ»¡è¶³å¤æ‚è¾“å‡ºç»“æœæ˜ å°„ï¼Œä¾‹å¦‚æ•°æ®åº“å­—æ®µåç§°ä¸æŸ¥è¯¢çš„å­—æ®µåç§° ( æˆ–é€šè¿‡ AS å£°æ˜äº†åˆ«å ) ä¸ä¸€è‡´çš„æ˜ å°„ï¼›å»¶è¿ŸåŠ è½½ï¼›ä¸€å¯¹ä¸€ï¼Œä¸€å¯¹å¤šï¼Œå¤šå¯¹å¤šç­‰é«˜çº§æ˜ å°„ç‰¹æ€§ã€‚\n\t\n> è¿™é‡Œå¼•ç”¨å®ä¾‹è¯´æ˜ï¼Œå³ä½¿ç”¨ resultMap å°†æŸ¥è¯¢ç»“æœä¸­çš„è®¢å•ä¿¡æ¯æ˜ å°„åˆ° Other å¯¹è±¡ä¸­ï¼Œåœ¨ Order ç±»ä¸­æ·»åŠ  User å±æ€§ï¼Œå°†å…³è”æŸ¥è¯¢å‡ºæ¥çš„ç”¨æˆ·ä¿¡æ¯æ˜ å°„åˆ° Other å¯¹è±¡ä¸­çš„ User å±æ€§ä¸­ã€‚ \n\t\n- é…ç½®æ˜ å°„æ–‡ä»¶ Mapper.xml \n\n\t```xml\n\t<!-- æ˜ å°„æ–‡ä»¶ Mapper.xml -->\n\t\n\t<!-- è®¢å•æŸ¥è¯¢æ˜ å…³è”æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯çš„ resultMap  -->\n\t<resultMap id=\"OrderUserResultMap\" type=\"cn.kofes.ssm.pojo.Order\">\n\t    <!-- \n\t     | é…ç½®æ˜ å°„çš„è®¢å•ä¿¡æ¯\n\t     | columï¼šè®¢å•ä¿¡æ¯çš„åˆ—å\n\t     | propertyï¼šè®¢å•ä¿¡æ¯çš„åˆ—åæ‰€æ˜ å°„åˆ° POJO ä¸­çš„å±æ€§å\n\t    -->\n\t    <id column=\"order_id\" property=\"order_id\" />\n\t    <result column=\"createtime\" property=\"createtime\" />\n\t    \n\t    <!-- \n\t     | é…ç½®æ˜ å°„çš„å…³è”ç”¨æˆ·ä¿¡æ¯\n\t     | association æ ‡ç­¾ä¸­ javaType å¿…é¡»è¦æ˜ç¡®æŒ‡æ˜ç±»å‹\n\t     -->\n\t     <association property=\"user\" javaType=\"cn.kofes.ssh.pojo.User\">\n\t         <id column=\"uid\" property=\"uid\" />\n\t         <result column=\"username\" property=\"username\" />\n\t         <result column=\"age\" property=\"age\" />\n\t         <result column=\"phone\" property=\"phone\" />\n\t     </association>\n\t</resultMap>\n\t\n\t<!-- SQL è¯­å¥ï¼šæŸ¥è¯¢è®¢å•è¡¨ï¼Œå…³è”æŸ¥è¯¢åˆ›å»ºè®¢å•çš„ç”¨æˆ·ä¿¡æ¯  -->\n\t<select id=\"findOrderUserResultMap\" resultMap=\"OrderUserResultMap\">\n\t    SELECT\n\t        u.uid, u,username, u.age, u.phone, \n\t        o.order_id\n\t    FROM\n\t        Order AS o, User AS u\n\t    WHERE\n\t        o.id = u.uid\n\t</select>\n\t```\n\t\n- Mapper æ¥å£ï¼š\n\n\t```java\n\t// SampleMapper æ¥å£\n\tpublic interface SampleMapper {\n\t    public List<Order> findOrderUserResultMap();\n\t}\n\n\t// å•å…ƒæµ‹è¯•ç±»\n\tpublic class SampleMapperTest {\n\n\t    private SqlSessionFactory sqlSessionFactory;\n\t    private  SqlSession sqlSession;\n\n\t    @Before\n\t    public void setUp() throws IOException {\n\t        // åŒä¸Š\n\t    }\n\n\t    @Test\n\t    public void testFindOrderUserResultMap() {\n\t        // Mapper æ¥å£ä»£ç†\n\t        SampleMapper sampleMapper = \n\t            sqlSession.getMapper(SampleMapper.class);\n            \n\t        List<Order> list = sampleMapper.findOrderUserResultMap();\n\t    }\n\t}\n\t```\n\n###### ä¸€å¯¹å¤šæ˜ å°„\nç¡®ç«‹ä¸€éœ€æ±‚ï¼šæŸ¥è¯¢è®¢å•åŠè®¢å•æ˜ç»†çš„ä¿¡æ¯ã€‚\n\n- å®ä½“ç±»é…ç½®\n\n\t> ä¸ºäº†æ»¡è¶³äºŒçº§ç¼“å­˜éœ€æ±‚ï¼Œæ‰€æœ‰å®ä½“ç±»å®ç° `Serializablle` æ¥å£ï¼Œå®ç°åºåˆ—åŒ–ã€‚\n\n\t```java\n\tpublic class User implements Serializable {\n\t\n\t    private Integer uid;\n\t    private String username;\n\t    private Integer age;\n\t    private String phone;\n\t    \n\t    // Getter å’Œ Setter æ–¹æ³•è¦å®ç°\n\t}\n\t\n\tpublic class Order implements Serializable {\n\t    private Integer order_id;\n\t    private Date createtime;\n\t    \n\t    // æŠŠè®¢å•æ‰€å¯¹åº”çš„è®¢å•æ˜ç»†æ˜ å°„åˆ° orderDetail å±æ€§ä¸­\n\t    private List<OrderDetail> orderDetail;\n\t    \n\t    // Getter å’Œ Setter æ–¹æ³•è¦å®ç°\n\t}\n\t\n\tpublic class OrderDetail implements Serializable {\n\t    private Integer orderdetail_id;\n\t    private Integer item_id;\n\t    private Integer order_id;\n\t    private Integer amount;\n\t    \n\t    // Getter å’Œ Setter æ–¹æ³•è¦å®ç°\n\t}\n\n\tpublic class Item implements Serializable {\n\t    private Integer item_id;\n\t    private String itemname;\n\t    private String itemprice;\n    \n\t    // Getter å’Œ Setter æ–¹æ³•è¦å®ç°\n\t}\n\t```\n\n- é…ç½®æ˜ å°„æ–‡ä»¶ Mapper.xml \n\n\t```xml\n\t<!-- æ˜ å°„æ–‡ä»¶ Mapper.xml -->\n\t\n\t<!-- æŸ¥è¯¢è®¢å•åŠå…³è”æŸ¥è¯¢è®¢å•æ˜ç»†çš„ resultMap  -->\n\t<resultMap \n\t    id=\"OrderAndOrderDetailResultMap\"\n\t    type=\"cn.kofes.ssm.pojo.Order\"\n\t    extend=\"OrderUserResultMap\">\n\t\n\t    <!-- é…ç½®æ˜ å°„çš„è®¢å•ä¿¡æ¯ -->  \n\t    <!-- é…ç½®æ˜ å°„çš„ç”¨æˆ·ä¿¡æ¯ -->\n\t    <!-- é€šè¿‡ç»§æ‰¿å…å»é‡å¤é…ç½®ï¼šextend=\"Objective ResultMap ID\" -->\n\t    \n\t    <!-- \n\t     | é…ç½®æ˜ å°„çš„è®¢å•æ˜ç»†ä¿¡æ¯ï¼šä½¿ç”¨ Collection å¯¹å…³è”æŸ¥è¯¢çš„å¤šæ¡è®°å½•\n\t     | æ˜ å°„åˆ°ä¸€ä¸ª List é›†åˆå±æ€§ä¸­\n\t     | ofTypeï¼šæŒ‡å®šæ˜ å°„åˆ°é›†åˆå±æ€§ä¸­ POJO çš„ç±»å‹\n\t    -->\n\t    <collection property=\"orderDetail\" ofType=\"cn.kofe.ssm.pojo.OrderDetail\">\n\t        <id column=\"orderdetail_id\" property=\"id\">\n\t        <result column=\"item_id\" property=\"username\" />\n\t        <result column=\"order_id\" property=\"username\" />\n\t        <result column=\"amount\" property=\"amount\" />\n\t    </collection>\n\t</resultMap>\n\t\n\t<!-- SQLï¼šæŸ¥è¯¢è®¢å•åŠè®¢å•æ˜ç»†çš„ä¿¡æ¯ -->\n\t<select \n\t    id=\"findOrderAndOrderDetailResultMap\"\n\t    resultMap=\"OrderAndOrderDetailResultMap\">\n\t    SELECT\n\t        o.order_id, o.createtime, \n\t        od.item_id, od.amount,\n\t        i.itemname\n\t    FROM\n\t        Order AS o, Item AS i, OrderDetail As od\n\t    WHERE \n\t        od.order_id = o.order_id AND \n\t        od.item_id = i.item_id\n\t</select>\n\t```\n\t\n- Mapper æ¥å£ï¼š\n\n\t```java\n\t// SampleMapper æ¥å£\n\tpublic interface SampleMapper {\n\t    public List<Order> findOrderAndOrderDetailResultMap();\n\t}\n\n\t// å•å…ƒæµ‹è¯•ç±»\n\tpublic class SampleMapperTest {\n\n\t    private SqlSessionFactory sqlSessionFactory;\n\t    private  SqlSession sqlSession;\n\n\t    @Before\n\t    public void setUp() throws IOException {\n\t        // åŒä¸Š\n\t    }\n\n\t    @Test\n\t    public void testFindOrderAndOrderDetailResultMap() {\n\t        // Mapper æ¥å£ä»£ç†\n\t        SampleMapper sampleMapper = \n\t            sqlSession.getMapper(SampleMapper.class);\n            \n\t        List<Order> list = sampleMapper.findOrderAndOrderDetailResultMap();\n\t    }\n\t}\n\t```\n\n###### å¤šå¯¹å¤šæ˜ å°„\nç¡®ç«‹ä¸€éœ€æ±‚ï¼šæŸ¥è¯¢ç”¨æˆ·åŠç”¨æˆ·è´­ä¹°çš„å•†å“ä¿¡æ¯ã€‚\n\nåœ¨å¤šå¯¹å¤šæ˜ å°„ä¸­ï¼Œå…·ä½“çš„æ˜ å°„æ€è·¯æ˜¯ï¼š  \n1) åœ¨ User å®ä½“ç±»ä¸­æ·»åŠ è®¢å•åˆ—è¡¨å±æ€§ `List<Order> orderList`ï¼Œå°†ç”¨æˆ·åˆ›å»ºçš„è®¢å•æ˜ å°„åˆ° orderListã€‚  \n2) åœ¨ Order å®ä½“ç±»ä¸­æ·»åŠ è®¢å•æ˜ç»†åˆ—è¡¨å±æ€§ `List<OrderDetail> orderDetail`ï¼Œå°†è®¢å•çš„æ˜ç»†æ˜ å°„åˆ° orderDetailã€‚  \n3) åœ¨ OrderDetail å®ä½“ç±»ä¸­æ·»åŠ  `Item` å±æ€§ï¼Œå°†è®¢å•æ˜ç»†æ‰€å¯¹åº”çš„å•†å“æ˜ å°„åˆ° itemã€‚  \n\n- å®ä½“ç±»é…ç½®\n\n\t```java\n\tpublic class User implements Serializable {\n\t    private Integer uid;\n\t    private String username;\n\t    private Integer age;\n\t    private String phone;\n\t    \n\t    // å°†ç”¨æˆ·åˆ›å»ºçš„è®¢å•æ˜ å°„åˆ° orderList\n\t    private List<Order> orderList;\n\t    \n\t    // Getter å’Œ Setter æ–¹æ³•è¦å®ç°\n\t}\n\t\n\tpublic class Order implements Serializable {\n\t    private Integer order_id;\n\t    private Date createtime;\n\t    \n\t    // å°†è®¢å•æ‰€å¯¹åº”çš„è®¢å•æ˜ç»†æ˜ å°„åˆ° orderDetail å±æ€§ä¸­\n\t    private List<OrderDetail> orderDetail;\n\t    \n\t    // Getter å’Œ Setter æ–¹æ³•è¦å®ç°\n\t}\n\t\n\tpublic class OrderDetail implements Serializable {\n\t    private Integer orderdetail_id;\n\t    private Integer item_id;\n\t    private Integer order_id;\n\t    private Integer amount;\n\t    \n\t    private Item item;\n\t    \n\t    // Getter å’Œ Setter æ–¹æ³•è¦å®ç°\n\t}\n\t\n\tpublic class Item implements Serializable {\n\t    private Integer item_id;\n\t    private String itemname;\n\t    private String itemprice;\n    \n\t    // Getter å’Œ Setter æ–¹æ³•è¦å®ç°\n\t}\n\t```\n\n- é…ç½®æ˜ å°„æ–‡ä»¶ Mapper.xml \n\n\t```xml\n\t<!-- æ˜ å°„æ–‡ä»¶ Mapper.xml -->\n\t\n\t<!-- æŸ¥è¯¢ç”¨æˆ·åŠå…³è”æŸ¥è¯¢ç”¨æˆ·è´­ä¹°çš„å•†å“ä¿¡æ¯çš„ resultMap  -->\n\t<resultMap \n\t    id=\"UserAndItemResultMap\" type=\"cn.kofes.ssm.pojo.User\">\n\t    \n\t    <!-- é…ç½®ç”¨æˆ·ä¿¡æ¯ -->\n\t    <id column=\"uid\" property=\"uid\">\n\t    <result column=\"username\" property=\"username\" />\n\t    <result column=\"age\" property=\"age\" />\n\t    <result column=\"phone\" property=\"phone\" />\n\n\t    <!-- \n\t     | é…ç½®æ˜ å°„çš„è®¢å•ä¿¡æ¯ï¼šä½¿ç”¨ Collection å¯¹å…³è”æŸ¥è¯¢çš„å¤šæ¡è®°å½•\n\t     | æ˜ å°„åˆ°ä¸€ä¸ª List é›†åˆå±æ€§ä¸­\n\t     | ofTypeï¼šæŒ‡å®šæ˜ å°„åˆ°é›†åˆå±æ€§ä¸­ POJO çš„ç±»å‹\n\t    -->\n\t    <collection property=\"orderList\" ofType=\"cn.kofe.ssm.pojo.Order\">\n\t    \n\t        <id column=\"order_id\" property=\"order_id\">\n\t        <result column=\"createtime\" property=\"createtime\" />\n\t        \n\t        <!-- é…ç½®æ˜ å°„çš„è®¢å•æ˜ç»†ä¿¡æ¯ï¼šä¸€ä¸ªè®¢å•åŒ…å«å¤šä¸ªè®¢å•æ˜ç»† -->\n\t        <collection property=\"orderDetail\" ofType=\"cn.kofe.ssm.pojo.OrderDetail\">\n\t        \n\t            <id column=\"orderdetail_id\" property=\"id\">\n\t            <result column=\"item_id\" property=\"username\" />\n\t            <result column=\"order_id\" property=\"username\" />\n\t            <result column=\"amount\" property=\"amount\" />\n\t            \n\t            <!-- é…ç½®æ˜ å°„çš„å•†å“ä¿¡æ¯ï¼šä¸€ä¸ªè®¢å•æ˜ç»†å¯¹åº”ä¸€ä¸ªå•†å“ -->\n\t            <association property=\"item\" javaType=\"cn.kofes.ssm.pojo.Item\">\n\t                <id column=\"item_id\" property=\"item_id\">\n\t                <result column=\"itemname\" property=\"itemname\" />\n\t                <result column=\"itemprice\" property=\"itemprice\" />\n\t            </association>\n\t            \n\t        </collection>\n\t        \n\t    </collection>\n\t    \n\t</resultMap>\n\t\n\t<!-- SQLï¼šæŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯å’Œç”¨æˆ·è´­ä¹°è¿‡çš„å•†å“ä¿¡æ¯ -->\n\t<select id=\"findUserAndItemResultMap\" resultMap=\"UserAndItemResultMap\">\n\t    SELECT \n\t        u.uid, u.username, \n\t        o.order_id,\n\t        od.item_id, od.amount\n\t        i.itemname, i.itemprice\n\t    FROM\n\t        Order AS o, User AS u, Item AS i, OrderDetail As od\n\t    WHERE\n\t        o.user_id = u.uid AND\n\t        od.order_id = o.order_id AND\n\t        od.item_id = i.item_id\n\t</select>\n\t```\n\t\n- Mapper æ¥å£ï¼š\n\n\t```java\n\t// SampleMapper æ¥å£\n\tpublic interface SampleMapper {\n\t    public List<User> findUserAndItemResultMap();\n\t}\n\n\t// å•å…ƒæµ‹è¯•ç±»\n\tpublic class SampleMapperTest {\n\n\t    private SqlSessionFactory sqlSessionFactory;\n\t    private  SqlSession sqlSession;\n\n\t    @Before\n\t    public void setUp() throws IOException {\n\t        // åŒä¸Š\n\t    }\n\n\t    @Test\n\t    public void testFindUserAndItemResultMap() {\n\t        // Mapper æ¥å£ä»£ç†\n\t        SampleMapper sampleMapper = \n\t            sqlSession.getMapper(SampleMapper.class);\n            \n\t        List<User> list = sampleMapper.findUserAndItemResultMap();\n\t    }\n\t}\n\t```\n\n###### é«˜çº§æ˜ å°„æ€»ç»“\n- ä¸€å¯¹ä¸€æ˜ å°„ï¼šåœ¨ `Order` å®ä½“å¯¹è±¡ä¸­å¼•å…¥ `User` å±æ€§ï¼Œä¸”åœ¨é…ç½®æ–‡ä»¶ Mapper.xml ä¸­ï¼Œé€šè¿‡ `<association>` æ ‡ç­¾å…³è”ç”¨æˆ·ä¿¡æ¯ã€‚\n- ä¸€å¯¹å¤šæ˜ å°„ï¼šåœ¨ `Order` å®ä½“å¯¹è±¡ä¸­æ·»åŠ è®¢å•æ˜ç»†åˆ—è¡¨å±æ€§ `List<OrderDetail> orderDetails`ï¼Œä¸”åœ¨é…ç½®æ–‡ä»¶ Mapper.xml ä¸­ï¼Œé€šè¿‡ `<collection>` æ ‡ç­¾å…³è”è®¢å•æ˜ç»†ä¿¡æ¯ã€‚\n- å¤šå¯¹å¤šæ˜ å°„ï¼š\n\t- åœ¨ User å®ä½“å¯¹è±¡ä¸­æ·»åŠ è®¢å•åˆ—è¡¨å±æ€§ `List<Order> orderList`ï¼Œå°†ç”¨æˆ·åˆ›å»ºçš„è®¢å•æ˜ å°„åˆ° orderListã€‚  \n\t- åœ¨ Order å®ä½“å¯¹è±¡ä¸­æ·»åŠ è®¢å•æ˜ç»†åˆ—è¡¨å±æ€§ `List<OrderDetail> orderDetail`ï¼Œå°†è®¢å•çš„æ˜ç»†æ˜ å°„åˆ° orderDetailã€‚  \n\t- åœ¨ OrderDetail å®ä½“å¯¹è±¡ä¸­æ·»åŠ  `Item` å±æ€§ï¼Œå°†è®¢å•æ˜ç»†æ‰€å¯¹åº”çš„å•†å“æ˜ å°„åˆ° itemã€‚\n\n##### å»¶è¿ŸåŠ è½½\n- å»¶è¿ŸåŠ è½½ï¼Œå³éœ€è¦æ—¶æ‰å‘å‡º SQL æŸ¥è¯¢è¯·æ±‚ã€‚Hibernate ä¸­æœ‰å»¶è¿ŸåŠ è½½ï¼ŒMyBatis åŒæ ·æä¾›äº†è¿™ä¸ªåŠŸèƒ½ï¼Œå…·ä½“ä»¥ `<resultMap>` æ ‡ç­¾çš„å±æ€§å®Œæˆé…ç½®ã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å¯å…·ä½“åˆ†æ MyBatis çš„å»¶è¿ŸåŠ è½½ã€‚\n\n- MyBatisæ˜¯é»˜è®¤å¼€å¯å»¶è¿ŸåŠ è½½çš„ä¹ˆï¼Ÿå¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆæ˜¾ç„¶åº”è¯¥è¿›è¡Œå»¶è¿ŸåŠ è½½é…ç½®ã€‚\n\n\tåœ¨ MyBatis çš„å…¨å±€æ ¸å¿ƒé…ç½®æ–‡ä»¶ SqlMapConfig.xml çš„ `<settings>` æ ‡ç­¾ä¸­å¯è®¾ç½® lazyLoadingEnabled ä»¥åŠ aggressiveLazyLoading å±æ€§å€¼ã€‚\n\t\n\t- `lazyLoadingEnabled`ï¼šå…¨å±€æ€§è®¾ç½®æ‡’åŠ è½½ï¼Œé»˜è®¤å€¼ä¸º flaseï¼Œå³æ‰€æœ‰ç›¸å…³è”çš„éƒ½ä¼šè¢«åˆå§‹åŒ–åŠ è½½ã€‚\n\n\t- `aggressiveLazyLoading`ï¼šé»˜è®¤å€¼ä¸º tureï¼Œæ‡’åŠ è½½çš„å¯¹è±¡å¯èƒ½è¢«ä»»ä½•æ‡’å±æ€§å…¨éƒ¨åŠ è½½ã€‚å¦è€…ï¼Œæ¯ä¸ªå±æ€§æŒ‰éœ€åŠ è½½ã€‚\n\n- è¦å®ç°å»¶è¿ŸåŠ è½½ï¼Œå°±å¾—è¿›è¡Œ SQL æ‹†åˆ† ( è‹¥æˆ‘ä»¬çš„SQLéƒ½å†™åœ¨ä¸€èµ·ï¼ŒDBè¦ä¹ˆæ‰§è¡Œï¼Œè¦ä¹ˆä¸æ‰§è¡Œï¼Œæ ¹æœ¬åšä¸åˆ°æŒ‰éœ€æŸ¥è¯¢ï¼Œæ‰€ä»¥è¦å»¶è¿ŸåŠ è½½å°±å¾—æ‹†åˆ† SQL ) é‚£ä¹ˆæ€ä¹ˆè¿›è¡Œæ‹†åˆ†å‘¢ï¼Ÿ\n\n\tåœ¨ resultMap ä¸­çš„ `<collection>` ä»¥åŠ `<association>` æ ‡ç­¾ä¸­æœ‰ `select` å±æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´å½“ä½¿ç”¨åˆ°äº† `<collection>` æˆ–è€… `<association>` æ—¶æ‰å‘å‡º `select` å±æ€§å¯¹åº”çš„ SQLã€‚\n\t\n\t```xml\n\t<!-- æ˜ å°„æ–‡ä»¶ Mapper.xml -->\n\t\n\t<!-- å»¶è¿ŸåŠ è½½çš„ resultMap -->\n\t<resultMap\n\t    id=\"OrderUserLazyLoadingResultMap\" type=\"cn.kofes.ssm.pojo.Order\">\n\t    <id column=\"order_id\" property=\"order_id\" />\n\t    <result column=\"createtime\" property=\"createtime\" />\n\n\t    <!-- å®ç°å¯¹ç”¨æˆ·ä¿¡æ¯è¿›è¡Œå»¶è¿ŸåŠ è½½\n\t     | select å±æ€§ï¼šæŒ‡å®šå»¶è¿ŸåŠ è½½éœ€è¦æ‰§è¡Œçš„ Statement çš„ IDï¼Œ\n\t     | å³æ ¹æ® user_id æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯çš„ Statement\n\t     | column å±æ€§ï¼šè®¢å•ä¿¡æ¯ä¸­å…³è”æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯å¾—åˆ°çš„åˆ—ï¼Œ\n\t    -->\n\t    <association \n\t        property=\"user\" javaType=\"cn.kofes.ssh.pojo.User\"\n\t        select=\"findUserById\" column=\"user_id\" />\n\t    \n\t</resultMap>\n\t\n\t<!-- Step.01.æŸ¥è¯¢è®¢å•ç®¡ç†æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼Œç”¨æˆ·ä¿¡æ¯éœ€è¦å»¶è¿ŸåŠ è½½ -->\n\t<select\n\t    id=\"finOrderUserLazyLoading\" resultMap=\"OrderUserLazyLoadingResultMap\">\n\t    SELECT * FROM Order\n\t</select>\n\t\n\t<!-- Step.02.å…³è”æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ï¼šæ ¹æ®è®¢å•ä¿¡æ¯ä¸­çš„ user_id å»å…³è”æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯ -->\n\t<select\n\t    id=\"findUserById\" parameterType=\"int\" resultType=\"cn.kofes.ssm.pojo.User\">\n\t    SELECT * FROM User WHERE user_id = #{user_id}\n\t</select>\n\t\n\t<!-- \n\t | æ‰§è¡Œé¡ºåºï¼šå³å…ˆæ‰§è¡Œ finOrderUserLazyLoadingï¼Œ\n\t | å½“éœ€è¦æŸ¥è¯¢ç”¨æˆ·æ—¶åœ¨å†æ‰§è¡Œ findUserById\n\t-->\n\t```\n\t\n- æˆ‘ä»¬å…¶å®å¯ä»¥å€ŸåŠ© MyBatis å»å®Œæˆå»¶è¿ŸåŠ è½½ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å®ç°å»¶è¿ŸåŠ è½½ã€‚æ€ä¹ˆåšå‘¢ï¼Ÿå³æœ‰éœ€æ±‚æ—¶ï¼Œæˆ‘ä»¬è‡ªå·±è°ƒç”¨ç›¸åº”çš„ Statement å®Œæˆå³å¯ã€‚\n\n##### æŸ¥è¯¢ç¼“å­˜\n\n![å›¾6-4MyBatisçš„ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜](/images/illustration/Project/2018/08/J2EE-SSM-1_6-4.png)\n<center>å›¾ 6-4 MyBatis çš„ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜ $^{[3]}$</center>\n\n- MyBatis æä¾›ä¸€çº§ç¼“å­˜å’ŒäºŒçº§ç¼“å­˜ï¼š\n\t- ä¸€çº§ç¼“å­˜æ˜¯ sqlSession çº§åˆ«çš„ç¼“å­˜ã€‚åœ¨æ“ä½œæ•°æ®åº“æ—¶éœ€è¦æ„é€  sqlSession å¯¹è±¡ï¼Œåœ¨å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªæ•°æ®ç»“æ„ ( HashMapï¼ŒKEY ä¸»è¦å°±æ˜¯ SqlSession + StatementId æ„æˆ ) ç”¨äºå­˜å‚¨ç¼“å­˜æ•°æ®ã€‚ä¸åŒçš„ sqlSession ä¹‹é—´çš„ç¼“å­˜æ•°æ®åŒºåŸŸæ˜¯äº’ä¸å½±å“çš„ï¼›\n\t- äºŒçº§ç¼“å­˜æ˜¯ Mapper çº§åˆ«çš„ç¼“å­˜ ( `æŒ‰ Namespace åˆ’åˆ†` )ã€‚å¤šä¸ª sqlSession å»æ“ä½œåŒä¸€ä¸ª Mapper çš„ SQL è¯­å¥ï¼Œå¤šä¸ª sqlSession å»æ“ä½œæ•°æ®åº“å¾—åˆ°æ•°æ®çš„æ•°æ®ä¼šå­˜åˆ°äºŒçº§ç¼“å­˜ä¸­ã€‚äºŒçº§ç¼“å­˜åŒºåŸŸæ˜¯å…±äº«çš„ã€‚\n\n###### ä¸€çº§ç¼“å­˜\n- ä¸€çº§ç¼“å­˜çš„å·¥ä½œåŸç†ï¼š\n\t- å¦‚å›¾ 6-3 æ‰€ç¤ºï¼Œå½“ sqlSession å‘èµ· `æŸ¥è¯¢` æ“ä½œï¼ŒæŸ¥è¯¢ç»“æœä¼š `å†™å…¥` åˆ°ä¸€çº§ç¼“å­˜ä¸­ï¼Œå¾…äºŒæ¬¡ `è¯»å–` ç›´æ¥ä»ä¸€æ¬¡ç¼“å­˜ä¸­è¯»å–å³å¯ï¼›è‹¥ sqlSession å‘èµ· `æ’å…¥ã€æ›´æ–°ã€åˆ é™¤` æ“ä½œï¼Œåˆ™ä¼š `æ¸…ç©º` ä¸€çº§ç¼“å­˜åŒºåŸŸä¸­çš„ä¿¡æ¯ï¼Œä»¥é¿å…è„è¯»ã€‚\n\t- å½“ sqlSession å…³é—­æ—¶ï¼ŒsqlSession ç¼“å­˜ä¹Ÿéšä¹‹å¤±æ•ˆã€‚\n- MyBatis æ˜¯é»˜è®¤æ”¯æŒä¸€çº§ç¼“å­˜çš„ï¼Œæ— éœ€é…ç½®å¼€å¯ã€‚\n\n###### äºŒçº§ç¼“å­˜\n- äºŒçº§ç¼“å­˜æ˜¯éœ€è¦é…ç½®å¼€å¯çš„ï¼š\n\t- åœ¨å…¨å±€é…ç½®æ–‡ä»¶ `SqlMapConfig.xml` ä¸­æŒ‡æ˜ï¼Œå³åœ¨ `<setting>` æ ‡ç­¾ä¸­çš„ `cacheEnabled` å±æ€§ï¼Œå¼€å¯å…¨å±€æ€§ç¼“å­˜å¼€å…³ï¼›\n\t- å…¶æ¬¡åœ¨éœ€è¦å¼€å¯äºŒçº§ç¼“å­˜çš„ `XXXMapper.xml` ä¸­æŒ‡æ˜ `<cache>` æ ‡ç­¾ã€‚\n\n\t```xml\n\t<mapper namespace=\"cn.kofes.mapper.SampleMapper\">\n\t    <!-- \n\t     | å¼€å¯æœ¬ Mapper namespace ä¸‹çš„äºŒçº§ç¼“å­˜\n\t     | type å±æ€§ï¼šæŒ‡å®š cache æ¥å£çš„å®ç°ç±»çš„ç±»å‹ï¼Œé»˜è®¤ä½¿ç”¨ PerpetualCache\n\t     | \n\t    -->\n\t    <cache type=\"...\"/>\n\t    \n\t    <!-- å½“ç„¶ä¹Ÿå¯ä½¿ç”¨åˆ†å¸ƒå¼ç¼“å­˜ï¼šEhcache\n\t    <cache type=\"org.mybatis.caches.ehcache.EhcacheCache\"/>\n\t    -->\n\t</mapper>\n\t```\n\t\n- æ‰€æœ‰ POJO å®ç°åºåˆ—åŒ–æ¥å£ï¼šè‹¥å¼€å¯äºŒçº§ç¼“å­˜ï¼Œå…¶å­˜å‚¨ä»‹è´¨å¯åœ¨å†…å­˜ã€ç£ç›˜ç­‰ï¼Œå³ä¸ºäº†å°†ç¼“å­˜æ•°æ®å–å‡ºæ‰§è¡Œååºåˆ—åŒ–æ“ä½œã€‚\n\n\t```java\n\tpublic class User implements Serializable { /* çœç•¥ç»†èŠ‚ */ }\n\tpublic class Order implements Serializable { /* çœç•¥ç»†èŠ‚ */ }\n\t```\n\t\n- äºŒçº§ç¼“å­˜çš„å±€é™æ€§ï¼š\n\n\tä¾‹å¦‚ï¼Œæˆ‘ä»¬ä»…ä»…æ›´æ–°äº†å…¶ä¸­ä¸€ä¸ªä¿¡æ¯ï¼Œé‚£ä¹ˆæ„å‘³ç€äºŒçº§ç¼“å­˜çš„æ¸…ç©ºã€‚è€Œæˆ‘ä»¬çœŸæ­£æƒ³è¦çš„æ˜¯åˆ·æ–°è¯¥å•†å“çš„ç¼“å­˜ä¿¡æ¯è€Œä¸è¦å½±å“å…¶ä»–å•†å“çš„ç¼“å­˜ä¿¡æ¯ã€‚\n\t\n##### æ•´åˆ ehcache\n- `ehcache` æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼ç¼“å­˜æ¡†æ¶ï¼Œå½“ç„¶è¿˜æœ‰ `redis`ã€`memached` ç­‰ã€‚\n- åˆ†å¸ƒå¼ç¼“å­˜ï¼Œç³»ç»Ÿä¸ºäº†æé«˜ç³»ç»Ÿå¹¶å‘ã€æ€§èƒ½ï¼Œä¸€èˆ¬å¯¹ç³»ç»Ÿè¿›è¡Œåˆ†å¸ƒå¼éƒ¨ç½² ( é›†ç¾¤éƒ¨ç½²æ–¹å¼ )ã€‚\n- æ•´åˆæ–¹æ³•ï¼šMyBatis æä¾›çš„ Cache æ¥å£ï¼Œå®ç°ç¼“å­˜é€»è¾‘å³å®ç° Cache æ¥å£å³å¯ã€‚\n\t- æä¾› ehcache ä»¥åŠ ehcache ä¸ MyBatis æ•´åˆçš„ä¾èµ– ( æˆ–è€… Jar åŒ… )ï¼›\n\t- åœ¨ `<cache>` æ ‡ç­¾ä¸­ï¼Œtype å±æ€§æŒ‡æ˜ ehcache å®ç° Cache æ¥å£çš„å®ç°ç±»ï¼Œæ—¢æœ‰ï¼š  \n\t`<cache type=\"org.mybatis.caches.ehcache.EhcacheCache\"/>`ï¼›\n\t- æä¾›ç›¸å…³çš„ ehcache é…ç½®æ–‡ä»¶.\n\n\t```java\n\t// MyBatis æä¾›çš„ Cache æ¥å£\n\tpublic interface Cache {\n\t    String getId();\n\t    void putObject(Object var1, Object var2);\n\t    Object getObject(Object var1);\n\t    Object removeObject(Object var1);\n\t    void clear();\n\t    int getSize();\n\t    ReadWriteLock getReadWriteLock();\n\t}\n\t```\n\n##### é€†å‘å·¥ç¨‹\n- MyBatis å®˜æ–¹æä¾›é€†å‘å·¥ç¨‹ï¼Œå¯é’ˆå¯¹å•è¡¨è‡ªåŠ¨ç”Ÿæˆ MyBatis æ‰§è¡Œæ‰€éœ€è¦çš„ä»£ç  ( mapper.javaï¼Œmapper.xmlï¼Œpojo ç­‰ )ã€‚\n- ä¼ä¸šå®é™…å¼€å‘ä¸­ï¼Œå¸¸ç”¨çš„é€†å‘å·¥ç¨‹æ–¹å¼ï¼šç”±æ•°æ®åº“è¡¨ç”Ÿæˆ Java ä»£ç ã€‚\n- æ·»åŠ ä¾èµ–æˆ–æ·»åŠ  Jar åŒ…ï¼š[MyBatis-Generator](http://mvnrepository.com/artifact/org.mybatis.generator/mybatÃŸis-generator-core) ( Maven ä¸­å¤®ä»“åº“ )\n\n###### è¿è¡Œé€†å‘å·¥ç¨‹\n- å‚è€ƒå®˜æ–¹æŒ‡å— [MyBatis Generator](http://www.mybatis.org/generator/running/running.html)ï¼Œè¿è¡Œé€†å‘å·¥ç¨‹æœ‰å¦‚ä¸‹æ–¹å¼ï¼š\n\t- ä½¿ç”¨å‘½ä»¤æç¤ºç¬¦è¯»å– XML é…ç½®æ–‡ä»¶ï¼›\n\t- ä½¿ç”¨ Maven æ’ä»¶ï¼›\n\t- ä½¿ç”¨ Java ç¨‹åºè¯»å– XML é…ç½®æ–‡ä»¶ ( æ¨èï¼Œå³ä¸ä¾èµ– IDE )ï¼›\n\t- ä½¿ç”¨ IDE æ’ä»¶ ( Eclipse )ï¼›\n\n###### ä»£ç é…ç½®æ–‡ä»¶\n- MyBatis å®˜æ–¹æä¾›äº†é…ç½®æ–‡æ¡£çš„èŒƒä¾‹ï¼š[MyBatis GeneratorXML Configuration File Reference](http://www.mybatis.org/generator/configreference/xmlconfig.html)\n\n\tå½“ç„¶ï¼Œä½ å¯ä»¥å‚è€ƒä¸‹æ–‡ $^{[5]}$ï¼Œæ­é…æ³¨é‡Šï¼Œäº’ç›¸è¡¥å……ï¼š\n\t\n\t```xml\n\t<!-- generatorConfig.xml -->\n\t\n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<!DOCTYPE generatorConfiguration\n\t    PUBLIC \"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN\"\n\t    \"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd\">\n\t    \n\t<generatorConfiguration>\n\t    <context id=\"testTables\" targetRuntime=\"MyBatis3\">\n\t    \n\t        <commentGenerator>\n\t            <!-- æ˜¯å¦å»é™¤è‡ªåŠ¨ç”Ÿæˆçš„æ³¨é‡Šï¼štrue / false -->\n\t            <property name=\"suppressAllComments\" value=\"true\" />\n\t        </commentGenerator>\n\t        \n\t        <!-- ( å¿…å¡« ) æ•°æ®åº“è¿æ¥çš„ä¿¡æ¯ï¼šé©±åŠ¨ç±»ã€è¿æ¥åœ°å€ã€ç”¨æˆ·åã€å¯†ç  -->\n\t        \n\t        <!-- è¿æ¥ MySQL æ•°æ®åº“ -->\n\t        <jdbcConnection driverClass=\"com.mysql.jdbc.Driver\" \n\t            connectionURL=\"jdbc:mysql://127.0.0.1:3306/db_testdb?characterEncoding=utf-8\" \n\t            userId=\"root\" password=\"123456\">\n\t        </jdbcConnection>\n\t        \n\t        <!-- è¿æ¥ Oracle æ•°æ®åº“\n\t        <jdbcConnection driverClass=\"oracle.jdbc.OracleDriver\"\n\t            connectionURL=\"jdbc:oracle:thin:@127.0.0.1:1521:db_testdb\" \n\t            userId=\"kofe\" password=\"123456\">\n\t        </jdbcConnection>\n\t        -->\n\n\t        <!--\n\t         | false ( é»˜è®¤ )ï¼ŒæŠŠ Jdbc Decimal å’Œ Numeric ç±»å‹è§£æä¸º Integer\n\t         | trueï¼ŒæŠŠ Jdbc Decimal å’Œ Numeric ç±»å‹è§£æä¸º java.math.BigDecimal\n\t        -->\n\t        <javaTypeResolver>\n\t            <property name=\"forceBigDecimals\" value=\"false\" />\n\t        </javaTypeResolver>\n\n\t        <!-- targetProjectï¼šç”Ÿæˆ PO ç±»çš„ä½ç½® -->\n\t        <javaModelGenerator targetPackage=\"cn.kofes.ssm.pojo\"\n\t            targetProject=\".\\src\">\n\t            <!-- enableSubPackages æ˜¯å¦è®© schema ä½œä¸ºåŒ…çš„åç¼€ -->\n\t            <property name=\"enableSubPackages\" value=\"false\" />\n\t            <!-- ä»æ•°æ®åº“è¿”å›çš„å€¼è¢«æ¸…ç†å‰åçš„ç©ºæ ¼ -->\n\t            <property name=\"trimStrings\" value=\"true\" />\n\t        </javaModelGenerator>\n\t            \n\t        <!-- targetProject:mapper æ˜ å°„æ–‡ä»¶ç”Ÿæˆçš„ä½ç½® -->\n\t        <sqlMapGenerator targetPackage=\"cn.kofes.ssm.mapper\" \n\t            targetProject=\".\\src\">\n\t            <!-- enableSubPackages æ˜¯å¦è®© schema ä½œä¸ºåŒ…çš„åç¼€ -->\n\t            <property name=\"enableSubPackages\" value=\"false\" />\n\t        </sqlMapGenerator>\n\t            \n\t        <!-- targetPackage:mapper æ¥å£ç”Ÿæˆçš„ä½ç½® -->\n\t        <javaClientGenerator type=\"XMLMAPPER\"\n\t            targetPackage=\"cn.kofes.ssm.mapper\" \n\t            targetProject=\".\\src\">\n\t            <!-- enableSubPackages æ˜¯å¦è®© schema ä½œä¸ºåŒ…çš„åç¼€ -->\n\t            <property name=\"enableSubPackages\" value=\"false\" />\n\t        </javaClientGenerator>\n\t            \n\t        <!-- æŒ‡å®šæ•°æ®åº“è¡¨ -->\n\t        <table tableName=\"Item\"></table>\n\t        <table tableName=\"Order\"></table>\n\t        <table tableName=\"Orderdetail\"></table>\n\t        <table tableName=\"User\"></table>\n\t        \n\t        <!--\n\t        <table schema=\"\" tableName=\"sys_user\"></table>\n\t        <table schema=\"\" tableName=\"sys_role\"></table>\n\t        <table schema=\"\" tableName=\"sys_permission\"></table>\n\t        <table schema=\"\" tableName=\"sys_user_role\"></table>\n\t        <table schema=\"\" tableName=\"sys_role_permission\"></table>\n\t        -->\n\n\t        <!-- æœ‰äº›è¡¨çš„å­—æ®µéœ€è¦æŒ‡å®š Java ç±»å‹\n\t        <table schema=\"\" tableName=\"\">\n\t            <columnOverride column=\"\" javaType=\"\" />\n\t        </table>\n\t        -->\n\t        \n\t    </context>\n\t</generatorConfiguration>\n\t```\n\n###### æ‰§è¡Œé€†å‘å·¥ç¨‹ç”Ÿæˆä»£ç \n\n- é…ç½®æ–‡ä»¶é…ç½®å®Œæˆåï¼Œæ‰§è¡Œä»¥ä¸‹ç¨‹åºå³å¯ç”Ÿæˆä»£ç ï¼Œç»†èŠ‚å¦‚ä¸‹ï¼š\n\n\t```java\n\tpublic class GeneratorSqlmap {\n\n\t    public void generator() throws Exception{\n\n\t        List<String> warnings = new ArrayList<String>();\n\t        boolean overwrite = true;\n\t        \n\t        //æŒ‡å®šé€†å‘å·¥ç¨‹é…ç½®æ–‡ä»¶\n\t        File configFile = new File(\"generatorConfig.xml\"); \n\t        \n\t        ConfigurationParser cp = new ConfigurationParser(warnings);\n\t        Configuration config = cp.parseConfiguration(configFile);\n\t        DefaultShellCallback callback = new DefaultShellCallback(overwrite);\n\t        MyBatisGenerator myBatisGenerator = new MyBatisGenerator(config,\n\t            callback, warnings);\n\t        myBatisGenerator.generate(null);\n\t    } \n\t    \n\t    // è°ƒç”¨ generator() æ‰§è¡Œé€†å‘å·¥ç¨‹ç”Ÿæˆä»£ç \n\t    public static void main(String[] args) throws Exception {\n\t        try {\n\t            GeneratorSqlmap generatorSqlmap = new GeneratorSqlmap();\n\t            generatorSqlmap.generator();\n\t        } catch (Exception e) {\n\t            e.printStackTrace();\n\t        }\n\t    }\n\t    \n\t}\n\t```\n\n- å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œé™¤äº†ç”ŸæˆåŸºæœ¬çš„ POJO ç±»è¿˜å¤šäº†ä¸€ä¸ªç±»ï¼Œå°±æ˜¯ `xxxExample.java`ã€‚è¿™ä¸ªç±»æ˜¯ç»™ç”¨æˆ·è‡ªå®šä¹‰ SQL ä½¿ç”¨çš„ã€‚åˆ°è¿™é‡Œå°±ç”Ÿæˆå¥½äº†ï¼Œä¸‹é¢æˆ‘ä»¬å°±æŠŠç”Ÿæˆçš„ä»£ç  `æ‹·è´` åˆ°è‡ªå·±çš„å·¥ç¨‹å³å¯ã€‚\n\n\n---\n\n#### Spring\n\n- Spring æ¡†æ¶æ˜¯ Java åº”ç”¨æœ€å¹¿çš„æ¡†æ¶ï¼Œå…¶æˆåŠŸæºäºå®ƒçš„ç†å¿µï¼Œå³ `æ§åˆ¶åè½¬` ( Inversion of Controlï¼ŒIoC ) å’Œ `é¢å‘åˆ‡é¢ç¼–ç¨‹` ( Aspect Oriented Programmingï¼ŒAOP )ã€‚\n- Spring æ¡†æ¶ä¹Ÿå¯ç†è§£ä¸ºä¸€ä¸ªè½»é‡çº§çš„ IoC å’Œ AOP çš„å®¹å™¨æ¡†æ¶ã€‚\n- Spring æ¡†æ¶åœ¨ [SSH éƒ¨åˆ†](https://www.kofes.cn/2018/07/J2EE-SSH-SSI-1.html#Spring) æœ‰é˜è¿°ï¼Œåœ¨æœ¬ç« èŠ‚å°±ä¸å…·ä½“å±•å¼€æ¢è®¨ï¼Œç¬”è®°ä»¥è¡¥å……å’Œæ•´åˆéƒ¨åˆ†å†…å®¹ä¸ºä¸»ã€‚\n\n\t> åœ¨ SSH Spring ç« èŠ‚ä¸­ï¼Œè¦æ±‚å¯¼å…¥ç›¸å…³ Jar åŒ…ï¼Œè€Œæœ¬æ–‡çš„ SSM æ¡†æ¶è¦æ±‚å¯¼å…¥çš„ Jar åŒ… ( æˆ–è€… Maven ä¾èµ– ) ä»¥ `ç‰ˆæœ¬ä¿¡æ¯` çš„ä¸ºæ ‡å‡†ã€‚\n\n##### Spring æ•´åˆ MyBatis \nSpring æ•´åˆ MyBatis æ˜¯é€šè¿‡ `MyBatis-Spring` çš„ç±»åº“å®ç°çš„ï¼Œå…·ä½“é…ç½®å’Œä½¿ç”¨ä¿¡æ¯å¯å‚è€ƒ [MyBatis-Spring å®˜æ–¹ä½¿ç”¨æ–‡æ¡£](http://www.mybatis.org/spring/zh/index.html) $^{[4]}$ã€‚\n\n###### åŸå§‹ DAO å¼€å‘\né¦–å…ˆè¦å‘ DAO çš„å®ç°ç±»ä¸­æ³¨å…¥ SqlSessionFactory ( äº¤ç”± Spring ç®¡ç†ï¼Œå³ Spring å£°æ˜å¼æ³¨å…¥ SqlSessionFactory )ï¼Œç„¶ååœ¨å„ä¸ªæ–¹æ³•ä¸­å¾—åˆ° SqlSession è¿›è¡Œæ•°æ®åº“æ“ä½œã€‚\n\n> `è¯‰æ±‚`ï¼šåœ¨ Spring è¿ä½œä¸­ï¼Œé¦–å…ˆåŠ è½½ Spring æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå†åˆ›å»ºå¯¹è±¡ ( SqlSessionFactory )ã€‚è€Œåˆ›å»ºå¯¹è±¡å¯é€šè¿‡ New çš„æ–¹å¼åˆ›å»º ( [åŸå§‹æ–¹æ³•](#MyBatis-åŸå§‹æ–¹æ³•) )ï¼Œä½†æ•ˆç‡å¤ªä½ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥æŠŠåŠ è½½é…ç½®æ–‡ä»¶å’Œåˆ›å»ºå¯¹è±¡è¿‡ç¨‹ï¼Œåœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶å®Œæˆã€‚æ•…å¼•å…¥ Spring å£°æ˜å¼æ³¨å…¥ SqlSessionFactoryã€‚\n\n- ä½¿ç”¨å°è£…çš„æ–¹æ³•ï¼Œå³è®© Dao çš„å®ç°ç±»ç»§æ‰¿ `SqlSessionDaoSupport`ï¼Œè€Œ SqlSessionDaoSupport ç±»ä¸­å·²ç»å­˜åœ¨ `setSqlSessionFactory()` æ–¹æ³•ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥å‘ Dao çš„å®ç°ç±»æ³¨å…¥ SqlSessionFactoryã€‚\n- å¦å¤– SqlSessionDaoSupport ä¸­æœ‰ SqlSessionï¼Œå› æ­¤ä½¿å¾—æ“ä½œæ›´åŠ ç®€å•ï¼›è€Œä¸”éƒ½äº¤ç»™ Spring ç®¡ç†ï¼Œæˆ‘ä»¬è‡ªç„¶ä¸å¿…æ‹…å¿ƒå¿˜è®°å…³é—­ SqlSessionã€‚\n\t\n\t```java\n\t// ä¸‹è¿°å®ç°æ˜¯é€šè¿‡ XML é…ç½®æ–¹å¼åŠ è½½é…ç½®å’Œ Bean ( æ³¨è§£æ–¹å¼ä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œä½†å†™æ³•æœ‰åŒºåˆ« )\n\t\n\t// Dao æ¥å£\n\tpublic interface BaseDao {\n\t    public List<Sample> findSampleById(int id);\n\t}\n\t\n\t// Dao å±‚å®ç°ç±»\n\tpublic class SampleDaoImpl extends SqlSessionDaoSupport implements BaseDao {\n\t\n\t    private SqlSession sqlSession;\n\t    \n\t    public SampleDaoImpl() throws Expection {\n\t        sqlSession = this.getSqlSession();\n\t    }\n\t\n\t    public Sample findSampleById(int id) throws Exception {\n\t        return sqlSession.selectOne(\n\t            \"cn.kofes.ssm.mapper.SampleMapper.findSampleById\", id);\n\t    }\n\t}\n\t\n\t// å•å…ƒæµ‹è¯•ç±»\n\tpublic class SampleDaoTest {\n\t\n\t    private BaseDao baseDao;\n\t    \n\t    @Before\n\t    public void setUp() {\n\t        applicationContext = \n\t            new ClassPathXmlApplicationContext(\"classpath:spring.xml\");\n\t        baseDao = (BaseDao) applicationContext.getBean(\"baseDao\");\n\t    }\n\n\t    @Test\n\t    public void testFindCertainById() {\n\t        System.out.println( baseDao.findSampleById(15).toString() );\n\t    }\n\t}\n\t```\n\n###### Mapper ä»£ç†å¼€å‘\n\n- Mapper ä»£ç†å¼€å‘çš„å…·ä½“æ€è·¯ï¼š\n\t- SqlSessionFactory äº¤ç»™ Spring ç®¡ç† ( å•ä¾‹æ¨¡å¼ )ã€‚\n\n\tæ³¨æ„åˆ° SqlSessionFactory çš„åˆ›å»ºæ˜¾ç„¶éœ€è¦æ•°æ®åº“è¿æ¥ç›¸å…³çš„ä¿¡æ¯ï¼Œå› æ­¤éœ€è¦ `æ•°æ®åº“è¿æ¥æ±  (c3p0)`ï¼›é™¤æ­¤ä¹‹å¤–è¿˜éœ€è¦ MyBatis çš„ä¸»é…ç½®æ–‡ä»¶ `SqlMapConfig.xml`ã€‚\n\t\n\t- Spring å’Œ MyBatis æ•´åˆç”Ÿæˆä»£ç†å¯¹è±¡ï¼Œä½¿ç”¨ SqlSessionFactory åˆ›å»º SqlSession ( Spring å’Œ MyBatis æ•´åˆåè‡ªåŠ¨å®Œæˆæ­¤è¿‡ç¨‹ )ã€‚\n\n\t- è‹¥é‡‡ç”¨ Mapper ä»£ç†çš„æ–¹å¼å¼€å‘ï¼Œæˆ‘ä»¬éœ€è¦ Spring ç®¡ç† Mapper åŠ¨æ€ä»£ç†å®ç°ã€‚\n\n- åœ¨ Spring é…ç½®æ–‡ä»¶ä¸‹é…ç½®æ•°æ®åº“ä¿¡æ¯ï¼Œå¹¶æ•´åˆ MyBatisã€‚åè€…å°† SessionFacotry äº¤ç”± Spring ç®¡ç†ï¼š\n\n\t> c3p0.properties é…ç½®æ–‡ä»¶ä½äº Src æ ¹ç›®å½•ä¸‹ï¼Œé”®å€¼åˆ†ç¦»ä»¥ä¾¿ä¿®æ”¹é…ç½®ã€‚\n\n\t```xml\n\t<!-- spring.xml -->\n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\t    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\t    xmlns:context=\"http://www.springframework.org/schema/context\"\n\t    xsi:schemaLocation=\"\n\t    http://www.springframework.org/schema/beans \n\t    http://www.springframework.org/schema/beans/spring-beans.xsd \n\t    http://www.springframework.org/schema/context \n\t    http://www.springframework.org/schema/context/spring-context.xsd\">\n\n\t    <!-- æ‰«æåŒ…ä¸‹æ³¨è§£ï¼Œå¹¶æ³¨å†Œä¸º Bean -->\n\t    <context:component-scan base-package=\"cn.kofes.ssm\">\n\t        <context:exclude-filter type=\"annotation\" expression=\"org.springframework.stereotype.Controller\">\n\t        </context:exclude-filter>\n\t    </context:component-scan>\n           \n\t    <!-- åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ c3p0.propertiesï¼Œå­˜å‚¨æ•°æ®è¿æ¥ä¿¡æ¯ -->\n\t    <context:property-placeholder location=\"classpath:c3p0.properties\" />\n\n\t    <!-- Dao å±‚çš„é…ç½®ï¼Œå³ Mybatis çš„é…ç½® ( åˆ†æ¨¡å—å¼€å‘æ€æƒ³ ) -->\n\t    <import resource=\"spring/mybatis-spring.xml\"/>\n\t</beans>\n\t\n\t<!-- mybatis-spring.xml -->\n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\t    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\t    xmlns:context=\"http://www.springframework.org/schema/context\"\n\t    xsi:schemaLocation=\"\n\t    http://www.springframework.org/schema/beans\n\t    http://www.springframework.org/schema/beans/spring-beans.xsd\">\n\t    \n\t    <!-- 1. æ•°æ®æº : DriverManagerDataSource -->\n\t    <bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\" destroy-method=\"close\">\n\t        <!-- å¼•ç”¨ c3p0.properties çš„é”®å€¼å¯¹å³å¯ï¼Œæ ¼å¼å¦‚ ${key.value} -->\n\t        <property name=\"driverClass\" value=\"${datasource.driverClass}\"/>\n\t        <property name=\"jdbcUrl\" value=\"${datasource.jdbcUrl}\"/>\n\t        <property name=\"user\" value=\"${datasource.user}\"/>\n\t        <property name=\"password\" value=\"${datasource.password}\"/>\n\t        <!-- è®¾ç½®æ•°æ®åº“è¿æ¥æ± çš„æœ€å¤§è¿æ¥æ•° -->\n\t        <property name=\"maxPoolSize\" value=\"${datasource.maxPoolSize}\"/>\n\t        <!-- è®¾ç½®æ•°æ®åº“è¿æ¥æ± çš„æœ€å°è¿æ¥æ•° -->\n\t        <property name=\"minPoolSize\" value=\"${datasource.minPoolSize}\"/>\n\t        <!-- è®¾ç½®æ•°æ®åº“è¿æ¥æ± çš„åˆå§‹åŒ–è¿æ¥æ•° -->\n\t        <property name=\"initialPoolSize\" value=\"${datasource.initialPoolSize}\"/>\n\t        <!-- è®¾ç½®æ•°æ®åº“è¿æ¥æ± çš„è¿æ¥æœ€å¤§ç©ºé—²æ—¶é—´ -->\n\t        <property name=\"maxIdleTime\" value=\"${datasource.maxIdleTime}\"/>\n\t        <!-- c3p0ç¼“å­˜Statementçš„æ•°é‡æ•° -->\n\t        <property name=\"maxStatements\" value=\"${datasource.maxStatements}\"/>\n\t        <!-- å½“è¿æ¥æ± çš„è¿æ¥ç”¨å®Œçš„ï¼Œä» C3p0 ä¸‹è·å–æ–°çš„è¿æ¥æ•° -->\n\t        <property name=\"acquireIncrement\" value=\"${datasource.acquireIncrement}\"/>\n\t        <property name=\"checkoutTimeout\" value=\"${datasource.checkoutTimeout}\"/>\n\t        <property name=\"idleConnectionTestPeriod\" value=\"${datasource.idleConnectionTestPeriod}\"/>\n\t    </bean>\n\n\t    <!-- 2. é…ç½®å’Œ MyBatis çš„æ•´åˆ -->\n\t    <bean id=\"sqlSessionFactory\" class=\"org.mybatis.spring.SqlSessionFactoryBean\">\n\t        <property name=\"dataSource\" ref=\"dataSource\"/>\n\t    </bean>\n\n\t    <!-- 3. é…ç½®ä¸€ä¸ªå¯ä»¥æ‰§è¡Œæ‰¹é‡çš„ SqlSession -->\n\t    <bean id=\"sqlSession\" class=\"org.mybatis.spring.SqlSessionTemplate\">\n\t        <constructor-arg name=\"sqlSessionFactory\" ref=\"sqlSessionFactory\"/>\n\t        <constructor-arg name=\"executorType\" value=\"BATCH\"/>\n\t    </bean>\n\n\t    <!--\n\t     | 4. MyBatis è‡ªåŠ¨æ‰«æåŠ è½½ Sql æ˜ å°„æ–‡ä»¶: MapperScannerConfigurer\n\t     | è‡ªåŠ¨æ‰«æå‡ºçš„ Mapper Bean çš„ ID åç§°ä¸ºé¦–å­—æ¯å°å†™çš„ç±»å\n\t     | ä¸”æ•ˆæœä¸ SqlMapConfig.xml ä¸­é…ç½®æ‰¹é‡åŠ è½½æ˜ å°„æ–‡ä»¶ç›¸åŒï¼Œå³ <package name=\"cn.kofes.ssm.mapper\"/>\n\t     | 1) æ‰¹é‡åŠ è½½æ˜ å°„æ–‡ä»¶ï¼šmapper.java ä¸ mapper.xml åŒåï¼Œä¸”åœ¨åŒä¸€ç›®å½•ä¸‹\n\t     | 2) å½“ç„¶ï¼Œä½ å¯ä»¥å»ºç«‹åŒæ ·çš„æ–‡ä»¶å¤¹ç›®å½• (cn/kofes/ssm/mapper)ï¼ŒæŠŠ mapper.xml å•ç‹¬æ”¾ç½®èµ„æºç›®å½•ä¸‹\n     -->\n\t    <bean class=\"org.mybatis.spring.mapper.MapperScannerConfigurer\">\n\t        <property name=\"sqlSessionFactoryBeanName\" value=\"sqlSessionFactory\" />\n\t        <property name=\"basePackage\" value=\"cn.kofes.ssm.mapper\" />\n\t    </bean>\n\n\t</beans>\n\t```\n\n- ä»£ç å®ç°ï¼šæ³¨è§£æ–¹å¼å®ç° Mapper ç±»çš„è°ƒç”¨ï¼š\n\n\t```java\n\t// ä¸‹è¿°å®ç°æ˜¯é€šè¿‡æ³¨è§£æ–¹å¼åŠ è½½é…ç½®å’Œ Bean ( XML æ–¹å¼ä¹Ÿæ˜¯å¯è¡Œçš„ï¼Œä½†å†™æ³•æœ‰åŒºåˆ« )\n\t\n\t// Mapper æ¥å£\n\tpublic interface SampleMapper {\n\t    public Sample findCertainTupleById(Integer id);\n\t}\n\t\n\t// å•å…ƒæµ‹è¯•ç±»\n\t@RunWith(SpringJUnit4ClassRunner.class)\n\t@ContextConfiguration(locations = {\"classpath:spring.xml\"})\n\tpublic class SampleMapperTest {\n\t\n\t    @Autowired\n\t    private SampleMapper sampleMapper;\n\n\t    @Test\n\t    public void testFindCertainTupleById() {\n\t        System.out.println( \n\t            sampleMapper.findCertainTupleById(15).toString() );\n\t    }\n\t}\n\t```\n\n---\n\n#### Spring MVC\n\n- MVC ( Model-View-Controller ) æ¨¡å¼æŠŠåº”ç”¨ç¨‹åº ( è¾“å…¥é€»è¾‘ã€ä¸šåŠ¡é€»è¾‘å’Œ UI é€»è¾‘ ï¼‰åˆ†æˆä¸åŒçš„æ–¹é¢ï¼ŒåŒæ—¶æä¾›è¿™äº›å…ƒç´ é—´çš„æ¾è€¦åˆã€‚\n\t- Modelï¼šæ¨¡å‹ï¼Œå°è£…äº†åº”ç”¨ç¨‹åºçš„ `æ•°æ®` å’Œç”±å®ƒä»¬ç»„æˆçš„ `POJO`ã€‚\n\t- Viewï¼šè§†å›¾ï¼Œè´Ÿè´£æŠŠæ¨¡å‹æ•°æ® `æ¸²æŸ“åˆ°è§†å›¾` ä¸Šï¼Œå°†æ•°æ®ä»¥ä¸€å®šå½¢å¼å±•ç°ç»™ç”¨æˆ·ã€‚\n\t- Controllerï¼šè´Ÿè´£ `å¤„ç†ç”¨æˆ·è¯·æ±‚`ï¼Œå¹¶å»ºç«‹é€‚å½“çš„æ¨¡å‹æŠŠå®ƒä¼ é€’ç»™è§†å›¾æ¸²æŸ“ã€‚\n- Spring MVC æŠŠ `æ¨¡å‹`ã€`è§†å›¾` å’Œ `æ§åˆ¶å™¨` åˆ†å±‚ï¼Œç»„åˆæˆä¸€ä¸ªæœ‰æœºçµæ´»çš„ç³»ç»Ÿã€‚\n- Spring MVC ä¸­å¯å®šä¹‰é€»è¾‘è§†å›¾ï¼Œé€šè¿‡å…¶æä¾›çš„è§£æå™¨æ‰¾åˆ°å¯¹åº”çš„è§†å›¾æ¸²æŸ“ï¼›æˆ–åœ¨ Controller çš„æ–¹æ³•å†…åŠ å…¥æ³¨è§£ ( `@ResponseBody` )ï¼Œé€šè¿‡æ¶ˆæ¯è½¬æ¢ç³»ç»Ÿå°†æ•°æ®è½¬æ¢ä¸º JSONï¼Œæä¾›ç»™å‰ç«¯ Ajax è¯·æ±‚ä½¿ç”¨ã€‚\n\n\n## å‚è€ƒèµ„æ–™\n\n- \\[1\\] [ æ¨å¼€æŒ¯. Java EE äº’è”ç½‘è½»é‡çº§æ¡†æ¶æ•´åˆå¼€å‘ [M]. ç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾. 2017](https://book.douban.com/subject/27090950/)\n- \\[2\\] [å¼ ä¸°å“². MyBatis + Spring MVC å¼€å‘æŒ‡å— (ä¸€). ç®€ä¹¦. 2017](https://www.jianshu.com/p/91a32e3d4b26)\n- \\[3\\] [å¼ ä¸°å“². MyBatis + Spring MVC å¼€å‘æŒ‡å— (äºŒ). ç®€ä¹¦. 2017](https://www.jianshu.com/p/48b78ee24fa3)\n- \\[4\\] [MyBatis. MyBatis-Spring å®˜æ–¹ä½¿ç”¨æ–‡æ¡£. mybatis.org](http://www.mybatis.org/spring/zh/index.html)\n- \\[5\\] [æé˜¿æ˜€. MyBatis é€†å‘å·¥ç¨‹è‡ªåŠ¨ç”Ÿæˆä»£ç . csdn.net. 2017](https://blog.csdn.net/yerenyuan_pku/article/details/71909325)\n\n","tags":["Spring MVC"],"categories":["Project"]},{"title":"æ¡†æ¶ | Java EE ä¹‹ SSH æ¡†æ¶é…ç½®ä¸ä½¿ç”¨","url":"%2F2018%2F07%2FJ2EE-SSH-SSI-1.html","content":"\n## åºè¨€\næœ¬æ–‡ç« ä¸»è¦å›´ç»• J2EE ä¸­ SSH ( Springã€Strutsã€Hibernate ) æ¡†æ¶çš„é…ç½®ä»¥åŠä½¿ç”¨é—®é¢˜å±•å¼€å­¦ä¹ çš„ï¼Œæœ€ç»ˆç›®çš„æ˜¯è¾“å‡ºå¯å¤ç”¨çš„ç‰ˆæœ¬ï¼Œä»¥ä¾›åç»­çš„é¡¹ç›®å¤ç”¨ã€‚å½“ç„¶ï¼Œå­¦ä¹ å’Œé…ç½®çš„è¿‡ç¨‹éš¾å…æœ‰ä¸æ°å½“æˆ–é”™è¯¯ä¹‹å¤„ï¼Œè¿˜æœ›æœ‹å‹æŒ‡å‡ºã€æ–§æ­£ã€‚\n\n<!-- More -->\n\n## æ•™å­¦èµ„æº\n- è§†é¢‘ | [é»‘é©¬ç¨‹åºå‘˜. J2EE è¿›é˜¶. 4 å¤©ç²¾é€š Hibernate æ¡†æ¶. 2017. bilibili.com](https://www.bilibili.com/video/av14626440)\n- è§†é¢‘ | [é»‘é©¬ç¨‹åºå‘˜. J2EE è¿›é˜¶. 60 é›†ç²¾é€š Spring æ¡†æ¶. 2017. bilibili.com](https://www.bilibili.com/video/av14839030)\n- è§†é¢‘ | [é»‘é©¬ç¨‹åºå‘˜. J2EE è¿›é˜¶. Struts2 æ¡†æ¶ç²¾å“æ•™ç¨‹. 2017. bilibili.com](https://www.bilibili.com/video/av13748042)\n\n\t> æœ¬æ¡†æ¶çš„å­¦ä¹ ç¬”è®°æ˜¯åŸºäºæ­¤ç³»åˆ—æ•™å­¦è§†é¢‘æ‰€å¾—çš„ã€‚\n\n## æ›´æ–°è¿›åº¦\n- 2018.07.17ï¼šå®Œæˆåˆç¨¿ï¼ŒIDE æ­å»ºã€æ¡†æ¶åˆè¯†ç« èŠ‚ï¼›\n- 2018.07.20ï¼šæ›´æ–° SSH æ¡†æ¶ Hibernate çš„å†…å®¹ï¼›\n- 2018.07.31ï¼šæ›´æ–° SSH æ¡†æ¶ Spring çš„å†…å®¹ï¼›\n- 2018.08.03ï¼šæ•´åˆ SSH æ¡†æ¶ ( è¾“å‡ºåŸºæœ¬æ¡†æ¶ )ï¼›\n- 2018.08.08ï¼šè¡¥å…… SSH æ¡†æ¶ Struts éƒ¨åˆ†çš„å†…å®¹ï¼›\n- 2018.08.15ï¼šé‡æ–°æ•´ç† SSH æ¡†æ¶é¡¹ç›®ï¼Œè§ç‰ˆæœ¬ä¿¡æ¯ï¼›\n\n\n## IDE æ­å»º\n- Step.01ï¼šå®‰è£… JDKï¼›\n- Step.02ï¼šå®‰è£… IDE ( `IntelliJ Idea` / Eclipse / MyEclipse )ï¼›\n- Step.03ï¼šé…ç½® Tomcat ç¯å¢ƒï¼›\n\t- è®© Tomcat å¯åŒæ—¶è¿è¡Œå¤šä¸ª Moduleï¼Œå³åœ¨èœå•æ  `Run > Run Configurations > Deployment > Application context` ä¸‹é…ç½®ç›®å½•è®¿é—®è·¯å¾„å³å¯ ( ä¸€èˆ¬è§„èŒƒå¡«å†™é¡¹ç›®å )ã€‚\n\n\t![Tomcat 9.0.x Deployment](/images/illustration/Project/2018/08/J2EE-SSH-SSI-1_4-1.jpg)\n<center>å›¾ 4-1 Tomcat 9.0.x Deployment</center>\n\t\n\t- ç´§æ¥ç€ï¼Œåœ¨èœå•æ  `File > Project Structure > Artifacts` ä¸‹é…ç½®ï¼ŒæŠŠå¯¹åº”çš„ module çš„ Available Elements `Put into Output Root` åˆ° `xxx:war_exploded` ä¸‹ã€‚\n\t\n\t![Project Structure Artifacts](/images/illustration/Project/2018/08/J2EE-SSH-SSI-1_4-2.jpg)\n<center>å›¾ 4-2 Project Structure Artifacts</center>\n\t\n- Step.04ï¼šé…ç½® MySQL / SQL Server æ•°æ®åº“ï¼›\n\t- å‘½åè§„èŒƒï¼šæ•°æ®åº“ `db_dbname`ï¼›æ•°æ®è¡¨ `t_tablename`ï¼›å±æ€§ `attribute`\n\t- è®¿é—®å¤–ç½‘ï¼šè‹¥åœ¨è™šæ‹Ÿæœºæˆ–è€…æœ¬æœºæµ‹è¯•ï¼Œè®©æ•°æ®åº“å…è®¸å¤–ç½‘è®¿é—®ï¼Œæ³¨æ„å¾—å…³é—­é˜²ç«å¢™æˆ–æ·»åŠ è§„åˆ™å…è®¸æŸç«¯å£çš„è®¿é—®æƒé™ã€‚\n\n\t\t> Case.01ï¼šæœ¬æœºå’ŒæœåŠ¡å™¨ç«¯äº’ç›¸ `Ping` å¯¹æ–¹ IPï¼Œä»¥æ£€éªŒç½‘ç»œæ˜¯å¦ç•…é€šã€æ˜¯å¦æ‹’ç»è®¿é—®ã€‚  \n\t\t> Case.02ï¼šè‹¥ç½‘ç»œç•…é€šã€æ²¡æœ‰æ‹’ç»è®¿é—®ï¼Œè¿˜è¦ç•™æ„å¯¹åº”ç«¯å£æ˜¯å¦æœ‰æƒé™è®¿é—®ï¼Œé€šè¿‡ `nc -vz IP ç«¯å£`  æ£€éªŒï¼Œè¿”å› `Succeeded` å³æˆåŠŸã€‚  \n    \n\t- æ•°æ®åº“æƒé™ï¼šè‹¥ MySQL é€šè¿‡å‘½ä»¤å®‰è£…ï¼Œéœ€ç‰¹åˆ«æ³¨æ„çš„æƒé™é—®é¢˜ï¼Œå³è´¦å·å’Œå¯†ç æ˜¯é»˜è®¤é…ç½®çš„ï¼Œç”¨æˆ·å¯è‡ªè¡Œä¿®æ”¹ï¼Œå…·ä½“ä¿®æ”¹ç»†èŠ‚è§å‚è€ƒ [6] - [8] ä¸­çš„æ–¹æ³• ( å¯èƒ½å®æ“è¿‡ç¨‹ä¸­è¿˜ä¼šé‡åˆ°å…¶ä»–é—®é¢˜ï¼Œæ¨èç¿»é˜…ä¸‹å‚è€ƒæ–‡ç« ï¼Œä¹Ÿè®¸å¯¹ä½ æœ‰å¸®åŠ© )ã€‚\n\n\t\t> è‹¥æœ‰éœ€æ±‚è¿œç¨‹è¿æ¥æ•°æ®åº“ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°ç”¨æˆ·ï¼Œå¹¶èµ‹äºˆè®¿é—®æƒé™ (å½“ç„¶ï¼Œä½ å¯è®©ä½ çš„ root è´¦æˆ·ä¹Ÿèµ‹äºˆè¿œç¨‹è¿æ¥æ•°æ®åº“çš„æƒé™)ã€‚å…·ä½“åœ°ï¼š  \n\t\t> `grant all privileges on *.* to  kofe@\"%\" identified by \"123321\" with grant option;`. \n\t\t> æˆæƒå®Œæˆåï¼Œåˆ·æ–°ä¸‹è´¦æˆ·æƒé™å³å¯ï¼š`flush privileges;`ã€‚  \n    \n- Step.05ï¼šä»¥ IntelliJ Idea IDE ä¸ºå‚è€ƒæ­å»ºæ¡†æ¶ï¼Œå‚è€ƒ [1] - [3] ä¸­çš„æ–¹æ³•ï¼›\n\t- [1] ä¸­ `å…¨æ³¨è§£æ–¹å¼çš„ SSH åŸºç¡€æ¡†æ¶` çš„æ¡†æ¶æ•´åˆçš„æ€æƒ³ä¸é”™ï¼Œæ¨èåœ¨ä½ æ­å»ºæ¡†æ¶æ—¶å‚è¯¦ã€‚\n\t- [2] - [3] çš„æ­å»ºæ–¹æ³•éƒ½æ˜¯ `å¯¼ Jar åŒ…å½¢å¼`ï¼Œä½†åƒä¸‡è¦æ³¨æ„ç›¸å¯¹åº”çš„ Jar åŒ…æ˜¯å¦å·²ç»ä¸‹è½½åˆ°æœ¬åœ°ã€‚\n\t- å½“ç„¶ï¼Œæ¨è `Maven` ç®¡ç†é¡¹ç›®ï¼Œå³å®ƒæ˜¯æ·»åŠ ä¾èµ–åº“çš„æ–¹å¼é…ç½®ç¯å¢ƒçš„ï¼Œä¸‹è¿°çš„å†…å®¹ä¹Ÿæ˜¯åŸºäº Maven æ„å»ºæ¡†æ¶ã€‚\n\n## ç‰ˆæœ¬ä¿¡æ¯\n- **åŸºäºä»¥ä¸‹ç‰ˆæœ¬ï¼Œæ‰“åŒ…çš„ SSH æ¡†æ¶ ( Maven )**ï¼š[SSHFrameComposition.2018.08.15](https://pan.baidu.com/s/11czZlhOzSLNX7gB16t1AtQ)\n\n\t> è¿™æ˜¯åŸºäº Maven æ„å»ºçš„ SSH æ¡†æ¶é¡¹ç›®ï¼Œè‹¥æœ‰é”™è¯¯çš„åœ°æ–¹è¿˜æœ›æŒ‡æ­£ã€‚\n\n-  æ¡†æ¶ç‰ˆæœ¬ï¼š\n\t- Strutsï¼š2.5.16\n\t- Springï¼š4.3.x\n\t- Hibernateï¼š5.2.x\n- å…¶ä»–ç»„ä»¶ï¼š\n\t- MySQLï¼š5.7.x / SQL Serverï¼š2008 R2\n\t- Tomcatï¼š9.0.x\n\t- Mavenï¼š3.3.9\n\t- JDKï¼š1.8\n- æ„å»ºæ¡†æ¶ï¼Œè¿˜éœ€è¦ç›¸å…³ä¾èµ–åº“ ( Jar åŒ… )ï¼Œè¯¦ç»†è¯·å‚é˜… [ioC å…¥é—¨æ¡ˆä¾‹](#ioC-å…¥é—¨æ¡ˆä¾‹)ã€‚\n\n\t> ä¸ºä¾¿äºä½ ä¸‹è½½ Jar åŒ…æˆ–æ ¡å¯¹ä¾èµ–æ˜¯å¦é½å…¨ï¼Œå…·ä½“åœ°ï¼Œä»¥ä¸‹åˆ—ä¸¾äº† SSH æ¡†æ¶æ‰€éœ€è¦çš„ä¾èµ–åº“ã€‚\n\n| Spring | Struts2 | Hibernate |\n| :---- | :---- | :---- | \n| spring-core | asm | antlr | \n| spring-beans | asm-commons | stax2-api |\n| spring-context | asm-tree | geronimo-jta\\_1.1\\_spec |\n| spring-expression | commons-fileupload | hibernate-commons-annotation |\n| spring-web ( æ•´åˆ Web ) | commons-io | hibernate-core |\n| spring-aop ( æ•´åˆ Aop ) | commons-lang3 | hibernate-jpa |\n| aopalliance (Â æ•´åˆ Aop ) | freemarker | jandex |\n| spring-aspect (Â æ•´åˆ Aop ) | javassist | javassist |\n| aspectjweaver (Â æ•´åˆ Aop ) | log4j-api | jboss-logging |\n| spring-orm | log4j-core | &nbsp; |\n| spring-tx ( æ•´åˆäº‹åŠ¡ ) | ognl | &nbsp; |\n| spring-jdbc ( æ•´åˆ Hibernate ) | struts-core | &nbsp; |\n| c3p0 ( æ•°æ®åº“è¿æ¥æ±  ) | &nbsp; | &nbsp; |\n\n| Â å…¶ä»–ä¾èµ–åº“ ( Jar åŒ… ) | å¤‡æ³¨ |\n| :---- | :---- |\n| junit | Junit å•å…ƒæµ‹è¯• |\n| mysql-connector-java | æ·»åŠ  MySQL æ•°æ®åº“æ”¯æŒ |\n| struts2-spring-plugin | Struts æ•´åˆ Spring æ’ä»¶ |\n| struts2-junit-plugin | ä¾¿äºæµè§ˆé¡¹ç›®ä¸­æ‰€æœ‰ action åŠå…¶ä¸ Jsp View çš„æ˜ å°„ |\n| jstl | JSTL æ ‡ç­¾åº“ |\n| taglibs-standard-impl | æ ‡ç­¾åº“ |\n\n\n\n## æ¡†æ¶åˆè¯†\n\n### ORM æ¡†æ¶\n- å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆObject Relational Mappingï¼ŒO/R Mappingï¼ŒORMï¼‰æ˜¯é€šè¿‡ä½¿ç”¨æè¿°å¯¹è±¡å’Œæ•°æ®åº“ä¹‹é—´æ˜ å°„çš„ `å…ƒæ•°æ®`ï¼Œå°†é¢å‘å¯¹è±¡è¯­è¨€ç¨‹åºä¸­çš„ `å¯¹è±¡` è‡ªåŠ¨ `æŒä¹…åŒ–` åˆ° `å…³ç³»æ•°æ®åº“` ä¸­ã€‚æœ¬è´¨ä¸Šå°±æ˜¯å°†æ•°æ®ä»ä¸€ç§å½¢å¼è½¬æ¢åˆ°å¦å¤–ä¸€ç§å½¢å¼ã€‚ \n- è®© `å®ä½“ç±»` å’Œ `æ•°æ®åº“è¡¨` è¿›è¡Œä¸€ä¸€å¯¹åº”å…³ç³» (æ˜ å°„å…³ç³»)ï¼Œ`å®ä½“ç±»å±æ€§` å’Œ `è¡¨é‡Œé¢çš„å­—æ®µ` å¯¹åº”ã€‚æ“ä½œè¡¨å¯¹åº”å®ä½“ç±»å¯¹è±¡ï¼Œè€Œä¸éœ€æ“ä½œæ•°æ®åº“è¡¨ã€‚\n\n### SSH æ¡†æ¶\nSSH æ¡†æ¶ï¼š[Spring](http://spring.io/)ã€[Struts2](http://struts.apache.org/)ã€[Hibernate](http://hibernate.org/) \n\né›†æˆ SSH æ¡†æ¶çš„ç³»ç»Ÿä»èŒè´£ä¸Šåˆ†ä¸ºå››å±‚ï¼š`è¡¨ç¤ºå±‚`ã€`ä¸šåŠ¡é€»è¾‘å±‚`ã€`æ•°æ®æŒä¹…å±‚` å’Œ `åŸŸæ¨¡å—å±‚`ï¼Œä»¥å¸®åŠ©å¼€å‘äººå‘˜åœ¨çŸ­æœŸå†…æ­å»ºç»“æ„æ¸…æ™°ã€å¯å¤ç”¨æ€§å¥½ã€ç»´æŠ¤æ–¹ä¾¿çš„ Web åº”ç”¨ç¨‹åºã€‚å…¶ä¸­ä½¿ç”¨ `Struts` ä½œä¸º `ç³»ç»Ÿçš„æ•´ä½“åŸºç¡€æ¶æ„`ï¼Œè´Ÿè´£ MVC çš„åˆ†ç¦»ï¼Œåœ¨ Struts æ¡†æ¶çš„æ¨¡å‹éƒ¨åˆ†ï¼Œæ§åˆ¶ä¸šåŠ¡è·³è½¬ï¼Œåˆ©ç”¨ `Hibernate` æ¡†æ¶å¯¹ `æŒä¹…å±‚` æä¾›æ”¯æŒï¼Œ`Spring` åšç®¡ç†ï¼Œ`ç®¡ç† Struts å’Œ Hibernate`ã€‚\n    \nå…·ä½“åšæ³•æ˜¯ï¼šç”¨é¢å‘å¯¹è±¡çš„åˆ†ææ–¹æ³•æ ¹æ®éœ€æ±‚æå‡ºä¸€äº›æ¨¡å‹ï¼Œå°†è¿™äº›æ¨¡å‹å®ç°ä¸ºåŸºæœ¬çš„ Java å¯¹è±¡ï¼Œç„¶åç¼–å†™åŸºæœ¬çš„ DAO (Data Access Objects) æ¥å£ï¼Œå¹¶ç»™å‡º Hibernate çš„ DAO å®ç°ï¼Œé‡‡ç”¨ Hibernate æ¶æ„å®ç°çš„ DAO ç±»æ¥å®ç° Java ç±»ä¸æ•°æ®åº“ä¹‹é—´çš„è½¬æ¢å’Œè®¿é—®ï¼Œæœ€åç”± Spring åšç®¡ç†ï¼Œç®¡ç† Struts å’Œ Hibernateã€‚\n\n---\n\n#### Struts\nä¸»è¦æ˜¯ç”¨æ¥åš `è¡¨ç¤ºå±‚`ï¼Œä¹Ÿå°±æ‰€è°“çš„ `ç•Œé¢`ï¼Œå’Œç”¨æˆ·ç›´æ¥æ‰“äº¤é“ï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„è¯·æ±‚å’Œè¯·æ±‚åè¿”å›ç»™ç”¨æˆ·çš„æ¨¡å‹æ•°æ®ã€‚ Struts å¯¹ Modelï¼ŒView å’Œ Controller éƒ½æä¾›äº†å¯¹åº”çš„ç»„ä»¶ã€‚\n\n##### Struts2 å…¥é—¨\n\n###### Struts2 æ¦‚è¿°\n- Struts2 æ¡†æ¶åº”ç”¨åœ¨ Java EE ä¸‰å±‚ç»“æœä¸­çš„ Web å±‚æ¡†æ¶ï¼›\n- Struts2 è§£å†³çš„é—®é¢˜ï¼š\n\n\t![Struts2è§£å†³çš„é—®é¢˜](/images/illustration/Project/2018/08/J2EE-SSH-SSI-1_6-1.png)\n<center>å›¾ 6-1 Struts2 è§£å†³çš„é—®é¢˜</center>\n\n###### Struts2 æ¡ˆä¾‹\n\n- åˆ›å»º Actionï¼š\n\n\t```java\n\t// BaseAction.java\n\t\n\tpublic class BaseAction extends ActionSupport {\n\t    @Override\n\t    // æ¯æ¬¡è®¿é—® action ï¼Œé»˜è®¤æ‰§è¡Œåç§° execute() æ–¹æ³•\n\t    public String execute() throws Exception {\n\t        return NONE;\n\t    }\n\t}\n\t```\n\t\n- é…ç½® Action ç±»è®¿é—®è·¯å¾„ï¼šéœ€åœ¨ Src æ ¹ç›®å½•ä¸‹åˆ›å»ºæ ¸å¿ƒé…ç½®æ–‡ä»¶ struts.xmlï¼Œå…¶åç§°å’Œä½ç½®æ˜¯å›ºå®šçš„ã€‚\n\n\t```xml\n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<!DOCTYPE struts PUBLIC\n\t    \"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN\"\n\t    \"http://struts.apache.org/dtds/struts-2.3.dtd\">\n\n\t<struts>\n\t    <package name=\"sample\" extends=\"struts-default\" namespace=\"/\">\n\t        <!--\n\t         | Name å±æ€§å€¼å¡«å†™ action è®¿é—®çš„åç§°ï¼Œä¾‹å¦‚ BaseAciton.action\n\t         | Class å±æ€§å€¼å¡«å†™ç›®æ ‡ Action çš„å…¨è·¯å¾„\n\t        -->\n\t        <action name=\"BaseAction\" class=\"cn.kofes.action.BaseAction\">/\n\t            <result name=\"success\">/jsp/success.jsp</result>\n\t        </action>\n\t    </package>\n\t</struts>\n\t```\n\t\n- é…ç½®è¿‡æ»¤å™¨ï¼šåœ¨ web.xml ä¸­æ·»åŠ è¿‡æ»¤å™¨\n\t\n\t```xml\n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n\t    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\t    xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\n\t    version=\"4.0\">\n\n\t    <!-- è¿‡æ»¤å™¨æ¨¡å— -->\n\t    <filter>\n\t        <filter-name>struts2</filter-name>\n\t        <filter-class>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter</filter-class>\n\t    </filter>\n\t    <filter-mapping>\n\t        <filter-name>struts2</filter-name>\n\t        <url-pattern>/*</url-pattern>\n\t    </filter-mapping>\n\n\t    <welcome-file-list>\n\t        <welcome-file>index.jsp</welcome-file>\n\t    </welcome-file-list>\n\t</web-app>\n\t```\n\n###### Struts2  åº•å±‚æ‰§è¡Œè¿‡ç¨‹\n\nå¦‚å›¾ 6-2 æ‰€ç¤ºï¼Œä¸º Struts åº•å±‚æ‰§è¡Œè¿‡ç¨‹å›¾ç¤ºã€‚\n\n![Strutsåº•å±‚æ‰§è¡Œè¿‡ç¨‹](/images/illustration/Project/2018/08/J2EE-SSH-SSI-1_6-2.png)\n<center>å›¾ 6-2 Struts åº•å±‚æ‰§è¡Œè¿‡ç¨‹</center>\n\n###### Struts2 é…ç½®\n\n- Struts æ ¸å¿ƒé…ç½®æ–‡ä»¶ ( Struts2.5.x ç‰ˆæœ¬ )\n\n\t```xml\n\t<!-- Struts 2.5.x ç‰ˆæœ¬çš„çº¦æŸ -->\n\t\n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<!DOCTYPE struts PUBLIC\n\t    \"-//Apache Software Foundation//DTD Struts Configuration 2.5//EN\"\n\t    \"http://struts.apache.org/dtds/struts-2.5.dtd\">\n\t<struts>\n\t    <!-- è¡¨å•çš„ç¼–ç /ä¹±ç é—®é¢˜ -->\n\t    <constant name=\"struts.i18n.encoding\" value=\"UTF-8\" />\n\t    <!-- æŒ‡å®šStruts2å¤„äºå¼€å‘é˜¶æ®µï¼Œå¯ä»¥è¿›è¡Œè°ƒè¯• -->\n\t    <constant name=\"struts.devMode\" value=\"true\" />\n\t    <constant name=\"struts.enable.DynamicMethodInvocation\" value=\"false\" />\n\n\t    <!--\n\t     | Name å±æ€§ï¼šå”¯ä¸€æ ‡è¯† Package\n\t     | Extends å±æ€§ï¼šå±æ€§å›ºå®šçš„çš„ï¼Œå³ Package ä¸­é…ç½®çš„ç±»å…·æœ‰ action åŠŸèƒ½\n\t     | Namespace å±æ€§ï¼šä¸ action æ ‡ç­¾åæ„æˆè®¿é—®è·¯å¾„\n\t    -->\n\t    <package name=\"sample\" namespace=\"/\" extends=\"struts-default\" strict-method-invocation=\"false\">\n\t        <!-- Struts2.5.x ç‰ˆæœ¬ç‰¹å¾ï¼Œæå‡å®‰å…¨æ€§ -->\n\t        <global-allowed-methods>regex:.*</global-allowed-methods>\n\n\t        <!--\n\t         | Name å±æ€§ï¼šå”¯ä¸€æ ‡è¯†ï¼Œä¸ namespace æ„æˆè®¿é—®è®¿é—®è·¯å¾„\n\t         | Class å±æ€§ï¼šAction ç±»çš„å…¨è·¯å¾„\n\t         | Method å±æ€§ï¼šé™¤äº† execute() æ–¹æ³•ï¼Œè‹¥ç»‘å®š Action ç±»å…¶ä»–æ–¹æ³•åˆ™ç”¨æ­¤å±æ€§\n\t        -->\n\t        <action name=\"baseAction\" class=\"cn.kofe.action.baseAction\" method=\"login\">\n\t            <!--\n\t             | æ ¹æ® Action ç±»ä¸­æ–¹æ³•çš„è¿”å›å€¼ï¼Œé…ç½®åˆ°ä¸åŒçš„è·¯å¾„é‡Œé¢\n\t             | Name å±æ€§ï¼šä¸ Action ç±»å¯¹åº”çš„æ–¹æ³•çš„è¿”å›å€¼ä¸€æ ·\n\t             | Type å±æ€§ï¼šé…ç½®å¦‚ä½•åˆ°è·¯å¾„ä¸­ ( è½¬å‘æˆ–è€…é‡å®šå‘ )ï¼Œé»˜è®¤å€¼ä¸ºè½¬å‘\n\t            -->\n\t            <result name=\"success\">/success.jsp</result>\n\t        </action>\n\t\n\t        <!-- Add actions here -->\n\n\t    </package>\n\t</struts>\n\t```\n\n###### Struts2 Action åˆ›å»º\n\n- åˆ›å»ºæ™®é€šç±»ï¼Œä¸ç»§æ‰¿ä»»ä½•ç±»ï¼Œä¸å®ç°ä»»ä½•æ¥å£ï¼›\n\n- ~~åˆ›å»ºç±»ï¼Œå®ç° Action æ¥å£~~ï¼›\n\n\t```java\n\tpublic class BaseAction implements Action {\n\t    @Override\n\t    public String execute throws Exception {\n\t        return NONE; // SUCCESSã€ERROR ( ä¹Ÿå¯è‡ªå®šä¹‰å­—ç¬¦ä¸² ) ... \n\t    }\n\t}\n\t```\n- åˆ›å»ºç±»ï¼Œç»§æ‰¿ ActionSupportï¼›\n\n\t```java\n\tpublic class BaseAction extends ActionSupport {\n\t    @Override\n\t    public String execute throws Exception {\n\t        return NONE; // SUCCESSã€ERROR ( ä¹Ÿå¯è‡ªå®šä¹‰å­—ç¬¦ä¸² ) ... \n\t    }\n\t    \n\t    // è‡ªå®šä¹‰æ–¹æ³•\n\t    public String login() { return SUCCESS; }\n\t}\n\t```\n\n###### Struts2 Action æ–¹æ³•è®¿é—®\n\n- ä½¿ç”¨ action æ ‡ç­¾ä¸­çš„ method å±æ€§ï¼Œåœ¨å±æ€§é‡Œå†™æ‰§è¡Œçš„ action çš„æ–¹æ³•åç§°ï¼›\n\n\t```xml\n\t<package name=\"sample\" namespace=\"/\" extends=\"struts-default\" strict-method-invocation=\"false\">\n\t    <action name=\"login\" class=\"cn.kofes.action.BaseAction\" method=\"login\" />\n\t</package>\n\t```\n\n- ä½¿ç”¨é€šé…ç¬¦æ–¹å¼å®ç°ï¼›\n\n\t```xml\n\t<package name=\"sample\" namespace=\"/\" extends=\"struts-default\" strict-method-invocation=\"false\">\n\t    <!-- ä¾‹å¦‚ï¼Œè®¿é—®è·¯å¾„ä¸º http://192.168.x.x/action_login.action -->\n\t    <action name=\"action_*\" class=\"cn.kofes.action.BaseAction\" method=\"{1}\" />\n\t</package>\n\t```\n\n- åŠ¨æ€è®¿é—®å®ç°ï¼›\n\n\t```xml\n\t <!-- åŠ¨æ€æ–¹æ³•è®¿é—® -->\n\t<constant name=\"struts.enable.DynamicMethodInvocation\" value=\"true\" />\n\t\n\t<!-- strict-method-invocationï¼šæ˜¯å¦å…è®¸ä½¿ç”¨é€šé…ç¬¦ ( é»˜è®¤å¼€å¯ï¼Œä¸éœ€è¦å…³é—­ ) -->\n\t<package name=\"sample\" namespace=\"/\" extends=\"struts-default\" strict-method-invocation=\"true\">\n\t    <!-- è¿˜å¯ä»¥é™åˆ¶å…·ä½“å“ªäº›æ–¹æ³•å¯ä»¥åŠ¨æ€è®¿é—® -->\n\t    <global-allowed-methods>regex:.*</global-allowed-methods>\n\t    <action name=\"login\" class=\"cn.kofes.action.BaseAction\" method=\"login\" />\n\t</package>\n\t```\n\n- å¸¸è§é”™è¯¯ï¼š\n\t- è‹¥ action æ–¹æ³•æœ‰è¿”å›å€¼ï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­æ²¡æœ‰é…ç½®ï¼Œä¼šå‡ºç°æ— æ³•æ‰¾åˆ°é¡µé¢çš„é”™è¯¯ (404)ã€‚\n\t- action çš„åç§°ï¼Œaction æ–¹æ³•çš„è¿”å›å€¼å¸¸é‡ï¼Œè§„èŒƒä½¿ç”¨ `é©¼å³°å¼å‘½å` å®šä¹‰ã€‚\n\n##### Struts2 æ•°æ®æ“ä½œ\n\n###### ç»“æœé¡µé¢é…ç½®\n- å…¨å±€ç»“æœé¡µé¢ï¼šè‹¥å¤šä¸ª Actionï¼Œæ–¹æ³•çš„è¿”å›å€¼ç›¸åŒï¼Œåˆ°è¾¾é¡µé¢ä¹Ÿæ˜¯ç›¸åŒï¼Œåˆ™å¯ä½¿ç”¨å…¨å±€ç»“æœé¡µé¢é…ç½®ã€‚\n\n\t```xml\n\t<package name=\"sample\" namespace=\"/\" extends=\"struts-default\">\n\t    <global-results>\n\t        <result name=\"success\">/success.jsp</result>\n\t    </global-results>\n\t</package>\n\t```\n\n- å±€éƒ¨ç»“æœé¡µé¢ï¼šè‹¥é…ç½®äº†å…¨å±€å’Œå±€éƒ¨ç»“æœé¡µé¢ï¼Œä»¥å±€éƒ¨ä¸ºå‡†ã€‚\n\n\t```xml\n\t<package name=\"sample\" namespace=\"/\" extends=\"struts-default\">\n\t    <action name=\"login\" class=\"cn.kofes.action.BaseAction\" method=\"login\" />\n\t</package>\n\t```\n\n- Result æ ‡ç­¾ çš„ Type å±æ€§ (å€¼)ï¼š\n\t- `dispatcher`ï¼šé»˜è®¤å€¼ï¼Œè½¬å‘æ“ä½œã€‚\n\t- `redirect`ï¼šé‡å®šå‘æ“ä½œã€‚\n\t- `redirectAction`ï¼šé‡å®šå‘åˆ° actionã€‚\n\t- ~~`chain`ï¼šè½¬å‘åˆ° action ( ç¼“å­˜é—®é¢˜ )~~ã€‚\n\n###### è¡¨å•æ•°æ®æ“ä½œ\n- å…ˆæ„é€ ä¸€ä¸ªè¡¨å•ï¼š\n\n\t```html\n\t<!-- login.jsp -->\n\t<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\n\t<html>\n\t    <head>\n\t        <title>SSH_FRAME_COMP</title>\n\t    </head>\n    \t    \n\t    <body>\n\t        <form action=\"${pageContext.request.contextPath}/form.action\" method=\"post\">\n\t            Usernameï¼š<input type=\"text\" name=\"username\" /><br/>\n\t            Ageï¼š<input type=\"text\" name=\"age\" /><br/>\n\t            Emailï¼š<input type=\"text\" name=\"email\" /><br/>\n\t            Phoneï¼š<input type=\"text\" name=\"phone\" /><br/>\n\t        <input type=\"submit\" value=\"Submit\" />\n\t        </form>\n\t    </body>\n\t</html>\n\t\n\t<!-- struts.xml -->\n\t<action name=\"FormOperator\" class=\"cn.kofes.action.FormOperator\" method=\"execute\">\n\t    <!-- è‹¥è¿”å› \"success\"ï¼Œåˆ™é‡å®šå‘åˆ°å¦ä¸€ä¸ª actionï¼Œå³æ‰§è¡Œç™»å½• -->\n\t    <result name=\"success\" type=\"redirectAction\">login</result>\n\t</action>\n\t```\n\n- action è·å–è¡¨å•æäº¤æ•°æ®\n\n\t```java\n\tpublic class FormOperator extends ActionSupport {\n\t\n\t    public String execute() throw Exception { \n\t    \n\t        // Case.01.ä½¿ç”¨ ActionContext ç±»è·å–\n\t        ActionContext context = ActionContext.getContext();\n\t        // key æ—¶è¡¨å•è¾“å…¥é¡¹ Name çš„å±æ€§å€¼ï¼ŒValue æ—¶è¾“å…¥çš„å€¼ \n\t        Map<String, Object> map = context.getParameters();\n\t        Set<String> keys = map.keySet();\n\t        for(String key : keys) {\n\t            // æ•°ç»„å½¢å¼ï¼Œè€ƒè™‘æœ‰å¤é€‰æ¡†çš„æƒ…å†µ\n\t            Object[] obj = (Object[]) map.get(key);\n\t        }\n \t\n\t        // Case.02.ä½¿ç”¨ ServletActionContext ç±»è·å–\n\t        HttpServletRequest request = ServletActionContext.getRequest();\n\t        String username = request.getParamter(\"username\");\n\t        \n\t        rerun NONE;\n\t    }\n\t}\n\t\n\t// Case.03.ä½¿ç”¨æ¥å£æ³¨å…¥æ–¹å¼è·å–\n\tpublic class FormOperator extends ActionSupport implements ServletRequestAware {\n\t\n\t    private HttpServletRequest request;\n\t    \n\t    @Overrride\n\t    public  void setServletRequest(HttpServletRequest request) {\n\t        this.request = request;\n\t    }\n\t    \n\t    public String execute() throw Exception {\n\t        String username = request.getParamter(\"username\");\n\t        return NONE;\n\t    }\n\t}\n\t```\n\t\n- action æ“ä½œåŸŸå¯¹è±¡\n\n\t```java\n\tpublic class FormOperator extends ActionSupport {\n\t\n\t    public String execute() throw Exception { \n\t    \n\t        // æ“ä½œåŸŸå¯¹è±¡\n\t        // Request åŸŸ\n\t        HttpServletRequest request = ServletActionContext.getRequest();\n\t        request.setAttribute(\"requestKey\", \"requestValue\");\n\t        \n\t        // Session åŸŸ\n\t        HttpSession session = request.getSession();\n\t        session.setAttribute(\"sessionKey\", \"sessionValue\");\n\t        \n\t        // ServletContext åŸŸ\n\t        ServletContext context = ServletActionContext.getServletContext();\n\t        context.setAttribute(\"contextKey\", \"contextValue\");\n\t        \n\t        rerun NONE;\n\t    }\n\t}\n\t```\n\n- struts2 æä¾›è·å–è¡¨å•æ•°æ®æ–¹å¼\n\n\t```java\n\t// åŸå§‹æ–¹å¼è·å–è¡¨å•æ•°æ®ï¼Œå†å°è£…æ•°æ®åˆ°å®ä½“ç±»å¯¹è±¡ä¸­\n\tUser user = new User();\n\tHttpServletRequest request = ServletActionContext.getRequest();\n\tuser.setUsername( request.getParamter(\"username\") );\n\t\n\t// å±æ€§å°è£…ï¼šè·å–è¡¨å•æ•°æ®åˆ°å±æ€§ä¸­  ( Setter å’Œ Getter æ–¹æ³•è¡¥å…¨å³å¯ )\n\t// åœ¨ action çš„æˆå‘˜å˜é‡ä½ç½®å®šä¹‰å˜é‡ ( å˜é‡åç§°å’Œè¡¨å•è¾“å…¥é¡¹çš„ Name å±æ€§å€¼ä¸€æ · )\n\tprivate String username;\n\tpublic void setUsername(String username) { this.username = username }\n\tpublic String getUsername() { return username; }\n\t// ä»¥æ­¤ç±»æ¨...\n\t\n\t// æ¨¡å‹é©±åŠ¨å°è£…\n\t// Step.01. å®ç°æ¥å£ ModelDriven\n\t// Step.02. å®ç°æ¥å£çš„æ–¹æ³• getModel()ï¼Œå†æŠŠåˆ›å»ºå¯¹è±¡è¿”å›\n\t// Step.03. åœ¨ action é‡Œã€åˆ›å»ºã€å®ä½“ç±»å¯¹è±¡\n\tpublic class FormOperator extends ActionSupport implements ModelDriven<User> {\n\t    private User user = new User();\n\t    @Override\n\t    public User getModel() {\n\t        return user;\n\t    }\n\t    @Override\n\t    public Sring execute() throw EXception {\n\t        return NONE;\n\t    }\n\t}\n\t\n\t// è¡¨è¾¾å¼å°è£…\n\t// Step.01.åœ¨ action ä¸­ã€å£°æ˜ã€å®ä½“ç±»ï¼›\n\t// Step.02.ç”Ÿæˆå®ä½“ç±»å˜é‡çš„ Setter å’Œ Getter æ–¹æ³•\n\t// Step.03.å†è¡¨å•è¾“å…¥é¡¹çš„ Name å±æ€§å€¼ä¸­å¡«å†™è¡¨è¾¾å¼\n\t\n\t// è¡¨è¾¾å¼ï¼š<input type=\"text\" name=\"user.username\" />\n\t\n\tpublic class FormOperator extends ActionSupport {\n\t    private User user;\n\t    public void setUser(User user) { this.user = user; }\n\t    public User getUser() { return user; }\n\t    \n\t    @Override\n\t    public Sring execute() throw EXception {\n\t        return NONE;\n\t    }\n\t}\n\t```\n\t\n> ä½¿ç”¨æ¨¡å‹é©±åŠ¨å’Œå±æ€§å°è£…æ˜¯æ³¨æ„äº‹é¡¹ï¼šåœ¨åŒä¸€ä¸ª action ä¸­ï¼Œè·å–è¡¨å•æ•°æ®å¯ä»¥æ˜¯æ¨¡å‹é©±åŠ¨åˆä½œå’Œå±æ€§å°è£…ï¼Œä½†ä¸èƒ½åŒæ—¶ä½¿ç”¨äºŒè€…ã€‚`åŒæ—¶ä½¿ç”¨åªä¼šæ‰§è¡Œæ¨¡å‹é©±åŠ¨`ã€‚  \n\n- `è¡¨è¾¾å¼å°è£…` å’Œ `æ¨¡å‹é©±åŠ¨` æ¯”è¾ƒï¼š  \n\t- ç›¸åŒç‚¹ï¼šä½¿ç”¨è¡¨è¾¾å¼å°è£…å’Œæ¨¡å‹é©±åŠ¨å°è£…éƒ½å¯æŠŠæ•°æ®å°è£…åˆ°å®ä½“ç±»å¯¹è±¡é‡Œã€‚\n\t- ä¸åŒç‚¹ï¼šä½¿ç”¨æ¨¡å‹é©±åŠ¨åªèƒ½æŠŠæ•°æ®å°è£…åˆ°ä¸€ä¸ªå®ä½“ç±»å¯¹è±¡é‡Œã€‚è€Œè¡¨è¾¾å¼å°è£…æ²¡æœ‰é™åˆ¶ï¼Œå³é€šè¿‡è¡¨è¾¾å¼å°è£…å¯æŠŠæ•°æ®å°è£…åˆ°å¤šä¸ªã€ä¸åŒçš„å®ä½“ç±»å¯¹è±¡é‡Œé¢ã€‚\n\n- struts2 è·å–æ•°æ®å°è£…åˆ°é›†åˆï¼š\n\t\n\t```xml\n\t<!-- å°è£…æ•°æ®åˆ° List é›†åˆ -->\n\t<input type=\"text\" name=\"list[0].username\" />\n\t<input type=\"text\" name=\"list[0].age\" />\n\t<input type=\"text\" name=\"list[1].username\" />\n\t<input type=\"text\" name=\"list[1].age\" />\n\t\n\t<!-- å°è£…æ•°æ®åˆ° Map é›†åˆ -->\n\t<input type=\"text\" name=\"map['Lucy'].username\" />\n\t<input type=\"text\" name=\"map['Lucy'].age\" />\n\t<input type=\"text\" name=\"map['Mark'].username\" />\n\t<input type=\"text\" name=\"map['Mark'].age\" />\n\n\t\n\t<!-- åœ¨å®ç°ç±»ä¸­å£°æ˜ -->\n\tpublic class FormOperator extends ActionSupport {\n\t    private List<User> list;\n\t    public void setList(List<User> list) { this.list = list; }\n\t    public List<User> list getUser() { return list; }\n\t     \n\t    // private Map<String, User> map;\n\t    // public void setMap(Map<String, User> map) { this.map = map }\n\t    // public Map<String, User> getMap() { return map; }\n\t    \n\t    @Override\n\t    public Sring execute() throw EXception {\n\t        return NONE;\n\t    }\n\t}\n\t```\n\t\n###### æ¡ˆä¾‹å®æ“å±•ç¤º\n- æ–°å»ºè¡¨å•æ“ä½œé¡µé¢ `form.jsp` å’Œæ•°æ®å±•ç¤ºé¡µé¢ `info.jsp`ï¼š\n\n\t```html\n\t<!-- form.jsp -->\n\t<%@ page contentType=\"text/html;charset=UTF-8\" language=\"java\" %>\n\t<html>\n\t    <head>\n\t        <title>SSH_FRAME_COMP</title>\n\t    </head>\n\t    <body>\n\t        <form name=\"loginForm\" action=\"${pageContext.request.contextPath}/form.action\" method=\"post\">\n\t            Usernameï¼š<input type=\"text\" name=\"user.username\"/><br/>\n\t            Ageï¼š<input type=\"text\" name=\"user.age\"/><br/>\n\t            Emailï¼š<input type=\"text\" name=\"user.email\"/><br/>\n\t            Phoneï¼š<input type=\"text\" name=\"user.phone\"/><br/>\n\t            <input type=\"submit\" value=\"Submit\"/>\n\t        </form>\n\t    </body>\n\t</html>\n\t\n\t<!-- info.jsp -->\n\t```\n\t\n- åœ¨ struts.xml é…ç½®æ–‡ä»¶ä¸­æ·»åŠ  actionï¼š\n\n\t```xml\n\t<!-- struts.xml -->\n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<!DOCTYPE struts PUBLIC\n\t    \"-//Apache Software Foundation//DTD Struts Configuration 2.5//EN\"\n\t    \"http://struts.apache.org/dtds/struts-2.5.dtd\">\n\n\t<struts>\n\t    <!-- è¡¨å•çš„ç¼–ç /ä¹±ç é—®é¢˜ -->\n\t    <constant name=\"struts.i18n.encoding\" value=\"UTF-8\" />\n\t    <!-- åŠ¨æ€æ–¹æ³•è®¿é—® -->\n\t    <constant name=\"struts.enable.DynamicMethodInvocation\" value=\"true\" />\n\n\t    <package name=\"sample\" namespace=\"/\" extends=\"struts-default\" strict-method-invocation=\"true\">\n\t        <global-allowed-methods>regex:.*</global-allowed-methods>\n\t        \n\t        <!-- ä½¿ç”¨æ³¨è§£åˆ›å»º FormOperator å¯¹è±¡ï¼Œç›´æ¥å¼•ç”¨æ ‡ç­¾å€¼ -->\n\t        <action name=\"form\" class=\"formOperator\" method=\"saveInfo\">\n\t            <result name=\"getinfo\" type=\"redirectAction\">info</result>\n\t        </action>\n\t        \n\t        <!-- æ’å…¥æ•°æ®ååŠ è½½æ•°æ®åº“ -->\n\t        <action name=\"info\" class=\"formOperator\" method=\"getInfo\">\n\t            <result name=\"listinfo\">/jsp/info.jsp</result>\n\t        </action>\n\t        \n\t    </package>\n\t</struts>\n\t```\n\t\n- åœ¨ Action ä¸­å®ç°é€»è¾‘å¤„ç†ç±»ï¼š\n\n\t```java\n\t// FormOperator.java\n\t// Action å±‚ï¼šç•Œé¢äº¤äº’å±‚\n\t@Controller(value=\"formOperator\")\n\t@Scope(value = \"prototype\")\n\tpublic class FormOperator extends ActionSupport {\n\t    private User user;\n\t    \n\t    // Service å¤„ç†ä¸šåŠ¡é€»è¾‘\n\t    @Resource(name = \"sampleService\")\n\t    private BaseService service;\n\t    \n\t    @Override\n\t    public Sring execute() throw EXception {\n\t        return NONE;\n\t    }\n\t    \n\t    public String saveInfo() {\n\t        service.saveUserInfo(user);\n\t        return \"info\";\n\t    }\n\t    \n\t    public String getInfo() {\n\t        // ä»æ•°æ®åº“ä¸­åŠ è½½æ•°æ®\n\t        return NONE;\n\t    }\n\t}\n\t\n\t// SampleServiceImpl.java\n\t// Servie å±‚ï¼šä¸šåŠ¡é€»è¾‘å±‚\n\t@Service(value = \"sampleService\")\n\t@Transactional\n\tpublic class SampleServiceImpl implements BaseService {\n\n\t    @Resource(name = \"sampleDao\")\n\t    private BaseDao dao;\n\n\t    @Override\n\t    public void saveUserInfo(User user) {\n\t        if( null != dao.queryOneTuple(user.getClass(), user.getUid()) ) {\n\t            dao.updateOneTuple(user);\n\t        } else {\n\t            dao.insertOneTuple(user);\n\t        }\n\t    }\n\t}\n\t\n\t// SampleDaoImpl.java\n\t// Dao å±‚ï¼šæ•°æ®æŒä¹…å±‚\n\t@Repository(value = \"sampleDao\")\n\tpublic class SampleDaoImpl implements BaseDao {\n\n\t    @Resource(name = \"hibernateTemplate\")\n\t    private HibernateTemplate hibernateTemplate;\n\n\t    @Override\n\t    public void insertOneTuple(Object entity) {\n\t        hibernateTemplate.save(entity);\n\t    }\n\t    \n\t    @Override\n\t    public void updateOneTuple(Object entity) {\n\t        hibernateTemplate.update(entity);\n\t    }\n\t    \n\t    @Override\n\t    public <T> T queryOneTuple(Class<T> entityClass, Serializable id) {\n\t        T temporary = null;\n\t        if (null != entityClass) {\n\t            temporary = hibernateTemplate.get(entityClass, id);\n\t        }\n\t        return temporary;\n\t    }\n\t}\n\t```\n\n##### Struts2 å€¼æ ˆ\n\n###### å€¼æ ˆæ¦‚å¿µ\n- ä»€ä¹ˆæ˜¯å€¼æ ˆï¼š\n\t- Struts é‡Œæœ¬èº«æä¾›ä¸€ç§å­˜å‚¨æœºåˆ¶ï¼Œç±»ä¼¼äº `åŸŸå¯¹è±¡`ã€‚å³å€¼æ ˆï¼Œå¯å­˜å‚¨æ•°æ®ä¹Ÿå¯è¯»å–æ•°æ®ã€‚\n\t- Striuts æŠŠæ•°æ®æ”¾åˆ°å€¼æ ˆé‡Œï¼Œåœ¨ Jsp é¡µé¢ä¸­è·å–åˆ°å€¼æ ˆæ•°æ®ã€‚\n\n- Ognlï¼šWeb é˜¶æ®µï¼ŒEL è¡¨è¾¾åœ¨ Jsp ä¸­è·å–åŸŸå¯¹è±¡ä¸­çš„å€¼ã€‚è€Œ Ognl ä¹Ÿæ˜¯ä¸€ç§è¡¨è¾¾å¼ã€‚\n\t- Struts ä¸­æ“ä½œå€¼æ ˆæ•°æ®ï¼Œå’Œ `Struts æ ‡ç­¾` ä¸€èµ·ä½¿ç”¨ã€æ“ä½œå€¼æ ˆã€‚\n\t- Ognl ä¸æ˜¯ Struts çš„ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥å•ç‹¬ä½¿ç”¨ã€‚\n- Struts æ ‡ç­¾ï¼šè™½ç„¶æ ‡ç­¾å°è£…äº†æ ·å¼ï¼Œæ–¹ä¾¿æ“ä½œï¼Œä½†æ•…æ ·å¼ä¸Šä¼šæœ‰é™åˆ¶ã€‚\n\n\t```html\n\t<!-- åœ¨å¯¹åº”çš„ jsp é¡µé¢ä¸­å¼•å…¥æ ‡ç­¾åº“  -->\n\t<%@ taglib uri=\"/struts-tags\" prefix=\"s\" %>\n\t\n\t<!-- æŸ¥çœ‹å€¼æ ˆç»“æ„å’Œæ•°æ® -->\n\t<s:debug />\n\t\n\t<!-- ä½¿ç”¨ Ognl + Struts æ ‡ç­¾ï¼Œå®ç°è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦ -->\n\t<s:property value=\"'str'.length()\" />\n\t\n\t<!-- html è¡¨å•æ ‡ç­¾\n\t | 1) formï¼šactionã€methodã€enctype\n\t | 2) è¾“å…¥é¡¹ï¼šå¤§éƒ¨åˆ†åœ¨ input ä¸­å°è£… type å€¼å®ç°å„ç§è¾“å…¥é¡¹ï¼Œä¾‹å¦‚ï¼š\n\t |    textï¼Œæ™®é€šæ–‡æœ¬è¾“å…¥é¡¹\n\t |    passwordï¼Œå¯†ç è¾“å…¥é¡¹\n\t |    radioï¼Œå•é€‰è¾“å…¥é¡¹\n\t |    checkboxï¼Œå¤é€‰è¾“å…¥é¡¹\n\t |    fileï¼Œæ–‡ä»¶ä¸Šä¼ é¡¹\n\t |    hiddenï¼Œéšè—é¡¹\n\t |    buttonï¼Œæ™®é€šæŒ‰é’®\n\t |    submitï¼Œæäº¤æŒ‰é’®\n\t |    imageï¼Œå›¾ç‰‡æäº¤\n\t |    resetï¼Œé‡ç½®\n\t | 3) selectï¼šä¸‹æ‹‰è¾“å…¥é¡¹\n\t | 4) textareaï¼šæ–‡æœ¬åŸŸ\n\t-->\n\t<s:form name=\"signupForm\" action=\"form.action' method=\"POST\">\n\t    <!-- æ™®é€šè¾“å…¥é¡¹ -->\n\t    <s:textfield name=\"username\" label=\"username\" />\n\t    <!-- å¯†ç è¾“å…¥é¡¹ -->\n\t    <s:password name=\"password\" label=\"password\" />\n\t    <!-- å•é€‰é¡¹ -->\n\t    <s:radio list=\"#{'male':'ç”·', 'female':'å¥³'}\" name=\"gender\" label=\"gender\" />\n\t    <!-- å¤šé€‰é¡¹ -->\n\t    <s:checkboxlist list=\"{'sleep', 'eat'}\" name=\"interest\" label=\"interest\" />\n\t    <!-- ä¸‹æ‹‰è¾“å…¥æ¡† -->\n\t    <s:select list=\"{'str1', 'str2', 'str3'}\" name=\"sample\" label=\"sample\" />\n\t    <!-- æ–‡ä»¶ä¸Šä¼ é¡¹ -->\n\t    <s:file name=\"file\" label=\"file\" />\n\t    <!-- æ–‡æœ¬åŸŸ -->\n\t    <s:textarea row=\"10\" cols=\"10\" name=\"description\" value=\"description\" />\n\t    <!--  éšè—é¡¹ -->\n\t    <s:hidden name=\"hiddenContent\" value=\"hidden content is here\" />\n\t    <!-- æäº¤æŒ‰é’® -->\n\t    <s:submit value=\"Submit\" />\n\t</s:form>\n\t\n\t\n\t```\n- Servlet å’Œ Action åŒºåˆ«ï¼š\n\t- Servletï¼šé»˜è®¤åœ¨ç¬¬ä¸€æ¬¡è®¿é—®æ—¶åˆ›å»ºï¼Œä»…åˆ›å»ºä¸€æ¬¡ã€‚( å•å®ä¾‹ )\n\t- Actionï¼šè®¿é—®æ—¶å€™åˆ›å»ºï¼Œä¸”æ¯æ¬¡è®¿é—®æ—¶éƒ½ä¼šåˆ›å»º action å¯¹è±¡ã€‚( å¤šå®ä¾‹ )\n\n\n###### è·å–å€¼æ ˆå¯¹è±¡\n- ä½¿ç”¨ ActionContext ç±»çš„æ–¹æ³•è·å–å€¼æ ˆå¯¹è±¡\n\n\t```java\n\t\n\tpublic class FormOperator extends ActionSupport {\n\t    private User user;\n\t    \n\t    @Override\n\t    public Sring execute() throw EXception {\n\t        ActionContext context = ActionContext().getContext();\n\t        ValueStack stack = context.getValueStack();\n\t        return NONE;\n\t    }\n\t}\t\n\t```\n\n###### å€¼æ ˆå†…éƒ¨ç»“æ„\nå€¼æ ˆä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼š\n\n- Rootï¼šList é›†åˆ `Class Compoundroot extends ArrayList { ... }`\n\t\n- Contextï¼šMap é›†åˆ `Class Compoundroot extends Object implements Map { ... }`\n\n\t![Context å­˜å‚¨çš„å¯¹è±¡å¼•ç”¨](/images/illustration/Project/2018/08/J2EE-SSH-SSI-1_6-3.png)\n\t<center>å›¾ 6-3 Context å­˜å‚¨çš„å¯¹è±¡å¼•ç”¨</center>\n\n###### å‘å€¼æ ˆå­˜æ•°æ®\n\n> ç»“åˆ `<s:debug />` æ ‡ç­¾ï¼Œå¯æµè§ˆå€¼æ ˆçš„ä¼ å€¼æƒ…å†µã€‚\n\nå‘å€¼æ ˆå­˜æ•°æ®çš„å¤šç§æ–¹å¼ï¼š\n\n- è·å–å€¼æ ˆå¯¹è±¡ï¼Œè°ƒç”¨å€¼æ ˆå¯¹è±¡çš„ set æ–¹æ³•ã€‚\n- è·å–å€¼æ ˆå¯¹è±¡ï¼Œè°ƒç”¨å€¼æ ˆå¯¹è±¡çš„ push æ–¹æ³•ã€‚\n- åœ¨ action å®šä¹‰å˜é‡ï¼Œç”Ÿäº§å˜é‡çš„ get æ–¹æ³•ã€‚\n\t\n\t```java\n\t// è·å–å€¼æ ˆå¯¹è±¡\n\tActionContext context = ActionContext.getContext();\n\tValueStack stack = context.getValueStack();\n\t\n\t// å‘å€¼æ ˆæ”¾å­—ç¬¦ä¸²\n\t// Case.01\n\tstack.set(\"username\", \"AttrSet\");\n\t// Case.02\n\tstack.push(\"PushMethod\");\n\t// Case.03.å£°æ˜å˜é‡ï¼Œç”Ÿæˆ Getter æ–¹æ³•\n\tprivate String str;\n\tpublic String getStr() { return str; }\n\tstr = \"SetStrAttr\";\n\n\t// å‘å€¼æ ˆæ”¾å¯¹è±¡\n\tprivate User user;\n\tpublic User getUser() { return user; }\n\t// user.setXXX();\n\t\n\t// å‘å€¼æ ˆæ”¾ List é›†åˆ\n\tprivate List<User> list;\n\tpublic List<User> getList() { return list; }\n\tlist = getAllUserInfo(User.class);\n\t```\n\n###### ä»å€¼æ ˆå–æ•°æ®\n\n- ä»å€¼æ ˆè·å–æ•°æ®\n\n\t```html\n\t<!-- åœ¨å¯¹åº”çš„ jsp é¡µé¢ä¸­å¼•å…¥ struts æ ‡ç­¾åº“  -->\n\t<%@ taglib uri=\"/struts-tags\" prefix=\"s\" %>\n\t\n\t<!-- åœ¨ Jsp é¡µé¢ä¸­è·å–å±æ€§å€¼ -->\n\t<s:property value=\"str\" />\n\t\n\t<!-- Jsp é¡µé¢ä¸­è·å–å¯¹è±¡çš„å€¼ -->\n\t<s:property value=\"user.username\" />\n\t<s:property value=\"user.email\" />\n\t\n\t<!-- Jsp é¡µé¢ä¸­è·å– List é›†åˆï¼šæ–¹å¼ 1 -->\n\t<s:iterator value=\"list\">\n\t    <s:property value=\"username\" />\n\t    <s:property value=\"age\" />\n\t    <s:property value=\"email\" />\n\t    <s:property value=\"phone\" />\n\t</s:iterator>\n\t\n\t<!-- Jsp é¡µé¢ä¸­è·å– List é›†åˆï¼šæ–¹å¼ 2 -->\n\t<s:iterator value=\"list\" var=\"user\">\n\t    <s:property value=\"#user.username\" />\n\t    <s:property value=\"#user.age\" />\n\t    <s:property value=\"#user.email\" />\n\t    <s:property value=\"#user.phone\" />\n\t</s:iterator>\n\t```\n\n---\n\n#### Spring\n`ä¸šåŠ¡é€»è¾‘å±‚`ï¼Œæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬ (IoC) å’Œé¢å‘åˆ‡é¢ (AOP) çš„å®¹å™¨æ¡†æ¶ã€‚\n\n#####  Spring æ¦‚å¿µ\n- ä¸€ç«™å¼è½»é‡çº§å¼€æºæ¡†æ¶ï¼Œåœ¨ Java EE ä¸‰å±‚ç»“æ„ä¸­ï¼Œæ¯ä¸€å±‚æä¾›ä¸åŒçš„è§£å†³æŠ€æœ¯ã€‚\n\t- `Web å±‚`ï¼šSpring MVC\n\t- `Service å±‚`ï¼šioC\n\t- `DAO å±‚`ï¼šSpring çš„ JdbcTemplate\n- AOPï¼š`é¢å‘åˆ‡é¢ç¼–ç¨‹`ï¼Œæ‰©å±•åŠŸèƒ½ä¸æ˜¯é€šè¿‡ä¿®æ”¹æºç å®ç°çš„ï¼Œå³é€šè¿‡ `åŠ¨æ€ä»£ç†æŠ€æœ¯`ï¼ŒæŠŠå„ç±»é€šçŸ¥ / å¢å¼ºç»‡å…¥åˆ°å®ƒæ‰€çº¦å®šçš„æµç¨‹å½“ä¸­ã€‚äº‹å®ä¸Šï¼Œæ˜¯é€šè¿‡å¼•å…¥å…¶ä»–ç±»çš„æ–¹æ³•æ¥å®ç°çš„ã€‚\n- ioCï¼š`æ§åˆ¶åè½¬`ï¼Œä¾‹å¦‚ï¼šå¯¹è±¡çš„åˆ›å»ºä¸é€šè¿‡ new æ–¹å¼å®ç°ï¼Œè€Œæ˜¯é€šè¿‡ Spring é…ç½®åˆ›å»ºç±»å¯¹è±¡ã€‚\n\n##### Spring ioC\næ§åˆ¶åè½¬ (ioC)ï¼Œæ˜¯ä¸€ç§é€šè¿‡æè¿° (åœ¨ Java ä¸­å¯ä»¥æ˜¯ XML æˆ–è€…æ³¨è§£) å¹¶é€šè¿‡ç¬¬ä¸‰æ–¹å»äº§ç”Ÿæˆ–è·å–ç‰¹å®šå¯¹è±¡çš„æ–¹å¼ã€‚\n\n###### ioC åº•å±‚åŸç†\n- ä½¿ç”¨æŠ€æœ¯ï¼š\n\t- XML é…ç½®æ–‡ä»¶ï¼›\n\t- Dom4j è§£æ XMLï¼›\n\t- å·¥å‚è®¾è®¡æ¨¡å¼ï¼›\n\t- ç±»çš„åå°„.\n- ä»£ç å®ç°ï¼š\n\t- åˆ›å»º XML é…ç½®æ–‡ä»¶ï¼Œé…ç½®è¦åˆ›å»ºå¯¹è±¡ç±»ã€‚\n\t- åˆ›å»ºå·¥å‚ç±»ï¼Œä½¿ç”¨ Dom4j è§£æé…ç½®æ–‡ä»¶ï¼Œé€šè¿‡åå°„åˆ›å»ºç±»å¯¹è±¡ã€‚\n\t\n###### ioC å…¥é—¨æ¡ˆä¾‹\n- Maven ä¸­æ·»åŠ ä¾èµ–åº“ ( å¯¹åº”å¯¼å…¥ Jar åŒ… )ï¼š\n\n\t> ä¸‹è½½ Jar åŒ…ï¼šåˆ° [Maven Pository](http://mvnrepository.com/) ä¸­æœç´¢ç›®æ ‡ Jar åŒ…ï¼Œåœ¨å…·ä½“é¡µé¢ä¸­çš„ Files ä¸€æ å¯ä¸‹è½½ã€‚ä¾‹å¦‚ï¼š[log4j-core.2.11.0](http://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-core/2.11.0)\n\n\t```xml\n\t<!-- porm.xml -->\n\t\n\t<!-- Version Control of Jar Dependency  -->\n\n\t<properties>\n\t    <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>\n\t    <spring.version>4.3.18.RELEASE</spring.version>\n\t    <hibernate.version>5.2.17.Final</hibernate.version>\n\t    <struts2.version>2.5.16</struts2.version>\n\t</properties>\n\t\n\t<!-- Foundation of SSH ( Springã€Struts 2ã€Hibernate ) -->\n\n\t<dependencies>\n\n\t    <!-- spring -->\n\t    <dependency>\n\t        <groupId>org.springframework</groupId>\n\t        <artifactId>spring-beans</artifactId>\n\t        <version>${spring.version}</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.springframework</groupId>\n\t        <artifactId>spring-core</artifactId>\n\t        <version>${spring.version}</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.springframework</groupId>\n\t        <artifactId>spring-context</artifactId>\n\t        <version>${spring.version}</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.springframework</groupId>\n\t        <artifactId>spring-expression</artifactId>\n\t        <version>${spring.version}</version>\n\t    </dependency>\n        \n\t    <!-- ä»¥ä¸‹ä¾èµ–åŒ…ä¸ºä¸‹æ–‡æ‰€éœ€è¦çš„ï¼Œä¸ºæ–¹ä¾¿èµ·è§è¿™é‡Œç»Ÿä¸€é…ç½® -->\n\n\t    <!-- struts2 -->\n\t    <dependency>\n\t        <groupId>org.apache.struts</groupId>\n\t        <artifactId>struts2-core</artifactId>\n\t        <version>${struts2.version}</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.ow2.asm</groupId>\n\t        <artifactId>asm</artifactId>\n\t        <version>5.2</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.ow2.asm</groupId>\n\t        <artifactId>asm-commons</artifactId>\n\t        <version>5.2</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.ow2.asm</groupId>\n\t        <artifactId>asm-tree</artifactId>\n\t        <version>5.2</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>commons-fileupload</groupId>\n\t        <artifactId>commons-fileupload</artifactId>\n\t        <version>1.3.3</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>commons-io</groupId>\n\t        <artifactId>commons-io</artifactId>\n\t        <version>2.5</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.apache.commons</groupId>\n\t        <artifactId>commons-lang3</artifactId>\n\t        <version>3.6</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.freemarker</groupId>\n\t        <artifactId>freemarker</artifactId>\n\t        <version>2.3.23</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.javassist</groupId>\n\t        <artifactId>javassist</artifactId>\n\t        <version>3.22.0-GA</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>ognl</groupId>\n\t        <artifactId>ognl</artifactId>\n\t        <version>3.1.15</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>javax</groupId>\n\t        <artifactId>javaee-api</artifactId>\n\t        <version>8.0</version>\n\t        <scope>provided</scope>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>javax.servlet</groupId>\n\t        <artifactId>jstl</artifactId>\n\t        <version>1.2</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.apache.taglibs</groupId>\n\t        <artifactId>taglibs-standard-impl</artifactId>\n\t        <version>1.2.5</version>\n\t    </dependency>\n\n\t    <!-- config-browser-plugin æ’ä»¶æ–¹ä¾¿æµè§ˆé¡¹ç›®ä¸­çš„æ‰€æœ‰ Action åŠå…¶ä¸ Jsp View çš„æ˜ å°„ -->\n\t    <dependency>\n\t        <groupId>org.apache.struts</groupId>\n\t        <artifactId>struts2-junit-plugin</artifactId>\n\t        <version>${struts2.version}</version>\n\t        <scope>test</scope>\n\t    </dependency>\n\n\t    <!-- Hibernate -->\n\t    <dependency>\n\t        <groupId>org.hibernate</groupId>\n\t        <artifactId>hibernate-core</artifactId>\n\t        <version>${hibernate.version}</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.hibernate.common</groupId>\n\t        <artifactId>hibernate-commons-annotations</artifactId>\n\t        <version>5.0.4.Final</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.hibernate.javax.persistence</groupId>\n\t        <artifactId>hibernate-jpa-2.1-api</artifactId>\n\t        <version>1.0.2.Final</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.jboss</groupId>\n\t        <artifactId>jandex</artifactId>\n\t        <version>2.0.5.Final</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.jboss.logging</groupId>\n\t        <artifactId>jboss-logging</artifactId>\n\t        <version>3.3.2.Final</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>antlr</groupId>\n\t        <artifactId>antlr</artifactId>\n\t        <version>2.7.7</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.codehaus.woodstox</groupId>\n\t        <artifactId>stax2-api</artifactId>\n\t        <version>3.1.4</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.apache.geronimo.specs</groupId>\n\t        <artifactId>geronimo-jta_1.1_spec</artifactId>\n\t        <version>1.1.1</version>\n\t    </dependency>\n\n\t    <!-- Combining with SSH ( Springã€Struts 2ã€Hibernate ) framework -->\n\n\t    <!-- Spring æ•´åˆ Hibernate å’Œäº‹åŠ¡ -->\n\t    <dependency>\n\t        <groupId>org.springframework</groupId>\n\t        <artifactId>spring-jdbc</artifactId>\n\t        <version>${spring.version}</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.springframework</groupId>\n\t        <artifactId>spring-orm</artifactId>\n\t        <version>${spring.version}</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.springframework</groupId>\n\t        <artifactId>spring-tx</artifactId>\n\t        <version>${spring.version}</version>\n\t    </dependency>\n\n\t    <!-- Spring æ•´åˆ AOP -->\n\t    <dependency>\n\t        <groupId>org.springframework</groupId>\n\t        <artifactId>spring-aop</artifactId>\n\t        <version>${spring.version}</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.springframework</groupId>\n\t        <artifactId>spring-aspects</artifactId>\n\t        <version>${spring.version}</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>aopalliance</groupId>\n\t        <artifactId>aopalliance</artifactId>\n\t        <version>1.0</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.aspectj</groupId>\n\t        <artifactId>aspectjweaver</artifactId>\n\t        <version>1.9.1</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>cglib</groupId>\n\t        <artifactId>cglib-nodep</artifactId>\n\t        <version>3.2.7</version>\n\t    </dependency>\n\n\t    <!-- Spring æ•´åˆ Web -->\n\t    <dependency>\n\t        <groupId>org.springframework</groupId>\n\t        <artifactId>spring-web</artifactId>\n\t        <version>${spring.version}</version>\n\t    </dependency>\n\n\t    <!-- Sturts 2 æ•´åˆ Spring æ¡†æ¶ -->\n\t    <dependency>\n\t        <groupId>org.apache.struts</groupId>\n\t        <artifactId>struts2-spring-plugin</artifactId>\n\t        <version>${struts2.version}</version>\n\t    </dependency>\n\n\t    <!-- Others -->\n\n\t    <!-- æ·»åŠ å¯¹ MySQL æ•°æ®åº“çš„æ”¯æŒ -->\n\t    <dependency>\n\t        <groupId>mysql</groupId>\n\t        <artifactId>mysql-connector-java</artifactId>\n\t        <version>6.0.6</version>\n\t    </dependency>\n\n\t    <!-- æ·»åŠ å¯¹æ•°æ®æºçš„æ”¯æŒ -->\n\t    <!-- https://mvnrepository.com/artifact/com.mchange/c3p0 -->\n\t    <dependency>\n\t        <groupId>com.mchange</groupId>\n\t        <artifactId>c3p0</artifactId>\n\t        <version>0.9.5.2</version>\n\t    </dependency>\n\n\t    <!-- c3p0æ•°æ®åº“è¿æ¥æ± çš„è¾…åŠ©åŒ… -->\n\t    <dependency>\n\t        <groupId>com.mchange</groupId>\n\t        <artifactId>mchange-commons-java</artifactId>\n\t        <version>0.2.15</version>\n\t    </dependency>\n\n\t    <!-- æ—¥å¿—ç³»ç»Ÿ -->\n\t    <dependency>\n\t        <groupId>org.apache.logging.log4j</groupId>\n\t        <artifactId>log4j-core</artifactId>\n\t        <version>2.10.0</version>\n\t    </dependency>\n\t    <dependency>\n\t        <groupId>org.apache.logging.log4j</groupId>\n\t        <artifactId>log4j-api</artifactId>\n\t        <version>2.10.0</version>\n\t    </dependency>\n\n\t    <!-- Junit -->\n\t    <dependency>\n\t        <groupId>junit</groupId>\n\t        <artifactId>junit</artifactId>\n\t        <version>4.12</version>\n\t        <scope>compile</scope>\n\t    </dependency>\n\n    </dependencies>\n\t```\n\t\n- åˆ›å»º Spring é…ç½®æ–‡ä»¶ï¼šåœ¨ Src ç›®å½•ä¸‹ (å»ºè®®)ï¼Œåˆ›å»º Spring æ ¸å¿ƒé…ç½®æ–‡ä»¶ applicationContext.xmlã€‚\n\t\n\t```xml\n\t<!-- applicationContext.xml -->\n\t\n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\t    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\t    xsi:schemaLocation=\"\n\t    http://www.springframework.org/schema/beans\n\t    http://www.springframework.org/schema/beans/spring-beans-2.5.xsd>\n\t    <bean id=\"operator\" class=\"cn.entity.UserOperator\"></bean>\n\t</beans>\n\t```\n\n- å†é…ç½®åˆ›å»ºç±»ï¼Œå¯¹è±¡åˆ›å»º (æ–¹ä¾¿æ¼”ç¤ºï¼Œä»¥å•å…ƒæµ‹è¯•å½¢å¼å‘ˆç°)ï¼š\n\n\t```java\n\t// å•å…ƒæµ‹è¯•ç±»\n\tpublic class ioCTest() {\n\t    @Test\n\t    public void testUser() {\n\t        // Step.01.åŠ è½½ Spring é…ç½®æ–‡ä»¶\n\t        ApplicationContext context  = \n\t            new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n\t            \n\t        // Step.02. å¾—åˆ°é…ç½®åˆ›å»ºçš„å¯¹è±¡\n\t        UserOperator operator = \n\t            (UserOperator) context.getBean(\"operator\");\n\t    }\n\t}\n\t```\n\n##### Spring Bean ç®¡ç† (XML)\n\n###### Bean æ ‡ç­¾å¸¸ç”¨å±æ€§\n- ID å±æ€§ï¼šBean æ ‡ç­¾çš„åç§°ï¼Œè¦æ±‚åªå«æ•°å­—å’Œå¤§å°å†™è‹±æ–‡å­—æ¯ã€‚\n- Class å±æ€§ï¼šå¸¸è§å¯¹è±¡æ‰€åœ¨ç±»çš„å…¨è·¯å¾„ã€‚\n- Name å±æ€§ï¼šåŠŸèƒ½å’Œ ID å±æ€§ä¸€æ ·ï¼ŒName å±æ€§å¯åŒ…å«ç‰¹æ®Šå­—ç¬¦å€¼ã€‚\n- Scope å±æ€§ï¼š\n\t- `singleton`ï¼šå•ä¾‹çš„ ( é»˜è®¤å€¼ )ã€‚\n\t- `prototype`ï¼šå¤šä¾‹çš„ã€‚\n\n###### Bean å®ä¾‹åŒ–çš„æ–¹å¼\n- ä½¿ç”¨ç±»çš„æ— å‚æ•°æ„é€ åˆ›å»ºå¯¹è±¡\n\n\t```java\t\n\tpublic class UserOperator {\n\t   public UserOperator() { }\n\t}\n\t```\n\n- ä½¿ç”¨é™æ€å·¥å‚åˆ›å»ºå¯¹è±¡\n\n\t```java\n\tpublic class UserOperatorFactory {\n\t    public static UserOperator getOperator() {\n\t        String className = \"classValue\"; // cn.entity.UserOperator\n\t        Class clz = Class.forName(className);\n\t        return clz.newInstance();\n\t    }\n\t}\n\t```\n\t\n- ä¸Šè¿°å®ä¾‹åŒ–æ–¹æ³•åœ¨ applicationContext.xml ä¸­çš„é…ç½®ï¼š\n\n\t```xml\n\t<!-- æ— å‚æ•°æ„é€ åˆ›å»ºå¯¹è±¡ -->\n\t<bean id=\"operator\" class=\"cn.kofes.entity.UserOperator\" scope=\"singleton\"></bean>\n   \n\t<!-- é™æ€å·¥å‚åˆ›å»ºå¯¹è±¡ -->\n\t<bean id=\"operator\" class=\"cn.kofes.entity.UserOperatorFactory\" factory-method=\"getOperator\"></bean>\n    \n\t```\n\n###### å±æ€§æ³¨å…¥æ–¹å¼\n- Set() æ–¹æ³•æ³¨å…¥\n\n\t```java\n\tpublic class UserOperator {\n\t    private String operationType;\n\t    public void setUsername(String operationType) {\n\t        this.operationType = operationType;\n\t    }\n\t}\n\t```\n\n- æœ‰å‚æ•°æ„é€ æ³¨å…¥\n\n\t```java\n\tpublic class UserOperator {\n\t    private String operationType;\n\t    public UserOperator(String operationType) {\n\t        this.operationType = operationType;\n\t    }\n\t}\n\t```\n\t\n- æ³¨å…¥ `å¯¹è±¡å±æ€§` ç±»å‹ï¼š\n\n\t```java\n\tpublic class UserOperator {\n\n    private User user;\n    \n    public void setUser(User user) {\n        this.user = user;\n    }\n    \n\t    @Test\n\t    public void operatorTest() {\n\t        ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n\t        UserOperator operator = (UserOperator) context.getBean(\"operator\");\n\t        // TODO\n\t    }\n\t}\n\t```\n\t\n- æ³¨å…¥ `å¤æ‚ç±»å‹` å±æ€§ï¼š\n\t- æ•°ç»„\n\t- List é›†åˆ\n\t- Map é›†åˆ\n\t- Properties ç±»å‹\n\n\t```java\n\tpublic class UserOperatorXML {\n\t    private String arrs;\t\t// æ•°ç»„\n\t    private List<String> list;\t\t// List é›†åˆ\n\t    private Map<String, String> map;\t// Map é›†åˆ\n\t    private Properties properties;\t// Properties ç±»å‹\n\t    \n\t    // Setter() æ–¹æ³•æ­¤å¤„çœç•¥...\n\t    \n\t    @Test\n\t    public void operatorTest() {\n\t        ApplicationContext context = \n\t        \tnew ClassPathXmlApplicationContext(\"applicationContext.xml\");\n\t        UserOperatorXML operator =\n\t        \t (UserOperatorXML) context.getBean(\"operator\");\n\t        // TODO\n\t    }\n\t}\n\t```\n\t\n- ä¸Šè¿° `æ³¨å…¥æ–¹æ³•` åœ¨ applicationContext.xml ä¸­çš„é…ç½®ï¼š\n\n\t```xml\n\t<!-- -- æœ‰å‚æ•°æ„é€ æ³¨å…¥å±æ€§ -- -->\n\t<bean id=\"operator\" class=\"cn.kofes.entity.UserOperatorXML\">\n\t    <constructor-arg name=\"operationType\" value=\"modify\" />\n\t</bean>\n    \n\t<!-- -- Set æ–¹æ³•æ³¨å…¥å±æ€§ -- -->\n\t<bean id=\"operator\" class=\"cn.kofes.entity.UserOperatorXML\">\n\t    <property name=\"operationType\" value=\"modify\" />\n\t</bean>\n\t\n\t<!-- -- æ³¨å…¥ å¯¹è±¡å±æ€§ ç±»å‹ -- -->\n\t<bean id=\"user\" class=\"cn.kofes.entity.User\"></bean>\n\n\t<bean id=\"operator\" class=\"cn.kofes.entity.UserOperatorXML\">\n\t    <!--\n\t     | Name å±æ€§å€¼ï¼šç±»é‡Œé¢çš„å®šä¹‰å±æ€§çš„åç§°\n\t     | Ref å±æ€§ï¼šå®šä¹‰å±æ€§åœ¨ Bean æ ‡ç­¾ä¸­çš„ ID å€¼\n\t    -->\n\t    <property name=\"user\" ref=\"user\" />\n\t</bean>\n\t\n\t\n\t<!-- -- æ³¨å…¥ å¤æ‚ç±»å‹ å±æ€§ -- -->\n\t<bean id=\"complex\" class=\"cn.kofes.entity.UserOperatorXML\">\n\t    <!-- æ•°ç»„ã€List é›†åˆé€‚ç”¨ -->\n\t    <property name=\"arrs\">\n\t        <lsit><value>Arrs0</value></lsit>\n\t        <lsit><value>Arrs1</value></lsit>\n\t        <lsit><value>Arrs2</value></lsit>\n\t    </property>\n\n\t    <!-- Map é›†åˆ -->\n\t    <property name=\"map\">\n\t        <map>\n\t            <entry key=\"seq1\" value=\"str1\" />\n\t            <entry key=\"seq2\" value=\"str2\" />\n\t            <entry key=\"seq3\" value=\"str3\" />\n\t        </map>\n\t    </property>\n\n\t    <!-- Propertiesï¼šä¾‹å¦‚æˆ‘ä»¬è¦é…ç½®æ•°æ®åº“ -->\n\t    <property name=\"properties\">\n\t        <props>\n\t            <prop key=\"driverclass\">com.mysql.jdbc.Driver</prop>\n\t            <prop key=\"username\">root</prop>\n\t            <prop key=\"password\">123456</prop>\n\t        </props>\n\t    </property>\n\t</bean>\n\t```\n\t\n###### Spring DI\nioC ä¸ DI çš„åŒºåˆ«\n\n- `ioC`ï¼š`æ§åˆ¶åè½¬`ï¼ŒæŠŠå¯¹è±¡åˆ›å»ºäº¤ç»™ Spring è¿›è¡Œé…ç½®ã€‚\n- `DI`ï¼š`ä¾èµ–æ³¨å…¥`ï¼Œå‘ç±»ä¸­çš„å±æ€§è®¾ç½®å±æ€§å€¼ã€‚\n\t\n\t> å…³ç³»ï¼šä¾èµ–æ³¨å…¥ä¸èƒ½å•ç‹¬å­˜åœ¨ï¼Œéœ€åœ¨ ioC åŸºç¡€ä¹‹ä¸Šå®Œæˆæ“ä½œã€‚\n\t\n##### Spring Bean ç®¡ç† (æ³¨è§£)\n- æ³¨è§£æ ¼å¼ï¼š`@æ³¨è§£åç§°(value=\"å±æ€§å€¼\")` æˆ–è€… `@æ³¨è§£åç§°(\"å±æ€§å€¼\")` \n- `@Component(\"user\")` ç›¸å½“äº `<bean id=\"user\" class=\"\" />`ï¼Œå…¶ä¸‰ä¸ªè¡ç”Ÿæ³¨è§£ä¸ºï¼š\n\t- @Controllerï¼šWeb å±‚ï¼Œç›¸å½“äº Struts ä¸­çš„ Action å±‚ã€‚\n\t- @Serviceï¼šä¸šåŠ¡å±‚ ï¼Œä¸šåŠ¡é€»è¾‘å¤„ç†ã€‚\n\t- @Repositoryï¼šæŒä¹…å±‚ï¼Œæ ‡æ³¨æ•°æ®è®¿é—®ç»„ä»¶ï¼Œå³ DAO ç»„ä»¶ã€‚\n\n\t> åŠŸèƒ½ç›®å‰æ¥è¯´æ˜¯ä¸€è‡´çš„ï¼Œå³åˆ›å»ºå¯¹è±¡ã€‚\n\t\n- `@Scope(\"prototype\")` æˆ– `@Scope(\"singleton\")`ï¼šå³é…ç½®çš„å¯¹è±¡æ˜¯å•å®ä¾‹è¿˜æ˜¯å¤šå®ä¾‹ã€‚\n\n\t```java\n\t@Component(\"BaseAction\")\n\t@Scope(\"prototype\")\n\tpublic class BaseAction { ... }\n\t```\n\n###### åŸºæœ¬å†…å®¹\n- ä½¿ç”¨æ³¨è§£åˆ›å»ºå¯¹è±¡\n- ä½¿ç”¨æ³¨è§£æ³¨å…¥å¯¹è±¡\n- xml å’Œæ³¨è§£æ–¹å¼æ··åˆä½¿ç”¨\n\n###### å°è¯•ç‰›åˆ€\n- åˆ›å»ºç±»å’Œæ–¹æ³•\n\n\t```java\n\tpublic class User { /* çœç•¥å®ä½“ç±»çš„å±æ€§ */ }\n\tpublic class Customer { /* çœç•¥å®ä½“ç±»çš„å±æ€§ */ }\n\tpublic class Firm { /* çœç•¥å®ä½“ç±»çš„å±æ€§ */ }\n\t```\n\n- åˆ›å»º Spring é…ç½®æ–‡ä»¶ï¼Œå¹¶å¼•å…¥çº¦æŸ (åœ¨ä¸Šè¿° applicationContext.xml ä¸­è¿½åŠ )\n\t\n\t```xml\n\t<!-- applicationContext.xml -->\n\t\n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\t    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\t    xmlns:context=\"http://www.springframework.org/schema/context\"\n\t    xsi:schemaLocation=\"\n\t    http://www.springframework.org/schema/beans\n\t    http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n\t    http://www.springframework.org/schema/context\n\t    http://www.springframework.org/schema/context/spring-context-2.5.xsd\">\n\t    \n\t    <!-- æ³¨è§£æ‰«æï¼šæ‰«æå±æ€§ä¸Šé¢çš„æ³¨è§£ -->\n\t    <context:annotation-config/>\n\t    \n\t    <!-- \n\t     | æ³¨è§£æ‰«æï¼šåˆ°åŒ…é‡Œæ‰«æç±»ã€æ–¹æ³•ã€å±æ€§ä¸Šé¢çš„æ³¨è§£ï¼Œ\n\t     | å³ä½¿ç”¨ Annotation è‡ªåŠ¨æ³¨å†Œ Bean\n\t    -->\n\t    <context:component-scan base-package=\"cn.kofes\"/>\n\t    <context:component-scan base-package=\"cn.kofes.entity\"/>\n\t</beans>\n\t```\n\t\n- æ³¨è§£ä¸­åˆ›å»ºå¯¹è±¡\n\n\t```java\n\t// æ­¤æ–¹å¼ç›¸å½“äº <bean id=\"user\" class=\"cn.kofes.entity.User\" />\n\t\n\t@Component(value=\"user\")  \n\tpublic class User { \n\t    // çœç•¥å®ä½“ç±»çš„å±æ€§...\n\t}\n\n\tpublic class UserOperatorAnn {\n\t    private User user;\n\n\t    @Test\n\t    public void operatorTest() {\n\t        ApplicationContext context = \n\t        \tnew ClassPathXmlApplicationContext(\"applicationContext.xml\");\n\t        System.out.println(user);\t // ç›´æ¥è°ƒç”¨ user å¯¹è±¡\n\t    }\n\t}\n\t```\n\n- æ³¨è§£æ³¨å…¥å±æ€§\n\n\t```java\n\t// å®ä½“æ“ä½œç±»\n\tpublic class UserOperatorAnn {\n\t\n\t    // ç›¸å½“äº Set æ–¹æ³•æ³¨å…¥å±æ€§ï¼š\n\t    // @Autowired æˆ–è€… @Resource(name = \"user\") \n\t    \n\t    @Autowired\t\n\t    private User user;\n\n\t    @Test\n\t    public void operatorTest() {\n\t        ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n\t        System.out.println(user);\t\n\t        System.out.println(customer);\t\n\t        System.out.println(firm);\t\n\t    }\n\t}\n\t```\n\t\n- XML é…ç½®æ–‡ä»¶å’Œæ³¨è§£æ··åˆä½¿ç”¨\n\t- åˆ›å»ºå¯¹è±¡æ“ä½œä½¿ç”¨ XML é…ç½®æ–‡ä»¶æ–¹å¼å®ç°ï¼›\n\t- æ³¨å…¥å±æ€§çš„æ“ä½œä½¿ç”¨æ³¨è§£æ–¹å¼å®ç°.\n\n\t```java\n\t/* Startï¼šapplicationContext.xml */\n\t\n\t<bean id=\"user\" class=\"cn.kofes.entity.User\" />\n\t<bean id=\"customer\" class=\"cn.kofes.entity.Customer\" />\n\t<bean id=\"firm\" class=\"cn.kofes.entity.Firm\" />\n\t\n\t/* Endï¼šapplicationContext.xml */\n\t\n\tpublic class UserOperatorAnn {\t\n\t    // æ³¨è§£æ–¹å¼æ³¨å…¥å±æ€§\n\t    @Resource(name = \"user\") \n\t    private User user;\n\t    @Resource(name = \"customer\") \n\t    private Customer customer;\n\t    @Resource(name = \"firm\") \n\t    private Firm firm;\n\n\t    @Test\n\t    public void operatorTest() {\n\t        ApplicationContext context = \n\t        \tnew ClassPathXmlApplicationContext(\"applicationContext.xml\");\n\t        System.out.println(user);\t\n\t        System.out.println(customer);\t\n\t        System.out.println(firm);\t\n\t    }\n\t}\n\t```\n\n##### Spring AOP\n\n###### AOP æ¦‚è¿°\né¢å‘åˆ‡é¢ç¼–ç¨‹ (Aspect Oriented Programingï¼ŒAOP)ï¼Œæ‰©å±•åŠŸèƒ½ä¸é€šè¿‡ä¿®æ”¹ä»£ç å®ç°ã€‚AOP é‡‡å– `æ¨ªå‘æŠ½å–æœºåˆ¶` å–ä»£ä¼ ç»Ÿ `çºµå‘ç»§æ‰¿ä½“ç³»` é‡å¤æ€§ä»£ç ã€‚\n\n- çºµå‘ç»§æ‰¿ä½“ç³»ï¼šé€šè¿‡ç»§æ‰¿è·å¾—çˆ¶ç±»çš„åŠŸèƒ½ (æ–¹æ³•)ã€‚\n- æ¨ªå‘æŠ½å–æœºåˆ¶ï¼šåŠ¨æ€ä»£ç†æ–¹å¼ã€‚\n\t- é’ˆå¯¹æœ‰æ¥å£çš„æƒ…å†µï¼Œä½¿ç”¨ JDK åŠ¨æ€ä»£ç†ã€‚\n\t- é’ˆå¯¹æ²¡æœ‰æ¥å£æƒ…å†µï¼Œä½¿ç”¨ Cglib åŠ¨æ€ä»£ç†ã€‚\n\n\t```java\n\tpublic interface Dao {\n\t    public void add();\n\t}\n\t\n\tpublic class DaoImpl implements Dao {\n\t    public void add() {\n\t        // å…·ä½“é€»è¾‘\n\t    }\n\t}\n\t```\n\n######  AOP ç›¸å…³æœ¯è¯­\n\nä¾¿äºç†è§£ï¼Œå¼•å…¥å®ä½“ç±»è¿›è¡Œè¯´æ˜ï¼š\n\n```java\npublic class User {\n    public void add() {}\n    public void update() {}\n    public void delete() {}\n    public void findAll() {}\n}\n```\n\n- è¿æ¥ç‚¹ (Join Point)ï¼šæŒ‡é‚£äº›è¢«æ‹¦æˆªåˆ°çš„ç‚¹ï¼Œåœ¨ Spring è¿™äº›ç‚¹æŒ‡çš„æ˜¯æ–¹æ³•ï¼Œå›  Spring åªæ”¯æŒæ–¹æ³•ç±»å‹çš„è¿æ¥ç‚¹ã€‚\n\n\t> ç±»ä¸­æœ‰å“ªäº›æ–¹æ³•å¯è¢«å¢å¼ºï¼Œè¿™äº›æ–¹æ³•ç§°ä¸ºè¿æ¥ç‚¹ã€‚\n\n- `åˆ‡å…¥ç‚¹ (Pointcut)`ï¼šæŒ‡æˆ‘ä»¬è¦å¯¹å“ªäº› `Join Point` è¿›è¡Œæ‹¦æˆªçš„å®šä¹‰ã€‚\n\n\t> ç±»ä¸­æœ‰å¾ˆå¤šæ–¹æ³•è¢«å¢å¼ºï¼Œä¾‹å¦‚å®é™…æ“ä½œä¸­ï¼Œåªæ˜¯å¢å¼ºäº†ç±»ä¸­çš„ add() å’Œ update() æ–¹æ³•ï¼Œå³ç§°ä¸ºåˆ‡å…¥ç‚¹ã€‚\n\t\n- å¼•ä»‹ (Introduction)ï¼šä¸€ç§ç‰¹æ®Šçš„é€šçŸ¥åœ¨ä¸ä¿®æ”¹ç±»ä»£ç çš„å‰æä¸‹ï¼Œ Introduction å¯ä¸ºç±»åŠ¨æ€åœ°æ·»åŠ ä¸€äº›æ–¹æ³•æˆ– Fieldã€‚\n\n- `é€šçŸ¥/å¢å¼º (Advice)`ï¼šæŒ‡æ‹¦æˆªåˆ° `Join Point` ä¹‹åè¦åšçš„äº‹æƒ…å°±æ˜¯é€šçŸ¥ã€‚é€šçŸ¥åˆ†ä¸ºå‰ç½®é€šçŸ¥ã€åç½®é€šçŸ¥ã€å¼‚å¸¸é€šçŸ¥ã€æœ€ç»ˆé€šçŸ¥ã€ç¯ç»•é€šçŸ¥ (åˆ‡é¢è¦å®Œæˆçš„åŠŸèƒ½)ã€‚\n\n\t> å¢å¼ºçš„é€»è¾‘ç§°ä¸ºå¢å¼ºï¼Œä¾‹å¦‚æ‰©å±•æ—¥å¿—åŠŸèƒ½ï¼Œè¿™ä¸ªæ—¥å¿—åŠŸèƒ½ç§°ä¸ºå¢å¼ºã€‚  \n\t> å‰ç½®é€šçŸ¥ï¼Œåœ¨æ–¹æ³•ä¹‹å‰æ‰§è¡Œï¼›åç½®é€šçŸ¥ï¼Œåœ¨æ–¹æ³•ä¹‹åæ‰§è¡Œï¼›  \n\t> å¼‚å¸¸é€šçŸ¥ï¼Œæ–¹æ³•å‡ºç°å¼‚å¸¸ï¼›æœ€ç»ˆé€šçŸ¥ï¼Œåœ¨åç½®ä¹‹åæ‰§è¡Œï¼›  \n\t> ç¯ç»•é€šçŸ¥ï¼Œåœ¨æ–¹æ³•ä¹‹å‰å’Œä¹‹åæ‰§è¡Œ.  \n\n- ç›®æ ‡å¯¹è±¡ (Target)ï¼šä»£ç†çš„ç›®æ ‡å¯¹è±¡ (è¦å¢å¼ºçš„ç±»)ã€‚\n\n- ç»‡å…¥ (Weaving)ï¼šæŠŠå¢å¼ºåº”ç”¨åˆ°ç›®æ ‡çš„è¿‡ç¨‹ï¼Œå³æŠŠ Advice åº”ç”¨åˆ° Target çš„è¿‡ç¨‹ã€‚\n\n- `åˆ‡é¢ (Aspect)`ï¼šåˆ‡å…¥ç‚¹å’Œé€šçŸ¥ (å¼•ä»‹) çš„ç»“åˆã€‚\n\n\t> æŠŠå¢å¼ºåº”ç”¨åˆ°å…·ä½“æ–¹æ³•ä¸Šï¼Œæ­¤è¿‡ç¨‹ç§°ä¸ºåˆ‡é¢ã€‚ä¾‹å¦‚æŠŠæ—¥å¿—åŠŸèƒ½å†™è¿› add() æ–¹æ³•ä¸­ã€‚\n\t\n- ä»£ç† (Proxy)ï¼šä¸€ä¸ªç±»è¢« AOP ç»‡å…¥å¢å¼ºåï¼Œäº§ç”Ÿä¸€ä¸ªç»“æœä»£ç†ç±»ã€‚\n\n###### Spring AOP æ“ä½œ\n\n> (1) åŸºäº AspectJ çš„ Spring AOP æ“ä½œã€‚\n\nASpectJï¼šé¢å‘åˆ‡é¢çš„æ¡†æ¶ï¼Œå…¶æ‰©å±•äº† Java è¯­è¨€ã€‚AspectJ å®šä¹‰äº† AOP è¯­æ³•ï¼Œæ•…å®ƒæœ‰ä¸€ä¸ªä¸“é—¨çš„ç¼–è¯‘å™¨æ¥ç”Ÿæˆéµå®ˆ Java å­—èŠ‚ç¼–ç è§„èŒƒçš„ Class æ–‡ä»¶ã€‚ \n\nAspectJ å¹¶ä¸æ˜¯ Spring ä¸€éƒ¨åˆ†ï¼Œå’Œ Spring ä¸€èµ·ä½¿ç”¨è¿›è¡Œ AOP æ“ä½œã€‚\n\nä½¿ç”¨ AspectJ å®ç° AOP æœ‰ä¸¤ç§æ–¹å¼ï¼š1) åŸºäº AspectJ çš„ XML é…ç½®ï¼›2) åŸºäº AspectJ çš„æ³¨è§£æ–¹å¼ã€‚\n\n> (2) æ“ä½œåŸºæœ¬æµç¨‹ ( XML æ–¹å¼ )ï¼š\n\n- ä½¿ç”¨è¡¨è¾¾å¼é…ç½®åˆ‡å…¥ç‚¹\n\t- execution( <è®¿é—®ä¿®é¥°ç¬¦>?<è¿”å›ç±»å‹><æ–¹æ³•å>(<å‚æ•°>)(å¼‚å¸¸) )\n\n\t> execution( \\* cn.kofes.UserOpertor.add(..) )  -- UserOperator ç±»ä¸­ add() æ–¹æ³•å¢å¼º\n\t> execution( \\* cn.kofes.UserOperator.\\*(..) )  -- UserOperator ç±»ä¸­æ‰€æœ‰æ–¹æ³•å¢å¼º\n\t> execution( \\* \\*.\\*(..) )  -- æ‰€æœ‰ç±»ä¸­æ‰€æœ‰æ–¹æ³•å¢å¼º  \n\t> execution( \\* save\\*(..) ) -- æ‰€æœ‰ save å¼€å¤´çš„æ–¹æ³•å¢å¼º\n\t\n- ä»£ç å®ç°\n\n\t```java\n\t// strengthenUserOperator.java\n\tpublic class strengthenUserOperator {\n\n\t    public strengthenUserOperator() { }\n\n\t    /**\n\t     * This's an aspect inserting to the method() the front.\n\t     */\n\t    public void listBeforeOperatorType() {\n\t        System.out.println(\"Inserting to the method() the front.\");\n\t    }\n\n\t    /**\n\t     * This's an aspect inserting to the method() the front and latter.\n\t     * @param proceedingJoinPoint æ‰§è¡Œè¢«å¢å¼ºçš„æ–¹æ³•\n\t     * @throws Throwable\n\t     */\n\t    public void listArroundOperatorType(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n\t        System.out.println(\"Inserting to the method() the front.\");\n\t        proceedingJoinPoint.proceed();\n\t        System.out.println(\"Inserting to the method() the latter.\");\n\t    }\n\t}\n\t\n\t// UserOperatorXML.java\n\tpublic class UserOperatorXML {\n\n\t    private User user;\n\n\t    public void setUser(User user) { this.user = user; }\n\n\t    public User getUser() { return user; }\n\n\t    @Test\n\t    public void operatorTest() {\n\t        ApplicationContext context = new ClassPathXmlApplicationContext(\"applicationContext.xml\");\n\t        UserOperatorXML operator = (UserOperatorXML) context.getBean(\"operator\");\n\t        // ä¼šåœ¨ç”¨æˆ·ä¿¡æ¯ä¹‹å‰è¾“å‡º â€œå‰ç½®å¢å¼ºâ€ çš„ä¿¡æ¯ã€‚\n\t        System.out.println( operator.getUser() );\n\t    }\n\t}\n\t```\n\n- åˆ›å»º Spring é…ç½®æ–‡ä»¶ï¼Œå¹¶å¼•å…¥çº¦æŸ (åœ¨ä¸Šè¿° applicationContext.xml ä¸­è¿½åŠ )\n\t\n\t```xml\n\t<!-- applicationContext.xml -->\n\t\n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\t    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\t    xmlns:context=\"http://www.springframework.org/schema/context\"\n\t    xmlns:aop=\"http://www.springframework.org/schema/aop\"\n\t    xsi:schemaLocation=\"\n\t    http://www.springframework.org/schema/beans\n\t    http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n\t    http://www.springframework.org/schema/context\n\t    http://www.springframework.org/schema/context/spring-context-2.5.xsd\n\t    http://www.springframework.org/schema/aop\n\t    http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\">\n\t    \n\t    <!-- æ— å‚æ•°æ„é€ åˆ›å»ºå¯¹è±¡ -->\n\t    <bean id=\"operator\" class=\"cn.kofes.entity.UserOperatorXML\" />\n\t    <bean id=\"strengthenoperator\" class=\"cn.kofes.entity.strengthenUserOperator\" />\n\t    \n\t    <!-- é…ç½® AOP æ“ä½œ -->\n\t    <aop:config>\n\t        <!-- é…ç½®åˆ‡å…¥ç‚¹ï¼šåŒ¹é… UserOperator ç±»ä¸­æ‰€æœ‰æ–¹æ³• -->\n\t        <aop:pointcut id=\"pointcutA\" expression=\"execution( * cn.kofes.UserOperatorXML.*(..))\" />\n\t        <!-- é…ç½®åˆ‡é¢ï¼šæŠŠå¢å¼ºç”¨åˆ°æ–¹æ³•ä¸Šé¢ -->\n\t        <aop:aspect ref=\"strengthenoperator\">\n\t            <!-- é…ç½®å¢å¼ºç±»å‹\n\t             | Aopï¼šå¢å¼ºç±»å‹æœ‰ beforeã€afterã€arroud ç­‰\n\t             | Methodï¼šå¢å¼ºç±»é‡Œé¢ä½¿ç”¨å“ªä¸ªæ–¹æ³•ä½œä¸ºå‰ç½®\n\t            -->\n\t            <aop:before method=\"listAllOperatorType\" pointcut-ref=\"pointcutA\" />\n\t        </aop:aspect>\n\t    </aop:config>\n\t    \n\t</beans>\n\t```\n\t\n> (3) æ“ä½œåŸºæœ¬æµç¨‹ ( æ³¨è§£æ–¹å¼ )ï¼š\n\n- åˆ›å»º Spring é…ç½®æ–‡ä»¶ (åœ¨ä¸Šè¿° applicationContext.xml ä¸­è¿½åŠ )ï¼ŒXML é…ç½®åˆ›å»ºå¯¹è±¡ï¼Œå¹¶å¼€å¯ AOP æ“ä½œï¼š\n\n\t```xml\n\t<!-- æ— å‚æ•°æ„é€ åˆ›å»ºå¯¹è±¡ -->\n\t<bean id=\"strengthenoperator\" class=\"cn.kofes.entity.strengthenUserOperator\" />\n\t\n\t<!-- å¼€å¯ AOP æ“ä½œ -->\n\t<aop:aspectj-autoproxy></aop:aspectj-autoproxy>\n\t```\n\t\n- åœ¨å¢å¼ºç±»ä¸Šé¢ä½¿ç”¨æ³¨è§£å®Œæˆ AOP æ“ä½œï¼š\n\n\t```java\n\t// strengthenUserOperator.java\n\t@Aspect\n\tpublic class strengthenUserOperator {\n\n\t    public strengthenUserOperator() { }\n\n\t    /**\n\t     * This's an aspect inserting to the method() the front.\n\t     */\n\t    public void listBeforeOperatorType() {\n\t        System.out.println(\"Inserting to the method() the front.\");\n\t    }\n\n\t    /**\n\t     * This's an aspect inserting to the method() the front and latter.\n\t     * @param proceedingJoinPoint æ‰§è¡Œè¢«å¢å¼ºçš„æ–¹æ³•\n\t     * @throws Throwable\n\t     */\n\t    @Around(value=\"execution( * cn.kofes.entity.UserOperatorXML.*(..) )\")\n\t    public void listArroundOperatorType(ProceedingJoinPoint proceedingJoinPoint) throws Throwable {\n\t        System.out.println(\"Inserting to the method() the front.\");\n\t        proceedingJoinPoint.proceed();\n\t        System.out.println(\"Inserting to the method() the latter.\");\n\t    }\n\t}\n\t```\n\n##### Spring æ•´åˆ Web é¡¹ç›®\n`è¯‰æ±‚`ï¼šåœ¨ Spring è¿ä½œä¸­ï¼Œé¦–å…ˆåŠ è½½ Spring æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œå†åˆ›å»ºå¯¹è±¡ã€‚è€Œåˆ›å»ºå¯¹è±¡å¯é€šè¿‡ New çš„æ–¹å¼åˆ›å»ºï¼Œä½†æ•ˆç‡å¤ªä½ï¼Œåˆ™æˆ‘ä»¬å¯ä»¥æŠŠåŠ è½½é…ç½®æ–‡ä»¶å’Œåˆ›å»ºå¯¹è±¡è¿‡ç¨‹ï¼Œåœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶å®Œæˆã€‚\n\n###### é—®é¢˜å¼•å…¥\n- Action è°ƒç”¨ Serviceï¼ŒService è°ƒç”¨ Daoã€‚è€Œæ¯æ¬¡ Action æ—¶éƒ½ä¼šåŠ è½½ Spring é…ç½®æ–‡ä»¶ï¼Œå½±å“æ€§èƒ½ã€‚\n\n###### å®ç°åŸç†\n- ServletContext å¯¹è±¡\n- ç›‘å¬å™¨ (è§‚å¯Ÿè€…æ¨¡å¼)\n\n###### æ“ä½œç®€å™\n- åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œä¸ºæ¯ä¸ªé¡¹ç›®åˆ›å»ºä¸€ ServletContext å¯¹è±¡ï¼›\n- åœ¨ ServletContext å¯¹è±¡åˆ›å»ºæ—¶ï¼Œä½¿ç”¨ç›‘å¬å™¨ç›‘å¬ ServletContext å¯¹è±¡åœ¨ä»€ä¹ˆæ—¶åˆ›å»ºï¼›\n- ç›‘å¬åˆ° ServletContext å¯¹è±¡åˆ›å»ºæ—¶ï¼ŒåŠ è½½ Spring é…ç½®æ–‡ä»¶ï¼ŒæŠŠé…ç½®æ–‡ä»¶é…å¯¹è±¡åˆ›å»ºï¼›\n- æŠŠåˆ›å»ºçš„å¯¹è±¡æ”¾ç½® ServletContext åŸŸå¯¹è±¡é‡Œï¼›\n- åˆ° ServletContext åŸŸä¸­ï¼Œé€šè¿‡ getAttribute() æ–¹æ³•è·å–å¯¹è±¡ã€‚\n\n###### å…·ä½“å®ç°\n- åœ¨ `web.xml` é…ç½®æ–‡ä»¶ä¸­æ·»åŠ ç›‘å¬å™¨ï¼Œå¹¶æŒ‡å®š Spring é…ç½®æ–‡ä»¶ çš„ä½ç½®ã€‚\n\n\t```xml\n\t<!-- æŒ‡å®š Spring é…ç½®æ–‡ä»¶ -->\n\t<context-param>\n\t    <param-name>contextConfigLocation</param-name>\n\t    <param-value>classpath:applicationContext.xml</param-value>\n\t</context-param>\n    \n\t<!-- ç›‘å¬å™¨æ¨¡å— -->\n\t<listener>\n\t    <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>\n\t</listener>\n\t```\n\n##### Spring JdbcTemplate æ“ä½œ\n- Spring å¯¹ä¸åŒçš„æŒä¹…åŒ–å±‚æŠ€æœ¯éƒ½è¿›è¡Œäº†å°è£…ï¼š\n\t- `Jdbc`\n\t- `Hibernate 5.x`\n\t- `iBatis / MyBatis`\n\t- `JPA`\n- JdbcTemplate å¯¹ Jdbc è¿›è¡Œäº†å°è£…ï¼Œä»¥ä¸‹ä¸ºå®é™…æ“ä½œä»‹ç»ã€‚\n\n###### JdbcTemplate å¢åˆ æ”¹æŸ¥\n\n- Step.01.åˆ›å»ºå¯¹è±¡ï¼Œè®¾ç½®æ•°æ®åº“ä¿¡æ¯\n- Step.02.åˆ›å»º jdbcTemplate å¯¹è±¡ï¼Œè®¾ç½®æ•°æ®æº\n- Step.03.è°ƒç”¨ jdbcTemplate å¯¹è±¡ï¼Œå®ç°å…¶ä¸­çš„æ–¹æ³•å®ç°å¢ã€åˆ ã€æ”¹ã€æŸ¥æ“ä½œã€‚\n \n\t```java\n\t// Jdbc æ¨¡æ¿ä¾èµ–è¿æ¥æ± è·å¾—æ•°æ®åº“è¿æ¥ï¼Œæ‰€ä»¥å¿…é¡»å…ˆæ„é€ è¿æ¥æ± \n\tDriverManagerDataSource dataSource = new DriverManagerDataSource();\n\tdataSource.setDriverClassName(\"com.mysql.jdbc.Driver\");\n\tdataSource.setUrl(\"jdbc:mysql://192.168.x.x/db_testdb\");\n\tdataSource.setUsername(\"root\");\n\tdataSource.setPassword(\"123456\");\n \n\t// åˆ›å»º Jdbc æ¨¡æ¿\n\tJdbcTemplate jdbcTemplate = new JdbcTemplate(dataSource);\n \n\t// å»ºè¡¨ SQL è¯­å¥\n\tString sql_create = \"CREATE TABLE \" + \n\t\t\"t_user(id int primary key auto_increment, username varchar(20), password varchar(20))\";\n\tString sql_insert = \"INSERT INTO t_user VALUES(?, ?, ?)\";\n\tString sql_update = \"UPDATE t_user password = ? WHERE username = ?\";\n\tString sql_delete = \"DELETE FROM t_user WHERE username = ?\";\n\n\t// JdbcTemplate å®ç°å¢ã€åˆ ã€æ”¹æ“ä½œ\n\tjdbcTemplate.execute(sql_create); \n\tjdbcTemplate.update(sql_insert, \"Lucy\", \"123456\"); \n\tjdbcTemplate.update(sql_update, \"Lucy\", \"abc123\");\n\tjdbcTemplate.update(sql_delete, \"Lucy\");\n\n\t/**\n\t * JdbcTemplate å®ç°æŸ¥è¯¢æ“ä½œï¼Œä½¿ç”¨ RowMapper æ¥å£ï¼Œ\n\t * ä½† JdbcTemplate æ²¡æœ‰é’ˆå¯¹è¿™ä¸ªæ¥å£æä¾›å®ç°ç±»ï¼Œå¾—åˆ°ä¸åŒçš„ç±»å‹æ•°æ®éœ€è¦è¿›è¡Œæ•°æ®å°è£…\n\t */\n\n\t// æŸ¥è¯¢è¿”å›æŸä¸€ä¸ªå€¼ \n\tsql_select_certain = \"SELECT count(*) FROM t_user\";\n\t// args0ï¼šSQL è¯­å¥ï¼Œargs1ï¼šè¿”å›ç±»å‹ Class\n\tjdbcTemplate.queryForObject(sql_select_certain, Integer.class);\n\t \n\t// æŸ¥è¯¢è¿”å› list é›†åˆ\n\tsql_select_all = \"SELECT * FROM t_user\";\n\tList<User> list = jdbcTemplate.query( sql_select_all, new MyRowMapper() );\n\t\n\t// æŸ¥è¯¢è¿”å› list é›†åˆï¼Œéœ€è¦åˆ›å»ºç±»å®ç° RowMapper æ¥å£\n\tpublic class MyRowMapper implements RowMapper<User> {\n\t    @Override\n\t    public User mapRow(ResultSet rs, int num) throws SQLExpection {\n\t        User user = new User();\n\t        user.setUsername( rs.getString(\"username\") );\n\t        user.setPassword( rs.getString(\"password\") );\n\t        return user;\n\t    }\n\t}\n \t```\n\n##### Spring é…ç½®è¿æ¥æ± \n- åˆ›å»º Spring é…ç½®æ–‡ä»¶ï¼Œé…ç½®è¿æ¥æ± ï¼š\n\n\t```xml\n\t<!-- ä¸ºä¾¿äºä¿®æ”¹é…ç½®ï¼Œå¯åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ c3p0.propertiesï¼Œå¡«å†™æ ¼å¼å¦‚ä¸‹ï¼š\n\t | datasource.driverClass=com.mysql.jdbc.Driver\n\t | datasource.jdbcUrl=jdbc:mysql://192.168.x.x:3306/db_testdb?useUnicode=true&characterEncoding=UTF-8&serverTimezone=UTC\n\t | datasource.user=root\n\t | ...\n\t-->\n\t<context:property-placeholder location=\"classpath:c3p0.properties\"/>\n\t\n\t<!-- Data Connection Setting -->\n\t<bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\">\n\t    <!-- å¼•ç”¨ c3p0.properties çš„é”®å€¼å¯¹å³å¯ -->\n\t    <property name=\"driverClass\" value=\"${datasource.driverClass}\"/>\n\t    <property name=\"jdbcUrl\" value=\"${datasource.jdbcUrl}\"/>\n\t    <property name=\"user\" value=\"${datasource.user}\"/>\n\t    <property name=\"password\" value=\"${datasource.password}\"/>\n\t    <!-- è®¾ç½®æ•°æ®åº“è¿æ¥æ± çš„æœ€å¤§è¿æ¥æ•° -->\n\t    <property name=\"maxPoolSize\" value=\"${datasource.maxPoolSize}\"/>\n\t    <!-- è®¾ç½®æ•°æ®åº“è¿æ¥æ± çš„æœ€å°è¿æ¥æ•° -->\n\t    <property name=\"minPoolSize\" value=\"${datasource.minPoolSize}\"/>\n\t    <!-- è®¾ç½®æ•°æ®åº“è¿æ¥æ± çš„åˆå§‹åŒ–è¿æ¥æ•° -->\n\t    <property name=\"initialPoolSize\" value=\"${datasource.initialPoolSize}\"/>\n\t    <!-- è®¾ç½®æ•°æ®åº“è¿æ¥æ± çš„è¿æ¥æœ€å¤§ç©ºé—²æ—¶é—´ -->\n\t    <property name=\"maxIdleTime\" value=\"${datasource.maxIdleTime}\"/>\n\t    <!-- c3p0ç¼“å­˜Statementçš„æ•°é‡æ•° -->\n\t    <property name=\"maxStatements\" value=\"${datasource.maxStatements}\"/>\n\t    <!-- å½“è¿æ¥æ± çš„è¿æ¥ç”¨å®Œçš„ï¼Œä» C3p0 ä¸‹è·å–æ–°çš„è¿æ¥æ•° -->\n\t    <property name=\"acquireIncrement\" value=\"${datasource.acquireIncrement}\"/>\n\t    <property name=\"checkoutTimeout\" value=\"${datasource.checkoutTimeout}\"/>\n\t    <property name=\"idleConnectionTestPeriod\" value=\"${datasource.idleConnectionTestPeriod}\"/>\n\t</bean>\n\t\n\t<!-- JdbcTemplate ç±»ä¸­å°è£…äº† DataSource ç±»ï¼Œä»¥ XML é…ç½®å½¢å¼æ³¨è§£å…³ç³»å³å¯ -->\n\t<bean name=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.JdbcTemplate\">\n\t    <property name=\"dataSource\" ref=\"dataSource\" />\n\t</bean>\n\t```\n\t\n- ä»£ç å¼•ç”¨ï¼š\n\n\t```java\n\t@Resource(name = \"jdbcTemplate\")\n\tprivate JdbcTemplate jdbcTemplate;\n\t\n\tString sql = \"SELECT * FROM t_user\";\n\t    List<User> list = jdbcTemplate.query(sql, new MyRowMapper());\n\t}\n\t```\n\n##### Spring äº‹åŠ¡ç®¡ç†\n\n###### ç¼–ç¨‹å¼äº‹åŠ¡ç®¡ç†\næ­¤éƒ¨åˆ†çœç•¥ã€‚\n\n######  å£°æ˜å¼äº‹åŠ¡ç®¡ç†\n- åˆ›å»º Service ç±»å’Œ Dao ç±»ï¼Œå†æ·»åŠ æ³¨å…¥å…³ç³»ï¼š  \n\t1) Service å±‚ï¼Œåˆç§°ä¸šåŠ¡é€»è¾‘å±‚ï¼›  \n\t2) Dao å±‚ï¼Œæ•°æ®æŒä¹…å±‚ï¼Œå•çº¯å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œ.  \n\t\n- å¼•å…¥é—®é¢˜ï¼šServiceTest ç±»ä¸­åˆ¶é€ çš„å¼‚å¸¸ï¼Œå³é€ æˆäº†è½¬è´¦çš„ä¸ä¸€è‡´é—®é¢˜ï¼Œç»†èŠ‚å¦‚ä¸‹ï¼š\n\n\t```java\n\t// ServiceTest.java\n\tpublic class ServiceTest {\n\t\n\t    private DaoTest daotest;\n\t    \n\t    public void setDaotest(DaoTest daotest) {\n\t        this.daotest = daotest;\n\t    }\n\t    \n\t    /* @Transactional æ³¨è§£æ–¹å¼æ—¶å¡«å†™ */\n\t    public void executeUpdateInDB() {\n\t        GrowUp();\n\t        int exception = 10 / 0;\t// äººä¸ºåˆ¶é€ å¼‚å¸¸\n\t        Dealth();\n\t    }\n\t    public void GrowUp() {\n\t        daotest.updateOneTuple(\"UPDATE t_user SET age=age+1 where username = ?\",\n\t        \tnew Object[]{\"è¯¸è‘›äº®\"}, new int[]{Types.VARCHAR});\n\t    }\n\t    public void Dealth(){\n\t        daotest.updateOneTuple(\"UPDATE t_user SET age=0 where username = ?\",\n\t        \tnew Object[]{\"è¯¸è‘›äº®\"}, new int[]{Types.VARCHAR});\n\t    }\n\t\n\t    }\n\t\n\t// DaoTest.java\n\tpublic class DaoTest {\n\t\n\t    private JdbcTemplate jdbcTemplate;\n\t    \n\t    public void setJdbcTemplate(JdbcTemplate jdbcTemplate) {\n\t        this.jdbcTemplate = jdbcTemplate;\n\t    }\n\t    \n\t    /**\n\t     * @param sql æ’å…¥å…ƒç»„çš„ SQL è¯­å¥\n\t     * @param obj æ’å…¥çš„å±æ€§å€¼ï¼Œä¸ SQL ä¸­å¡«å†™å±æ€§åçš„é¡ºåºç›¸åŒ\n\t     * @param types å¯¹åº”å±æ€§å€¼çš„æ•°æ®ç±»å‹\n\t     */\n\t    public void updateOneTuple(String sql, Object[] obj, int[] types) {\n\t        jdbcTemplate.update(sql, obj, types);\n\t    }\n\t}\n\t```\n\n- åŸºäº XML é…ç½®æ–‡ä»¶å½¢å¼å®ç° ( AOP çš„æ€æƒ³ )\n\n\t> ç›®å‰ä¸ºæ­¢ï¼ŒSpring é…ç½®æ–‡ä»¶ä¸­çº¦æŸæ·»åŠ å®Œæ¯•ï¼Œä»¥åé…ç½®å¤åˆ¶æ­¤æ®µå³å¯ã€‚\n\n\t```xml\n\t<!-- ç›®å‰ä¸ºæ­¢ï¼ŒSpring é…ç½®æ–‡ä»¶ä¸­çº¦æŸæ·»åŠ å®Œæ¯•ï¼Œä»¥åçš„ç¨‹åºå¤åˆ¶æ­¤æ®µå³å¯ -->\n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\t    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\t    xmlns:context=\"http://www.springframework.org/schema/context\"\n\t    xmlns:aop=\"http://www.springframework.org/schema/aop\"\n\t    xmlns:tx=\"http://www.springframework.org/schema/tx\"\n\t    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t    http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n\t    http://www.springframework.org/schema/context\n\t    http://www.springframework.org/schema/context/spring-context-2.5.xsd\n\t    http://www.springframework.org/schema/aop\n\t    http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\n\t    http://www.springframework.org/schema/tx\n\t    http://www.springframework.org/schema/tx/spring-tx-2.5.xsd\">\n\t    \n\t    <!-- set æ–¹æ³•æ³¨å…¥å±æ€§ -->\n\t    <bean id=\"service\" class=\"cn.kofes.service.ServiceTest\">\n\t        <property name=\"daotest\" ref=\"dao\" />\n\t    </bean>\n\t    <bean id=\"dao\" class=\"cn.kofes.dao.DaoTest\">\n\t        <!-- å¼•ç”¨ä¸Šä¾‹çš„ jdbcTemplate bean å³å¯ -->\n\t        <property name=\"jdbcTemplate\" ref=\"jdbcTemplate\" />\n\t    </bean>\n   \n\t    <!-- é…ç½®äº‹åŠ¡ç®¡ç†å™¨ -->\n\t    <bean id=\"transactionManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\">\n\t        <!-- æ³¨å…¥ dataSource  -->\n\t        <property name=\"dataSource\" ref=\"dataSource\" />\n\t    </bean>\n\n\t    <!-- é…ç½®äº‹åŠ¡å¢å¼º -->\n\t    <tx:advice id=\"txadvice\" transaction-manager=\"transactionManager\">\n\t        <!-- åšäº‹åŠ¡æ“ä½œ -->\n\t        <tx:attributes>\n\t            <!--\n\t             | äº‹åŠ¡æ“ä½œæ–¹æ³•çš„åŒ¹é…è§„åˆ™ï¼Œè‹¥äº‹åŠ¡æ“ä½œçš„æ–¹æ³•æœ‰è§„èŒƒå‘½åï¼Œå¯ä»¥ç®€å†™ä¸ºï¼š\n\t             | <tx:method name=\"execute*\" />\n\t            -->\n\t            <tx:method name=\"executeTrading()\" />\n\t        </tx:attributes>\n\t    </tx:advice>\n\t    \n\t    <!-- é…ç½® AOP æ“ä½œ -->\n\t    <aop:config>\n\t        <!-- åˆ‡ç‚¹ -->\n\t        <aop:pointcut id=\"poitncutB\" expression=\"execution( * cn.kofes.service.ServiceTest.executeTrading(..) )\" />\n\t        <!-- åˆ‡é¢ -->\n\t        <aop:advisor advice-ref=\"txadvice\" pointcut-ref=\"pointcutB\" />\n\t    </aop:config>\n\t    \n\t</beans>\n\t```\n\n- åŸºäºæ³¨è§£å½¢å¼å®ç°\n\n\tåœ¨éœ€è¦äº‹åŠ¡æ“ä½œçš„ç±»ä¸Šé…ç½®æ³¨è§£ `@Transactional`ï¼Œå†é…ç½® applicationContext.xmlï¼š\n\t\n\t```xml\n\t<!-- åœ¨ applicationContext.xml ä¸­é…ç½®äº‹åŠ¡ç®¡ç†å™¨ -->\n\t<!-- é…ç½®äº‹åŠ¡ç®¡ç†å™¨ -->\n\t<bean id=\"transactionManager\" class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\">\n\t    <!-- æ³¨å…¥ dataSource  -->\n\t    <property name=\"dataSource\" ref=\"dataSource\" />\n\t</bean>\n\t\n\t<!-- å¼€å¯æ³¨è§£äº‹åŠ¡ -->\n\t<tx:annotation-driven transaction-manager=\"transactionManager\" />\n\t```\n\n---\n\n#### Hibernate\n`æ•°æ®æŒä¹…å±‚`ï¼ŒHibernate æ˜¯ä¸€ä¸ªå¼€æ”¾æºç çš„ `ORM` æŒä¹…å±‚æ¡†æ¶ã€‚ç®€å•çš„è¯´ï¼ŒHibernate åªæ˜¯ä¸€ä¸ªå°†æŒä¹…åŒ–ç±»ä¸æ•°æ®åº“è¡¨ç›¸æ˜ å°„çš„å·¥å…·ï¼Œ`æ¯ä¸ªæŒä¹…åŒ–ç±»å®ä¾‹å‡å¯¹åº”äºæ•°æ®åº“è¡¨ä¸­çš„ä¸€ä¸ªæ•°æ®è¡Œè€Œå·²`ã€‚ç”¨æˆ·åªéœ€ç›´æ¥ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ–¹æ³•æ“ä½œæ­¤æŒä¹…åŒ–ç±»å®ä¾‹ï¼Œå³å¯å®Œæˆå¯¹æ•°æ®åº“è¡¨æ•°æ®çš„æ’å…¥ã€åˆ é™¤ã€ä¿®æ”¹ã€è¯»å–ç­‰æ“ä½œã€‚\n\n##### Hibernate é…ç½®\n- ä½¿ç”¨é…ç½®æ–‡ä»¶å°†æ˜ å°„å…³ç³»å¯¹åº”èµ·æ¥ï¼›\n\n\t```xml\n\t<!-- é…ç½®æ–‡ä»¶å‘½åè§„èŒƒï¼š*.hbm.xml -->\n\n\t<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n\t<!DOCTYPE hibernate-mapping PUBLIC \n\t    \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\n\t    \"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd\">\n\t<hibernate-mapping>\n\t    <!--\n\t     | é…ç½®ç±»å’Œè¡¨ç›¸å¯¹åº”ï¼šClass æ ‡ç­¾\n\t     | name å±æ€§ï¼šå®ä½“ç±»å…¨è·¯å¾„\n\t     | table å±æ€§ï¼šæ•°æ®åº“è¡¨åç§°\n\t    -->\n\t    <class name=\"cn.entity.User\" table=\"t_user\">          \n\t        <!--\n\t         | é…ç½®å®ä½“ç±» ID ä¸è¡¨ ID å¯¹åº”ï¼šID æ ‡ç­¾\n\t         | Hibernate è¦æ±‚å®ä½“ç±»æœ‰ä¸€ä¸ªå±æ€§å”¯ä¸€å€¼ï¼Œä¸”è¦æ±‚è¡¨æœ‰å­—æ®µä½œä¸ºå”¯ä¸€å€¼\n\t         | name å±æ€§ï¼šå®ä½“ç±»çš„ id å±æ€§åç§°\n\t         | column å±æ€§ï¼šç”Ÿäº§çš„è¡¨å­—æ®µåç§°\n\t        -->\n\t        <id name=\"uid\" column=\"uid\">\n\t            <!-- è®¾ç½®æ•°æ®åº“è¡¨ id å¢é•¿ç­–ç•¥ï¼šClass æ ‡ç­¾\n\t             | å±æ€§æœ‰ï¼šincrementã€hiloã€squenceã€identityã€nativeã€uuidã€guid ç­‰ã€‚\n\t            -->\n\t            <generator class=\"native\" />\n\t        </id>\n                    \n\t        <!-- é…ç½®å…¶ä»–å±æ€§å’Œè¡¨å­—æ®µå¯¹åº”ï¼šProperty æ ‡ç­¾ -->\n\t        <!-- è‹¥ä½¿ç”¨çš„æ˜¯ SQL Server æ•°æ®åº“ç³»ç»Ÿï¼ŒProperty æ˜ å°„å¯¹çš„é¡ºåºè¦å’Œæ•°æ®åº“ä¸­åˆ— (å±æ€§) çš„é¡ºåºç›¸å¯¹åº” -->\n\t        <property name=\"username\" column=\"username\" type=\"string\" />\n\t        <property name=\"age\" column=\"age\" type=\"int\" />       \n\t    </class>\n\t</hibernate-mapping> \n\t```\n\t\n> å…³äºæ˜ å°„é…ç½®çš„ä¸€äº›æ‰¹æ³¨ï¼š\n    \n- Note.01ï¼šå°±æ˜ å°„é…ç½®æ¥è¯´ï¼Œè¿™é‡Œåƒä¸‡è¦è®°ä½ï¼Œè‹¥è®¿é—®çš„æ˜¯ SQL Server æ•°æ®åº“ç³»ç»Ÿï¼Œåˆ™ **<property> æ˜ å°„å¯¹çš„é¡ºåºè¦å’Œæ•°æ®åº“ä¸­åˆ— (å±æ€§) çš„é¡ºåºç›¸å¯¹åº”**ã€‚( å…¶ä»–æ•°æ®åº“ç³»ç»Ÿæ²¡æœ‰å‡ºç°æ­¤ç±»é—®é¢˜ï¼Œé‰´äºé˜…è¯»ä¸ç¼–ç¨‹çš„è§„èŒƒï¼Œåˆ™ä¸ç®¡ä½¿ç”¨å“ªç§æ•°æ®åº“ç³»ç»Ÿé©±åŠ¨ï¼Œéƒ½ä»¥æ­¤ç§æ–¹å¼ç¼–è¾‘ Property æ˜ å°„å¯¹ )\n- Note.02ï¼šå…³äºé…ç½®ä¸­å®ä½“ç±»çš„ä¸»é”®ç”Ÿæˆç­–ç•¥æœ‰å¤šç§å½¢å¼ï¼Œè¯¦ç»†è§å‚è€ƒ [4]ã€‚\n- Note.03ï¼šUser å®ä½“ç±»å¯¹è±¡çš„çŠ¶æ€ï¼š\n\t- `ç¬æ—¶æ€`ï¼šå¯¹è±¡æ²¡æœ‰ ID å€¼ï¼Œä¸”å…¶ä¸ Session æ²¡æœ‰å…³è”ã€‚\n\t- `æŒä¹…æ€`ï¼šå¯¹è±¡æœ‰ ID å€¼ï¼Œä¸”å…¶ä¸ Session æœ‰å…³è”ã€‚\n\t- `æ‰˜ç®¡æ€`ï¼šå¯¹è±¡æœ‰ ID å€¼ï¼Œä½†å…¶ä¸ Session æ²¡æœ‰å…³è”ã€‚\n\n\t```Java\n\t/**\n\t * ä¸‹è¿°ä»£ç åªåˆ—ä¸¾äº†ç»†èŠ‚ä¸åŒçš„éƒ¨åˆ†ï¼Œå…¶ä»–ç»†èŠ‚è§æºä»£ç \n\t */\n\tUser user = new User();\n            \n\t// ç¬æ—¶æ€ï¼šå³æ’å…¥å…ƒç»„\n\tuser.setUserName(\"Sample\");\n\tuser.setAge(25);\n\tsession.saveOrUpdate(user);\n\n\t// æ‰˜ç®¡æ€ï¼šå¯¹æ•°æ®è¡¨ä¸­å…·ä½“ ID çš„å…ƒç»„è¿›è¡Œæ•°æ®ä¿®æ”¹ï¼Œå³æ›´æ–°å…ƒç¥–\n\tuser.setUid(attr_id);\n\tuser.setUserName(\"Sample\");\n\tuser.setAge(25);\n\tsession.saveOrUpdate(user);\n\t// session.save(user); // æ³¨æ„ï¼šæ­¤æ“ä½œä¸ºæ–°å¢å…ƒç»„ï¼Œä½†ä¸æ˜¯å…¨éƒ¨å±æ€§éƒ½ä¿®æ”¹ï¼Œä¼šå¼•å…¥ç©ºå€¼\n            \n\t// æŒä¹…æ€ï¼šå¯¹æ•°æ®è¡¨ä¸­å…·ä½“ ID çš„å…ƒç»„è¿›è¡Œæ•°æ®ä¿®æ”¹ï¼Œå³æ›´æ–°å…ƒç¥–\n\tuser = session.get(User.class, attr_id);\n\tuser.setUserName(\"Sample\");\n\tuser.setAge(25);\n\tsession.saveOrUpdate(user);\n            \n\t// å¯ç¤ºï¼šä»æŒä¹…æ€å’Œæ‰˜ç®¡æ€æ€çš„å®éªŒç»“æœå¯çŸ¥ï¼Œä¿®æ”¹å…ƒç»„ï¼Œå…ˆæŸ¥å†æ”¹ï¼Œé˜²æ­¢ç©ºå€¼ã€‚\n\t```\n\n- åˆ›å»º Hibernate çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼›\n        \n\tæ ¸å¿ƒé…ç½®æ–‡ä»¶æ ¼å¼æ˜¯ XMLï¼Œä¸”æ ¸å¿ƒé…ç½®æ–‡ä»¶åç§°å’Œä½ç½®æ˜¯ `å›ºå®šçš„` ( Src æ ¹ç›®å½•ä¸‹ï¼Œä¸”åç§°ä¸º `hibernate.cfg.xml` )ã€‚Hibernate æ“ä½œè¿‡ç¨‹ä¸­ï¼Œä»…åŠ è½½æ ¸å¿ƒé…ç½®æ–‡ä»¶ã€‚\n\n\t```xml\n\t<!-- é…ç½®æ–‡ä»¶å‘½åè§„èŒƒï¼šhibernate.cfg.xml -->\n                \n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<!DOCTYPE hibernate-configuration PUBLIC\n\t    \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n\t    \"http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd\">\n    \n\t<hibernate-configuration>\n\t    <session-factory>\n\t        <!-- (å¿…å¡«) é…ç½®æ•°æ®åº“ä¿¡æ¯ï¼šä» hibernate.property ä¸­è·å– -->\n\t        <property name=\"hibernate.connection.driver_class\" value=\"com.mysql.jdbc.Driver\" />\n            \n\t        <!-- SQL Server æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ Driver \n\t        <property name=\"hibernate.connection.driver_class\">com.microsoft.sqlserver.jdbc.SQLServerDriver</property>\n\t        <property name=\"hibernate.connection.url\">\n\t            jdbc:sqlserver://192.168.0.133:1433;DatabaseName=testDB\n\t        </property>\n\t        -->\n            \n\t        <!-- MySQL æ•°æ®åº“ç®¡ç†ç³»ç»Ÿçš„ Driver -->\n\t        <property name=\"hibernate.connection.driver_class\">com.mysql.jdbc.Driver</property>\n\t        <property name=\"hibernate.connection.url\">\n\t            jdbc:mysql://192.168.0.163:3306/testDB?serverTimezone=UTC\n\t        </property>\n            \n\t        <property name=\"hibernate.connection.username\">sa</property>\n\t        <property name=\"hibernate.connection.password\">pztech753</property>\n                    \n\t        <!-- (å¯é€‰) é…ç½® Hibernate ä¿¡æ¯ï¼šä» hibernate.property ä¸­è·å– -->\n\t        <!-- æ“ä½œæ•°æ®åº“æ—¶ï¼Œå‘æ§åˆ¶å°è¾“å‡º SQL è¯­å¥ -->\n\t        <property name=\"hibernate.show_sql\">true</property> \n\t        <!-- æ“ä½œæ•°æ®åº“æ—¶ï¼Œå‘æ§åˆ¶å°è¾“å‡ºæ ¼å¼åŒ–çš„ SQL è¯­å¥ -->\n\t        <property name=\"hibernate.format_sql\">true</property>\n\t        <!-- Hibernate é…ç½®è‡ªåŠ¨å»ºè¡¨ï¼šUpdateï¼Œæœ‰è¡¨æ›´æ–°æ²¡è¡¨å»ºç«‹ -->\n\t        <property name =\"hibernate.hbm2ddl.auto\">update</property>\n\t        <!-- \n\t         | ä¾‹å¦‚ï¼Œå®ç°åˆ†é¡µåŠŸèƒ½ï¼š\n\t         | MySQL é‡Œé¢ä½¿ç”¨ LIMIT å…³é”®å­—ï¼ŒOracle ä¸­ä½¿ç”¨ ROWNUM å…³é”®å­—\n\t         | è®© Hibernate è¯†åˆ«ä¸åŒæ•°æ®åº“ä¸­ç‰¹æœ‰çš„è¯­å¥\n\t        -->\n\t        <property name=\"hibernate.dialect\">org.hibernate.dialect.MySQLDialect</property>\n                    \n\t        <!-- (å¿…å¡«) æŠŠæ˜ å°„æ–‡ä»¶æ”¾åˆ°æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ ( å¡« Src ä¹‹åçš„è·¯å¾„ ) -->\n\t        <mapping resource=\"cn/entity/User.hbm.xml\" />\n\t    </session-factory>\n\t</hibernate-configuration>\n\t```\n\n> å…³äºæ ¸å¿ƒé…ç½®çš„ä¸€äº›æ‰¹æ³¨ï¼š\n\n> é¢å¯¹ä¸åŒçš„æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå¯¹åº”çš„é…ç½®å±æ€§ä¹Ÿå­˜åœ¨å·®å¼‚ï¼Œè¯¦ç»†è§å‚è€ƒ [5]ã€‚\n            \n- é€šè¿‡ Session ä¿å­˜å®ä½“ç±»æ•°æ®åˆ°æ•°æ®åº“è¡¨ä¸­ï¼›\n\n    ç®€å•æ¼”ç¤ºï¼Œè¯¦ç»†è§ä¸‹ä¸€ç« èŠ‚ï¼š[Hibernate ä½¿ç”¨](#Hibernate-ä½¿ç”¨)\n        \n    ```java\n    User user = new User();\n    user.setUsername(\"Lucy\");\n    user.setAge(25);\n    Session.save(user);\n    ```\n     \n##### Hibernate ä½¿ç”¨\n- ä»¥ä¸‹ä»£ç ä¸º Hibernate æœ€åŸºæœ¬çš„ä½¿ç”¨æ–¹æ³•ï¼Œåç»­å°†é€šè¿‡ä¼˜åŒ– Configurationï¼Œä»¥åŠè§„èŒƒäº‹åŠ¡æ¥ä¼˜åŒ– Hibernateã€‚\n\n\t```java\n\t// Step.01ï¼šåŠ è½½ Hibernate æ ¸å¿ƒé…ç½®æ–‡ä»¶ hibernate.cfg.xml\n\tConfiguration cfg = new Configuration();\n\tcfg.configure();\n    \n\t// Step.02ï¼šåˆ›å»º SessionFactory å¯¹è±¡ï¼›\n\t// åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®æ˜ å°„å…³ç³»åœ¨æ•°æ®åº“ä¸­æŠŠè¡¨åˆ›å»ºèµ·æ¥\n\tSessionFactory sessionFactory = cfg.buildSessionFactory();\n\n\t// Step.03ï¼šä½¿ç”¨ SessionFactory åˆ›å»º Session å¯¹è±¡ï¼›\n\tSession session = sessionFactory.openSession();\n\n\t// Step.04ï¼šæ‰‹åŠ¨å¼€å§‹äº‹åŠ¡ï¼›\n\tTransaction trans = session.beginTransaction();\n\n\t// Step.05ï¼šå†™å…·ä½“é€»è¾‘ï¼Œä¾‹å¦‚ï¼šå¢åˆ æ”¹æŸ¥ï¼›\n\t// ä¾‹å¦‚æ·»åŠ æ“ä½œ ( ä¸æ“ä½œæ•°æ®è¡¨ï¼Œè€Œæ“ä½œå®ä½“ç±» )\n\tUser user = new User();\n\tuser.setUsername(\"Lucy\");\n\tuser.setAge(25);\n\tsession.save(user);\n\n\t// Step.06ï¼šæäº¤äº‹åŠ¡ï¼›\n\ttrans.commit();\n\n\t// Step.07ï¼šå…³é—­èµ„æºï¼›\n\tsession.close();\n\tsessionFactory.close();\n\t```\n\n- Configuration\n    - åˆ° Src ç›®å½•ä¸‹åŠ è½½æ ¸å¿ƒé…ç½®æ–‡ä»¶ `hibernate.cfg.xml`ï¼›\n- SessionFactory\n    - æ ¹æ®æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ•°æ®åº“é…ç½®ã€æ˜ å°„é…ç½®ï¼Œä¸”æ ¹æ®æ˜ å°„å…³ç³»ï¼Œåˆ°æ•°æ®åº“ä¸­æŠŠè¡¨åˆ›å»ºèµ·æ¥ã€‚\n    - åˆ›å»º SessionFactory è¿‡ç¨‹ä¸­ï¼Œç‰¹åˆ«æ¶ˆè€—èµ„æºï¼Œæ•…åº”è¯¥é‡‡å–ä¼˜åŒ–æªæ–½ï¼š\n    \n    åœ¨ Hibernate æ“ä½œä¸­ï¼Œå»ºè®®ä¸€ä¸ªé¡¹ç›®åˆ›å»ºä¸€ä¸ª SessionFacotry å¯¹è±¡ï¼Œä»¥é™æ€çš„å·¥å…·ç±»å½¢å¼å°è£…ä½¿ç”¨ã€‚  \n        \n\t```java\n\tpublic class HibernateUtils {\n\t\tprivate static Configuration cfg = null;\n\t\tprivate static SessionFactory sessionFactory = null;            \n\t\tstatic {\n\t\t    cfg = new Configuration();\n\t\t    cfg.configure();\n\t\t    sessionFactory = cfg.buildSessionFactory();\n\t\t}\n         \n\t\tpublic static SessionFactory getSessionFactory() {\n\t\t    return sessionFactory;\n\t\t}\n\t}\n\t```\n\n- Session\n    - ç±»ä¼¼ Jdbc ä¸­çš„ Connectionï¼Œå¯è°ƒç”¨ Session ä¸­çš„ä¸åŒæ–¹æ³•å®ç° `å¢ã€åˆ ã€æ”¹ã€æŸ¥` æ“ä½œã€‚ \n        - å¢åŠ ï¼šsave()ï¼›\n        - ä¿®æ”¹ï¼šupdate()ï¼›\n        - åˆ é™¤ï¼šdelete()ï¼›\n        - æŸ¥è¯¢ï¼šget()ï¼›\n    - Session ä¸ºå•çº¿ç¨‹å¯¹è±¡ï¼Œå³ä¸èƒ½å…±ç”¨ï¼Œä»…è‡ªå·±ä½¿ç”¨ã€‚\n\t\t- Hibernate å·²å®ç°æœ¬åœ°çº¿ç¨‹ä¸ Session çš„ç»‘å®šï¼šåœ¨ Hibernate çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼Œå†è°ƒç”¨ sessionFactory çš„æ–¹æ³•å¾—åˆ°ã€‚\n        \n\t\t```XML\n\t\t<property name=\"hibernate.current_session_context_class\">thread</property>\n\t\t```\n\n\t\t- åœ¨ HibernateUtils é™æ€å·¥å…·ç±»ä¸­è¿½åŠ é™æ€æ–¹æ³•ï¼š\n \n\t\t```java\n\t\tpublic class HibernateUtils {\n\t\t    // è¿”å›ä¸æœ¬åœ°çº¿ç¨‹ç»‘å®šçš„ Session\n\t\t    public static Session getSessionObject() {\n\t\t    return sessionFactory.getCurrentSession();\n\t\t    }\n\t\t}\n        \n\t\t/* åœ¨å…¶ä»–ç±»ä¸­è°ƒç”¨è¯¥æ–¹æ³• */\n\t\tSession session = HibernateUtils.getSessionObject();\n\t\t```\n\n- Transaction\n    - äº‹åŠ¡æ¦‚å¿µï¼›\n    - äº‹åŠ¡ç‰¹æ€§ï¼šåŸå­æ€§ã€ä¸€è‡´æ€§ã€éš”ç¦»æ€§ã€æŒä¹…æ€§ï¼›\n\n        > éš”ç¦»æ€§ï¼šä¸è€ƒè™‘éš”ç¦»æ€§ä¼šäº§ç”Ÿçš„é—®é¢˜ï¼Œå¦‚è„è¯»ã€ä¸å¯é‡å¤è¯»å’Œè™šè¯»ã€‚å½“ç„¶ï¼Œå¯ä»¥è®¾ç½®éš”ç¦»çš„çº§åˆ«æ¥è§£å†³é—®é¢˜ã€‚\n         \n    - Hibernate ä½¿ç”¨ Transaction åˆ›å»ºäº‹åŠ¡å¯¹è±¡ï¼›\n    - äº‹åŠ¡çš„ commit() ä¸ rollback() æ–¹æ³• ( `è§„èŒƒç”¨æ³•` )ï¼›\n\n\t```java\n\tSessionFactory sessionFactory = null;\n\tSession session = null;\n\tTransaction trans = nu\n\ttry {\n\t    sessionFactory = HibernateUtils.getSessionFactory()\n\t    session = sessionFactory.openSession();\n\t    // å¼€å¯äº‹åŠ¡\n\t    trans = session.beginTransaction();\n            \n\t    // äººä¸ºåˆ¶é€ å¼‚å¸¸ï¼Œè¢«é™¤æ•°ä¸èƒ½ä¸ºé›¶\n\t    User user = ne0w User();\n\t    user.setAge(50/0);\n\t    session.save(user);\n            \n\t    // æäº¤äº‹åŠ¡\n\t    trans.commit();\n\t} catch(Exception ex) {\n\t    // å‘ç”Ÿå¼‚å¸¸\n\t    trans.rollback();\n\t} finally {\n\t    session.close();\n\t    sessionFactory.close();\n\t}\n\t```\n    \n##### Hibernate ä¼˜åŒ–\n\n###### Hibernate ç¼“å­˜æœºåˆ¶\n- ä¸€çº§ç¼“å­˜ï¼šé»˜è®¤æ˜¯æ‰“å¼€çš„ï¼Œå…¶ä½¿ç”¨çš„èŒƒå›´ä¸º Session åˆ›å»ºåˆ°å…³é—­çš„èŒƒå›´ï¼Œä¸”å­˜å‚¨æ•°æ®å¿…é¡»ä¸ºæŒä¹…æ€æ•°æ®ã€‚\n- ä¸€çº§ç¼“å­˜çš„ç‰¹æ€§ï¼šæŒä¹…æ€çš„æ•°æ®ä¼šè‡ªåŠ¨æ›´æ–°æ•°æ®åº“ ( ä¸ç”¨ session.update(user)ã€session.save(user) )ï¼Œè¿‡ç¨‹ç»†èŠ‚å¦‚ä¸‹ï¼š\n\n\t```java\n\t// Get() æ“ä½œåï¼Œå°†è¿”å›æŒä¹…æ€å¯¹è±¡ user å­˜äºä¸€çº§ç¼“å­˜ä¸­ï¼Œ\n\t// åŠå­˜ä¸€ä»½åˆ°ç¼“å­˜ä¸­çš„å¿«ç…§åŒº (å‰¯æœ¬)ã€‚\n\tuser = session.get(User.class, attr_id);\n\t// setXXX() æ“ä½œï¼ŒåŒæ—¶ä¿®æ”¹æŒä¹…æ€å¯¹è±¡çš„å€¼å’Œä¸€çº§ç¼“å­˜ä¸­çš„å†…å®¹ã€‚\n\tuser.setUserName(\"Sample\");\n\t// å½“æäº¤äº‹åŠ¡æ—¶ï¼Œä¼šæ¯”è¾ƒä¸€çº§ç¼“å­˜å’Œå¿«ç…§åŒºï¼Œ\n\t// è‹¥ä¸ç›¸åŒï¼Œä¼šè§¦å‘æ›´æ–°æ•°æ®åº“æ“ä½œã€‚\n\ttrans.commit();\n\t```\n        \n- äºŒçº§ç¼“å­˜ (æ›¿ä»£æŠ€æœ¯ï¼š`redis` )ï¼šé»˜è®¤å…³é—­ï¼ŒSessionFactroy çš„ä½¿ç”¨èŒƒå›´ã€‚\n\n##### Hibernate æŸ¥è¯¢\n\n> åœ¨ `Hibernate æŸ¥è¯¢æ–¹å¼` å°èŠ‚å°†è¯¦ç»†é˜è¿°ã€‚\n\n###### Query å¯¹è±¡\n\n> æ¨èä½¿ç”¨\n\n- ä½¿ç”¨ Query å¯¹è±¡ï¼Œä¸éœ€è¦å†™ SQL è¯­å¥ï¼Œä»¥ HQL æ›¿ä»£ã€‚\n    \n    > HQLï¼šHibernate Query Languageï¼Œæœ‰åˆ«äº SQL è¯­å¥ï¼Œå³ï¼šSQL æ“ä½œè¡¨å’Œè¡¨å­—æ®µï¼Œè€Œ HQL æ“ä½œå®ä½“ç±»å’Œå±æ€§ã€‚\n    \n-  Query å¯¹è±¡çš„ä½¿ç”¨ï¼š\n    \n    ```java\n    // åˆ›å»º Query å¯¹è±¡\n    Query query = session.createQuery(\"from User\");\n    // è°ƒç”¨ query å¯¹è±¡çš„æ–¹æ³•å¾—åˆ°ç»“æœ\n    List<User> list = query.list();\n    ```\n        \n###### Criteria å¯¹è±¡\n- Ceiteria å¯¹è±¡çš„ä½¿ç”¨ï¼š \n\n    ```java\n    // åˆ›å»º Criteria å¯¹è±¡ã€€\n    Criteria criteria = session.createCriteria(User.class);\n    // è°ƒç”¨ criteria å¯¹è±¡çš„æ–¹æ³•å¾—åˆ°ç»“æœ\n    List<User> list = criteria.list();\n    ```\n\n###### ~~SQLQuery å¯¹è±¡~~\n- SQLQuery å¯¹è±¡çš„ä½¿ç”¨ï¼š\n\n\t```java\n\t// åˆ›å»º SQLQuery å¯¹è±¡\n\tString sql = \"SELECT * FROM t_user t WHERE t.username= ? AND t.age = ?\";\n\tSQLQuery sqlQuery = session.createSQLQuery(sql)\n\t    .setParameter(0, \"ABC\").setParameter(1, 15);\n    \n\t// Case.01. ä»¥æ•°ç»„å½¢å¼æ¥æ”¶ç»“æœ\n\t// List<Object []> list = sqlQuery.list();\n    \n\t// Case.02. è¿”å›ç›®æ ‡çš„ User å¯¹è±¡ \n\tsqlQuery.addEntity(User.class);\n\tList<User> list = sqlQuery.list();\n\t```\n\t\n##### Hibernate å¤šè¡¨æ“ä½œ\n- æ•°æ®åº“çš„å¤šè¡¨æŸ¥è¯¢\n\t- å¤–é”®\n\t\t- æŒ‡å®šå¤–é”®å…³é”®å­—ï¼š Foreign Key(åˆ—å)\n\t\t- å¼•ç”¨å¤–é”®å…³é”®å­—ï¼š References <ä¸»è¡¨å>(ä¸»è¡¨ä¸»é”®)\n\t- å…³ç³»\n\t\t- ä¸€å¯¹ä¸€\n\t\t- ä¸€å¯¹å¤š\n\t\t- å¤šå¯¹å¤š\n\n###### ä¸€å¯¹å¤šæ“ä½œ\n- ä¸€å¯¹å¤šæ˜ å°„é…ç½®ï¼š`å®ä½“ç±»é…ç½®`\n\t- åˆ›å»ºä¸¤ä¸ªå®ä½“ç±»ï¼Œä¾‹å¦‚ï¼šå…¬å¸å’Œå®¢æˆ· ( å…¬å¸æ˜¯ä¸€ï¼Œå®¢æˆ·æ˜¯å¤š )ï¼›\n\t- è®©ä¸¤ä¸ªå®ä½“ç±»é—´äº’ç›¸è¡¨ç¤ºï¼›  \n    \n\t```java\n\t// å®¢æˆ·å®ä½“ç±»\n\tpublic class Customer { \n\t    // çœç•¥å…¶ä»–å±æ€§\n\t    // ...\n\t    \n\t    // åœ¨å®¢æˆ·å®ä½“ç±»ä¸­è¡¨ç¤ºæ‰€å±å…¬å¸ï¼Œä¸€ä¸ªå®¢æˆ·åªå±äºä¸€ä¸ªå…¬å¸\n\t    private Firm firm;\n\t   \n\t    public void setFirm(Firm firm) { this.frim = firm; }\n\t    public Firm getFirm() { return firm; }\n\t}\n    \n\t// å…¬å¸å®ä½“ç±»\n\tpublic class Firm {\n\t    // çœç•¥å…¶ä»–å±æ€§\n\t    // ...\n\t    \n\t    // Set é›†åˆï¼šæ— åºï¼Œå…ƒç´ ä¸å¯é‡å¤\n\t    private Set<Customer> customerSet = new HashSet<Customer>();    \n\t    public Set<Customer> getCustomerSet() { return customerSet; }\n\t    public void setCustomerSet(Set<Customer> customerSet) { this.customerSet = customerSet; }\n\t}\n\t```\n\t\t\t\t\n- ä¸€å¯¹å¤šæ˜ å°„é…ç½®ï¼š`XML é…ç½®æ–‡ä»¶`ï¼Œä¸€ä¸ªå®ä½“ç±»å¯¹åº”ä¸€ä¸ªæ˜ å°„æ–‡ä»¶ï¼Œé™¤äº†æ˜ å°„æ–‡ä»¶çš„åŸºæœ¬é…ç½®ä¹‹å¤–ï¼Œä¸”è¦åœ¨æ˜ å°„æ–‡ä»¶ä¸­é…ç½®ä¸€å¯¹å¤šçš„å…³ç³»ã€‚\n\n\t```xml\n\t<!-- firm.bhm.xml -->\n\t<class name=\"cn.kofes.entity.Firm\" table=\"t_firm\">\n\t    <!-- \n\t     | è¡¨ç¤ºå…¬å¸çš„æ‰€æœ‰å®¢æˆ·\n\t     | Name å±æ€§ï¼šå±æ€§å€¼å†™å…¬å¸å®ä½“ç±»é‡Œè¡¨ç¤ºå®¢æˆ· Set é›†åˆçš„å¯¹è±¡åç§°\n\t    -->\n\t    <set name=\"customerSet\">\n\t        <!--\n\t         | ä¸€å¯¹å¤šå…³ç³»å»ºè¡¨ï¼Œæœ‰å¤–é”®\n\t         | Hibernate æœºåˆ¶ï¼ŒåŒå‘ç»´æŠ¤å¤–é”®ï¼Œå³åœ¨ä¸€å’Œå¤šæ–¹éƒ½é…ç½®å¤–é”®\n\t         | Column å±æ€§ï¼šå±æ€§å€¼ä¸ºå¤–é”®çš„åç§°ï¼Œåç§°å¯è‡ªå®šä¹‰\n\t        -->\n\t        <key column=\"f_fid\" />\n\t        <!-- å…¬å¸çš„æ‰€æœ‰å®¢æˆ·ï¼Œå³ Class é‡Œå†™å®¢æˆ·å®ä½“ç±»å…¨è·¯å¾„ -->\n\t        <one-to-many class=\"cn.entity.Customer\" />\n\t    </set>\n\t</class>\n\n\t<!-- customer.bhm.xml -->\n\t<class name=\"cn.kofes.entity.Customer\" table=\"t_customer\">\n\t    <!--\n\t     | è¡¨ç¤ºå®¢æˆ·æ‰€å±å…¬å¸\n\t     | Name å±æ€§ï¼šå®¢æˆ·å®ä½“ç±»ä¸­ä½¿ç”¨ firm å¯¹è±¡è¡¨ç¤º\n\t     | Class å±æ€§ï¼šFirm å®ä½“ç±»çš„å…¨è·¯å¾„\n\t     | Column å±æ€§ï¼šå¤–é”®åç§°ï¼Œåç§°å¯è‡ªå®šä¹‰\n\t    -->\n\t    <many-to-one name=\"firm\" class=\"cn.entity.Firm\" column=\"c_fid\" />\n\t</class>\n\t```\n\t\n- æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼ŒåŠ å…¥ customer.bhm.xml å’Œ firm.bhm.xmlã€‚\n\n\t```xml\n\t<!-- (å¿…å¡«) æŠŠæ˜ å°„æ–‡ä»¶æ”¾åˆ°æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ ( å¡« Src ä¹‹åçš„è·¯å¾„ ) -->\n\t<mapping resource=\"cn/entity/firm.hbm.xml\" />\n\t<mapping resource=\"cn/entity/customer.hbm.xml\" />\n\t```\n\t\n- ä¸€å¯¹å¤šçº§è”çš„æ“ä½œå®ç°\n\n\t> åœ¨åŸç”Ÿæ•°æ®åº“ä¸­ï¼Œå¯¹åŒ…å«å¤–é”®çš„å…ƒç»„ç›´æ¥åˆ é™¤ï¼Œæ˜¯æ— æ³•æˆåŠŸæ‰§è¡Œçš„ã€‚æ­£ç¡®æ“ä½œæ–¹å¼ä¸ºï¼šå…ˆåˆ é™¤å¤–é”®çº¦æŸï¼Œå†åˆ é™¤å¯¹åº”å…ƒç»„ã€‚ä½†åœ¨ Hibernate ä¸­ï¼Œä¸ç”¨è€ƒè™‘æ­¤ç±»é—®é¢˜ï¼Œå› ä¸ºå†…ç½®å°è£…äº†ç›¸å…³åŠŸèƒ½ç»„ä»¶ã€‚\n    \n\t- ä¸€å¯¹å¤šçº§è”çš„ä¿å­˜\n    \n\t```java\n\t// Step.01.å»ºç«‹å…¬å¸å¯¹è±¡å’Œå®¢æˆ·å¯¹è±¡çš„å…³ç³»\n\tFirm firm = new Firm();\n\tCustomer customer = new Customer();\n\t// Step.02.æŠŠå®¢æˆ·å¯¹è±¡æ”¾åˆ°å…¬å¸å¯¹è±¡çš„ Set é›†åˆé‡Œ\n\tfirm.getCustomerSet().add(customer);\n\t// Step.03.æŠŠå…¬å¸å¯¹è±¡æ”¾åˆ°å®¢æˆ·å¯¹è±¡é‡Œ\n\tcustomer.setFirm(firm);\n\t\t\n\t/**\n\t * çº§è”ä¿å­˜ï¼šå³ä¸€æ–¹å’Œå¤šæ–¹éƒ½éœ€é…ç½®æ•°æ®\n\t */\n    \n\tsession.save(customer);\n\tsession.save(firm);\n\t```\n\n\t- ä¸€å¯¹å¤šçº§è”çš„åˆ é™¤ï¼šåœ¨ä¸€æ–¹ ( ä¸å¤šæ–¹å¯¹ç«‹ ) å³å…¬å¸å¯¹è±¡ï¼Œä¿®æ”¹å…¶é…ç½®æ–‡ä»¶ã€‚\n\n\tæœ€åï¼Œç›´æ¥åœ¨ä»£ç ä¸­è¿›è¡Œåˆ é™¤æ“ä½œå³å¯ã€‚\n\n\t```xml\n\t<!-- firm.bhm.xml -->\n\t<class name=\"cn.kofes.entity.Firm\" table=\"t_firm\">\n\t    <!-- å¯¹ Set æ ‡ç­¾çš„ casade å€¼ä¸º delete -->\n\t    <set name=\"customerSet\" cascade=\"delete\">\n\t        ...\n\t   </set>\n\t</class>\n\t```\n\t\n    \n- ä¼˜åŒ–æ­¥éª¤ä¹‹ `Inverse å±æ€§`\n\n\t> å› ä¸º Hibernate æ˜¯åŒå‘ç»´æŠ¤å¤–é”®ï¼Œåœ¨å…¬å¸å’Œå®¢æˆ·é‡Œé¢éƒ½éœ€ç»´æŠ¤å¤–é”® ( ä»çº§è”åˆ é™¤çš„æ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä½“éªŒå‡ºæ¥ )ã€‚æ•…æˆ‘ä»¬å¯ä»¥è®¾ç½®å…¶ä¸­çš„ä¸€æ–¹ `æ”¾å¼ƒ` ç»´æŠ¤å¤–é”®ï¼Œä»¥ä¼˜åŒ–æ€§èƒ½ã€‚\n\n\t```xml\n\t<!-- firm.bhm.xml -->\n\t<class name=\"cn.kofes.entity.Firm\" table=\"t_firm\">\n\t\t<!--\n\t\t | Inverse å±æ€§\n\t\t | Flaseï¼Œè¡¨ç¤ºä¸æ”¾å¼ƒå…³ç³»ç»´æŠ¤\n\t\t | Trueï¼Œè¡¨ç¤ºæ”¾å¼ƒå…³ç³»ç»´æŠ¤\n\t\t-->\n\t\t<set name=\"customerSet\" cascade=\"save-update, delete\" inverse=\"true\">\n\t\t\t...\n\t\t</set>\n\t</class>\n\t```\n\t\n###### å¤šå¯¹å¤šæ“ä½œ\n- å¤šå¯¹å¤šæ˜ å°„é…ç½®ï¼šå®ä½“ç±»é…ç½®\n\t- åˆ›å»ºä¸¤ä¸ªå®ä½“ç±»ï¼Œä¾‹å¦‚ï¼šç”¨æˆ·å’Œè§’è‰² ( ä¸€ä¸ªç”¨æˆ·å¯æ‰®æ¼”å¤šä¸ªè§’è‰²ï¼Œä¸€ä¸ªè§’è‰²å¯ç”±å¤šä¸ªç”¨æˆ·æ‰®æ¼” )ï¼›\n\t- è®©ä¸¤ä¸ªå®ä½“ç±»é—´äº’ç›¸è¡¨ç¤ºï¼›  \n\n\t```java\n\t// ç”¨æˆ·å®ä½“ç±»\n\tpublic void User {\n\t\t// çœç•¥å…¶ä»–å±æ€§\n\t\t// ...\n\t\tprivate Set<Role> roleSet = new HashSet<Role>();\n\t\tpublic Set<Role> getRoleSet() { return roleSet; }\n\t\tpublic void setRoleSet(Set{Role} roleSet) { this.roleSet = roleSet; }\n\t}\n\t\n\t// è§’è‰²å®ä½“ç±»\n\tpublic void Role {\n\t\t// çœç•¥å…¶ä»–å±æ€§\n\t\t// ...\n\t\tprivate Set<User> userSet = new HashSet<User>();\n\t\tpublic Set<User> getUserSet() { return userSet; }\n\t\tpublic void setUserSet(Set<User> userSet { this.userSet = userSet; }\n\t}\n\t```\n\t\n- å¤šå¯¹å¤šæ˜ å°„é…ç½®ï¼š`XML é…ç½®æ–‡ä»¶`ï¼Œä¸€ä¸ªå®ä½“ç±»å¯¹åº”ä¸€ä¸ªæ˜ å°„æ–‡ä»¶ï¼Œé™¤äº†æ˜ å°„æ–‡ä»¶çš„åŸºæœ¬é…ç½®ä¹‹å¤–ï¼Œä¸”è¦åœ¨æ˜ å°„æ–‡ä»¶ä¸­é…ç½®å¤šå¯¹å¤šçš„å…³ç³»ã€‚\n\n\t```xml\n\t<!-- user.bhm.xml -->\n\t<class name=\"cn.kofes.entity.User\" table=\"t_user\">\n\t    <!--\n\t     | åœ¨ç”¨æˆ·ä¸­ï¼Œè¡¨ç¤ºæ‰€æœ‰çš„è§’è‰²\n\t     | Name å±æ€§ï¼šå±æ€§å€¼å†™ç”¨æˆ·å®ä½“ç±»é‡Œè¡¨è§’è‰² Set é›†åˆçš„å¯¹è±¡åç§°\n\t     | Table å±æ€§ï¼šå¡«å†™å¤šå¯¹å¤šæ—¶ï¼Œä¸¤å®ä½“çš„è”ç³»è½¬åŒ–æˆè¡¨ ( ç¬¬ä¸‰å¼ è¡¨ )\n\t    -->\n\t    <set name=\"roleSet\" table=\"t_user_role\">\n\t        <!--\n\t         | å¤šå¯¹å¤šå…³ç³»å»ºè¡¨ï¼Œæœ‰å¤–é”®\n\t         | Column å±æ€§ï¼šå½“å‰ç”¨æˆ·å®ä½“ï¼Œåœ¨ç¬¬ä¸‰å¼ è¡¨ä¸­çš„å¤–é”®åç§° \n\t        -->\n\t        <key column=\"u_fid\" />\n\t        <!-- \n\t         | Class å±æ€§ï¼šå¡«å†™è§’è‰²å®ä½“ç±»å…¨è·¯å¾„\n\t         | Column å±æ€§ï¼šè§’è‰²å®ä½“ï¼Œåœ¨ç¬¬ä¸‰å¼ è¡¨ä¸­çš„å¤–é”®åç§°\n\t        -->\n\t        <many-to-many class=\"cn.entity.Role\" column=\"r_fid\" />\n\t    </set>\n\t</class>\n\t\n\t<!-- role.bhm.xml -->\n\t<class name=\"cn.kofes.entity.Role\" table=\"t_role\">\n\t    <!--\n\t     | åœ¨è§’è‰²ä¸­ï¼Œè¡¨ç¤ºæ‰€æœ‰çš„ç”¨æˆ·\n\t     | Name å±æ€§ï¼šå±æ€§å€¼å†™è§’è‰²å®ä½“ç±»é‡Œè¡¨ç¤ºç”¨æˆ· Set é›†åˆçš„å¯¹è±¡åç§°\n\t     | Table å±æ€§ï¼šå¡«å†™å¤šå¯¹å¤šæ—¶ï¼Œä¸¤å®ä½“çš„è”ç³»è½¬åŒ–æˆè¡¨ ( ç¬¬ä¸‰å¼ è¡¨ )\n\t    -->\n\t    <set name=\"userSet\" table=\"t_user_role\">\n\t        <!--\n\t         | å¤šå¯¹å¤šå…³ç³»å»ºè¡¨ï¼Œæœ‰å¤–é”®\n\t         | Column å±æ€§ï¼šå½“å‰è§’è‰²å®ä½“ï¼Œåœ¨ç¬¬ä¸‰å¼ è¡¨ä¸­å¤–é”®çš„åç§°\n\t        -->\n\t        <key column=\"r_fid\" />\n\t        <!-- \n\t         | Class å±æ€§ï¼šå¡«å†™ç”¨æˆ·å®ä½“ç±»å…¨è·¯å¾„\n\t         | Column å±æ€§ï¼šç”¨æˆ·å®ä½“ï¼Œåœ¨ç¬¬ä¸‰å¼ è¡¨ä¸­å¤–é”®çš„åç§°\n\t        -->\n\t        <many-to-many class=\"cn.entity.User\" column=\"u_fid\" />\n\t    </set>\n\t</class>\n\t```\n\t\n- æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼ŒåŠ å…¥ customer.bhm.xml å’Œ firm.bhm.xmlã€‚\n\n\t```xml\n\t<!-- (å¿…å¡«) æŠŠæ˜ å°„æ–‡ä»¶æ”¾åˆ°æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ ( å¡« Src ä¹‹åçš„è·¯å¾„ ) -->\n\t<mapping resource=\"cn/entity/user.hbm.xml\" />\n\t<mapping resource=\"cn/entity/role.hbm.xml\" />\n\t```\n\n- å¤šå¯¹å¤šçº§è”çš„æ“ä½œå®ç°\n\t- å¤šå¯¹å¤šçº§è”ä¿å­˜\n\n\t\t```java\n\t\t// å’Œä¸€å¯¹å¤šçº§è”æ“ä½œä¸€æ ·ï¼Œåœ¨ç”¨æˆ·é…ç½®æ–‡ä»¶ user.hbm.xml ä¸­ï¼Œ\n\t\t// å¯¹ Set æ ‡ç­¾çš„ casade å€¼ä¸º save-update\n\t\n\t\t// å¤šå¯¹å¤šçº§è”ä¿å­˜\n\t\tUser user_1 = new User();\n\t\tUser user_2= new User();\n\t\tRole role_1 = new Role();\n\t\tRole role_2 = new Role();\n\t\tRole role_3 = new Role();\n\t\n\t\t// user_1 æ‹¥æœ‰è§’è‰² 1ã€2ï¼Œuser_2 æ‹¥æœ‰è§’è‰² 2ã€3\n\t\tuser_1.getRoleSet().add(role_1);\n\t\tuser_1.getRoleSet().add(role_2);\n\t\tuser_2.getRoleSet().add(role_2);\n\t\tuser_2.getRoleSet().add(role_3);\n\t\n\t\t// ä¿å­˜ç”¨æˆ·å³å¯ ( å¯¹åº”äºé…ç½®æ–‡ä»¶ä¸­è®¾ç½®äº† casade å€¼çš„å®ä½“ )\n\t\tsession.save(user_1);\n\t\tsession.save(user_2);\n\t\t```\n\t- å¤šå¯¹å¤šçº§è”åˆ é™¤ ( ä¸æ¨è )ï¼šé…ç½®æ–‡ä»¶ï¼›æœ€åï¼Œç›´æ¥åœ¨ä»£ç ä¸­è¿›è¡Œåˆ é™¤æ“ä½œå³å¯ã€‚\n\n\t\t```xml\n\t\t// å’Œä¸€å¯¹å¤šçº§è”æ“ä½œä¸€æ ·ï¼Œåœ¨ç”¨æˆ·é…ç½®æ–‡ä»¶ user.hbm.xml ä¸­ï¼Œ\n\t\t// å¯¹ Set æ ‡ç­¾çš„ casade å€¼ä¸º delete ( å¯ä»¥ä¸ä¿å­˜çš„å±æ€§å…±å­˜ )\n\t\t<!-- user.bhm.xml -->\n\t\t<class name=\"cn.kofes.entity.User\" table=\"t_user\">\n\t\t    <set name=\"roleSet\" table=\"t_user_role\" casade=\"save-update, delete\">\n\t\t        ...\n\t\t    </set>\n\t\t</class>\n\t\t```\n\t- ç»´æŠ¤å¤šå¯¹å¤šçš„å…³ç³»ï¼Œé€šè¿‡ç»´æŠ¤ `ç¬¬ä¸‰å¼ è¡¨` ( ä¸¤å®ä½“çš„è”ç³»è½¬åŒ–æˆçš„è¡¨ ) å®ç°ã€‚\n\n##### Hibernate HQL æŸ¥è¯¢è¯¦è§£\n\n-  `OID` æŸ¥è¯¢å’Œ `å¯¹è±¡å¯¼èˆª` æŸ¥è¯¢ \n\n```java\n// å•å…ƒæµ‹è¯•ç±»\npublic class HibernateTest {\n    @Test\n    public void testSelect1() {\n        SessionFactory sessionFactory = null;\n        Session session = null;\n        Transaction trans = null;\n\t\t\n        try {\n            sessionFactory = HibernateUtils.getSessionFactory();\n            session = sessionFactory.openSession();\n            trans = session.beginTransaction();\n\t\t\t\n            // éœ€æ±‚ï¼šæ ¹æ® ID æŸ¥è¯¢æŸä¸ªå…¬å¸ï¼Œå†æŸ¥è¯¢è¿™ä¸ªå…¬å¸çš„æ‰€æœ‰å®¢æˆ·\n\t\n            // OID æŸ¥è¯¢ï¼šæŸ¥è¯¢ ID ä¸º 1 çš„å…¬å¸\n            Firm firm = session.get(Firm.class, 1); // \n            // å¯¹è±¡å¯¼èˆªæŸ¥è¯¢ï¼šæ ¹æ®æŸæ¡è®°å½•çš„ IDï¼Œè¿”å›å¯¹è±¡ (å…¬å¸çš„å®¢æˆ·)\n            Set<Customer> customer = firm.getCustomerSet();\n            System.out.print( customer.toString() );\n\n            trans.commit();\n        } catch(Exception ex) {\n            e.printStackTrace();\n            transaction.rollback();\n        } finally {\n            session.close();\n            sessionFactory.close();\n        }\t\n    }\t\n}\n```\n\n###### HQL æŸ¥è¯¢\n\n```java\n// Step.01.åˆ›å»º Query å¯¹è±¡ï¼Œå†™ HQL è¯­å¥å®ç°æŸ¥è¯¢\n// Step.02.è°ƒç”¨ query å¯¹è±¡çš„æ–¹æ³•å¾—åˆ°ç»“æœ\n\n// æŸ¥è¯¢æ‰€æœ‰\nQuery query = session.createQuery(\"FROM t_user\");\nList<User> list = query.list();\n\n// æ¡ä»¶æŸ¥è¯¢\nString sql_obscure = \"FROM t_user WHERE username LIKE ?\"; // æ¨¡ç³ŠæŸ¥è¯¢\nString sql_accurate = \"FROM t_user WHERE age = ? AND username = ?\"; // ç²¾ç¡®æŸ¥è¯¢\nQuery query = session.createQuery(sql_accurate);\n// arg0 ä¸ºå ä½ç¬¦ä½ç½®ï¼Œarg1 ä¸ºå‚æ•°\nquery.setParameter(0, 25).setParameter(1, \"Lucy\");\nList<User> list = query.list();\n\n// æ’åºæŸ¥è¯¢ï¼šASCï¼Œå‡åº / DESCï¼Œé™åº\nString sql = \"FROM t_user ORDER BY uid ASC\"; \nQuery query = session.createQuery(sql);\nList<User> list = query.list();\n\n// åˆ†é¡µæŸ¥è¯¢ï¼šLIMIT å…³é”®å­—\nString sql = \"FROM t_user\";\nQuery query = session.createQuery(sql);\nquery.setFirstResult(0);\nquery,.setMaxResults(10);\nList<User> list = query.list();\n\n// æŠ•å½±æŸ¥è¯¢\nString sql = \"SELECT username, age FROM t_user\";\nQuery query = session.createQuery(sql);\nList<Object> list = query.list();\n\n// èšé›†å‡½æ•°\n// COUNT()ã€SUM()ã€MAX()ã€MIN()...\nString sql = \"SELECT COUNT(*) FROM t_user\";\nQuery query = session.createQuery(sql);\n// å°†ç»“æœä»¥å¯¹è±¡å½¢å¼è¿”å›\nObject obj = query.uniqueResult();\n```\n\n###### HQL å¤šè¡¨æŸ¥è¯¢\n- å†…è¿æ¥ï¼šè¿æ¥ä¸¤ä¸ªè¡¨æœ‰å…³è”çš„æ•°æ®ï¼Œå¿½ç•¥ä¸¤ä¸ªè¡¨ä¸­å¯¹åº”ä¸èµ·æ¥çš„æ•°æ®ã€‚\n\t- SQLï¼šSELECT * FROM t_user AS u, t_role AS r ON  u.uid = r.uid;\n \t- æˆ–è€…ï¼šSELECT * FROM t_user u INNER JOIN t_role r ON  u.uid = r.uid;\n\n- å·¦å¤–é“¾æ¥ï¼šå·¦è¾¹è¡¨æ‰€æœ‰å…ƒç»„ï¼Œå³è¾¹è¡¨å…³è”æ•°æ®ã€‚\n\t- è‹¥å·¦è¡¨ä¸å³è¡¨æ²¡æœ‰å…³è”æ•°æ®ï¼Œåˆ™å³è¾¹è¡¨æ•°æ®è¡¥ NULL å€¼ï¼Œå¤šäº†åˆ™åˆ é™¤\n\t- SQLï¼šSELECT * FROM t_user u LEFT OUTER JOIN t_role r ON  u.uid = r.uid;\n- å³å¤–é“¾æ¥ï¼šä¸å·¦å¤–é“¾æ¥åŒç†ã€‚\n\n```java\n// HQL å†…è¿æ¥ ( å·¦ã€å³å¤–é“¾æ¥åŒç† )\nString sql_inner_join = \"FROM t_user u INNER JOIN u.roleSet\";\nQuery query = session.createQuery(sql_inner_join);\nList list = query.list(); // list è¿”å›çš„æ¯éƒ¨åˆ†éƒ½æ˜¯æ•°ç»„\n\n// HQL è¿«åˆ‡å†…è¿æ¥\nString sql_inner_join_fetch = \"FROM t_user u INNER JOIN FETCH u.roleSet\";\nQuery query = session.createQuery(sql_inner_join_fetch);\nList list = query.list();  // list è¿”å›çš„æ¯éƒ¨åˆ†éƒ½æ˜¯å¯¹è±¡\n\n// HQL è¿«åˆ‡å·¦å¤–è¿æ¥  ( æ²¡æœ‰è¿«åˆ‡å³å¤–è¿æ¥ )\nString sql_inner_join_fetch = \"FROM t_user u LEFT OUTER JOIN FETCH u.roleSet\";\n```\n\n##### Hibernate æ£€ç´¢ç­–ç•¥\n\n###### ç«‹å³æŸ¥è¯¢\næ ¹æ® ID æŸ¥è¯¢ï¼Œè°ƒç”¨ get() æ–¹æ³•ï¼Œåˆ™é©¬ä¸Šå‘é€è¯­å¥æŸ¥è¯¢æ•°æ®åº“ã€‚\n\n```java\n// Debug æ–¹å¼å¯æ£€éªŒï¼Œå³æ‰§è¡Œä»£ç é©¬ä¸Šå‘é€ SQL è¯­å¥\nUser user = session.get(User.class, 1);\n```\n\n###### å»¶è¿ŸæŸ¥è¯¢\næ ¹æ® ID æŸ¥è¯¢ï¼Œè°ƒç”¨ load() æ–¹æ³•ï¼Œä¸ä¼šé©¬ä¸Šå‘é€è¯­å¥æŸ¥è¯¢æ•°æ®åº“ï¼Œåªæœ‰å¾—åˆ°å¯¹è±¡çš„å€¼æ—¶ï¼Œæ‰å‘é€è¯­å¥æŸ¥è¯¢æ•°æ®åº“ã€‚\n\n```java\n// è°ƒç”¨ load() æ–¹æ³•ä¹‹åï¼Œå¹¶ä¸ä¼šé©¬ä¸Šå‘é€ SQL è¯­å¥\nUser user = session.load(User.class, 1);\nSystem.out.println( user.getUid() );\n// å½“å¾—åˆ°å¯¹è±¡é‡Œå…¶ä»–å€¼æ—¶ï¼Œå³é ID å€¼ï¼Œæ‰å‘é€ SQL è¯­å¥è¿›è¡ŒæŸ¥è¯¢\nSystem.out.println( user.getUsername() );\n```\n\n- ç±»çº§åˆ«å»¶è¿Ÿï¼šä¾‹å¦‚ï¼Œæ ¹æ® ID æŸ¥è¯¢è¿”å›å®ä½“ç±»å¯¹è±¡ï¼Œè°ƒç”¨ load() æ–¹æ³•ä¸ä¼šé©¬ä¸Šå‘é€ SQL è¯­å¥ã€‚ \n-  å…³è”çº§åˆ«æŸ¥è¯¢ï¼šä¾‹å¦‚ä¸Šè¿° `å¯¹è±¡å¯¼èˆªæŸ¥è¯¢`ï¼ŒæŸ¥è¯¢æŸä¸ªå…¬å¸åï¼Œå†æŸ¥è¯¢è¿™é—´å…¬å¸çš„æ‰€æœ‰å®¢æˆ·ï¼ŒæŸ¥è¯¢å…¬å¸æ‰€æœ‰å®¢æˆ·çš„è¿‡ç¨‹æ˜¯å¦éœ€è¦å»¶è¿Ÿï¼Œåˆ™ç§°å…¶ä¸ºå…³è”çº§åˆ«å»¶è¿Ÿã€‚\n\n\t```xml\n\t<!-- \n\t | åœ¨é…ç½®æ–‡ä»¶ä¸­å®ç°å…³è”çº§åˆ«å»¶è¿Ÿ\n\t | fetch å±æ€§ï¼šselect\n\t | lazy å±æ€§ï¼štrue / false / extra\n\t | \t- Trueï¼Œå½“å¾—åˆ°å¯¹è±¡é‡Œå…¶ä»–å€¼æ—¶ï¼Œå³é ID å€¼ï¼Œæ‰å‘é€ SQL è¯­å¥è¿›è¡ŒæŸ¥è¯¢ã€‚\n\t | \t- Falseï¼Œåä¹‹ï¼Œä¼šå¤šæ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢ ( getUid() )ã€‚\n\t | \t- Extraï¼Œéœ€è¦ä»€ä¹ˆå±æ€§ï¼ŒæŸ¥è¯¢ä»€ä¹ˆå±æ€§ ( ä»…éœ€å°‘é‡å±æ€§æ—¶æ¨èä½¿ç”¨ )\n\t-->\n\t<class name=\"cn.kofes.entity.User\" table=\"t_user\">\n\t    <set name=\"roleSet\" table=\"t_user_role\" fetch=\"select\" lazy=\"true\" >\n\t        ...\n\t    </set>\n\t</class>\n\t```\n\t\n###### æ‰¹é‡æŠ“å–\n- ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦æŸ¥è¯¢æ‰€æœ‰å…¬å¸çš„æ‰€æœ‰å®¢æˆ·ï¼Œä»£ç å®ç°å¦‚ä¸‹ï¼š\n\t\n\t```java\n\tCriteria criteria = session.createCriteria(User.class);\n\tList<Firm> list = criteria.list();\n\tfor(Firm firm : list) {\n\t    System.out.println( firm.getId() + \":\" + firm.getName() );\n\t    Set<Customer> customerSet = firm.getCustomerSet();\n\t    for(Customer customer : customerSet) {\n\t        System.out.println( customer.getUid() + \":\" + customer.getUsername() );\n\t    }\n\t}\n\t\n\t// ä½†åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ï¼Œæš´éœ²çš„é—®é¢˜æ—¶ï¼šæ¯æ¬¡å¾ªç¯éƒ½æ‰§è¡Œä¸€æ¬¡æŸ¥è¯¢ï¼Œæ‹–æ²“æ€§èƒ½\n\t```\n\t\n- æ•…æˆ‘ä»¬åªéœ€è¦åœ¨å®ä½“æ˜ å°„é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯¹ Set æ ‡ç­¾è¿›è¡Œè®¾ç½®å±æ€§å³å¯ï¼š\n\n\t```xml\n\t<!-- firm.bhm.xml -->\n\t<class name=\"cn.kofes.entity.Firm\" table=\"t_firm\">\n\t    <!-- batch-size çš„å€¼ä¸ºæ•´æ•°å³å¯ -->\n\t    <set name=\"customerSet\" batch-size=\"10\">\n\t        ...\n\t    </set>\n\t</class>\n\t```\n\t\n---\n\n#### SSH æ¡†æ¶æ€»ç»“\n\n##### Struts\n- Action æ“ä½œ\n\t- Action åˆ›å»º (ä¸‰ç§æ–¹å¼)ï¼šç»§æ‰¿ `ActionSupport` ç±»ã€‚\n\t- Action è®¿é—®è·¯å¾„ï¼šåˆ›å»º `struts.xml` é…ç½®æ–‡ä»¶ï¼Œæ–‡ä»¶åç§°å’Œä½ç½® ( Src ç›®å½• ) å›ºå®šã€‚\n\t- è®¿é—® Action çš„å¤šä¸ªæ–¹æ³•ï¼šä½¿ç”¨ `é€šé…ç¬¦æ–¹å¼` é…ç½®ã€‚\n\t- Action è·å–è¡¨å•æäº¤æ•°æ®ï¼š\n\t\t- è·å– Request å¯¹è±¡ ( ä½¿ç”¨ `ServletAction` ç±» )ï¼›\n\t\t- å±æ€§å°è£…ï¼›\n\t\t- æ¨¡å‹é©±åŠ¨ï¼›\n\t- Action æ“ä½œåŸŸå¯¹è±¡ï¼šä½¿ç”¨ `ServletAction` ç±»ã€‚\n\t- é…ç½® Struts2 è¿‡æ»¤å™¨ã€‚\n- å€¼æ ˆ\n\t- å‘å€¼æ ˆæ”¾æ•°æ®ï¼š\n\t\t- Set æ–¹æ³•ï¼›\n\t\t- Push æ–¹æ³•ï¼›\n\t\t- å®šä¹‰å˜é‡ï¼Œç”Ÿæˆ Get æ–¹æ³•.\n\t- ä»å€¼æ ˆè·å–æ•°æ®ï¼šåœ¨ JSP ä¸­ä½¿ç”¨ Struts2 æ ‡ç­¾ + Ognl è·å–\n\t\t- `<s:property />`\n\t\t- `<s:iterator />`\n- æ‹¦æˆªå™¨\n\t- AOP å’Œè´£ä»»é“¾æ¨¡å¼ï¼›\n\t- è‡ªå®šä¹‰æ‹¦æˆªå™¨ï¼š\n\t\t- ç»§æ‰¿ `MethodFilterInterceptor` ç±»ï¼Œå¹¶é‡å†™ç±»æ–¹æ³•ï¼›\n\t\t- é…ç½®æ‹¦æˆªå™¨å’Œ Action å…³è”.\n\n##### Spring\n- Spring æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼š\n\t- åç§°å’Œä½ç½®æ²¡æœ‰å›ºå®šè¦æ±‚ï¼›\n\t- åœ¨ Spring æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼•å…¥ Schema çº¦æŸ.\n- åˆ›å»ºå¯¹è±¡ï¼š\n\t- XML é…ç½®æ–¹å¼ï¼š`<bean id=\"\" class=\"\" />`ï¼›\n\t- æ³¨è§£æ–¹å¼ï¼š`@Component` æˆ– `@Controller` (Webå±‚)ã€`@Service` (ä¸šåŠ¡å±‚)ã€`@Repository` (æŒä¹…å±‚).\n- æ³¨å…¥å±æ€§:\n\t- XML é…ç½®æ–¹å¼ï¼š`<bean id=\"\" class=\"\"><property name=\"\" ref=\"\" /></bean>`ï¼›\n\t- æ³¨è§£æ–¹å¼ï¼š`@autowired`ã€`@Resource(name=\"value\")`.\n- ä½¿ç”¨ ServletContext å¯¹è±¡å’Œç›‘å¬å™¨å®ç°\n\t- åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼ŒåŠ è½½ Spring é…ç½®æ–‡ä»¶ï¼Œåˆ›å»ºå¯¹è±¡ï¼›\n\t- é…ç½® Spring çš„ç›‘å¬å™¨ï¼›\n\t- æŒ‡å®š Spring é…ç½®æ–‡ä»¶ä½ç½®.\n- Spring JdbcTemplate \n- Spring äº‹åŠ¡é…ç½®ï¼š\n\t- XML é…ç½®æ–¹å¼ï¼›\n\t- æ³¨è§£æ–¹å¼ï¼š`@Transational`\n\n##### Hibernate\n- ORM æ€æƒ³ï¼š`å¯¹è±¡å…³ç³»æ˜ å°„`ï¼Œå‚è€ƒ [ORM æ¡†æ¶](#ORM-æ¡†æ¶)ï¼›\n- æ•°æ®åº“ä¿¡æ¯é…ç½®ï¼šMySQL / SQL Server 2008 R2ï¼›\n- Hibernate ä¿¡æ¯é…ç½®ï¼šå³é…ç½® Hibernate æ ¸å¿ƒé…ç½®æ–‡ä»¶ ( `hibernate.cfg.xml` )ã€‚\n\n\t> Hibernate å’Œ Spring æ•´åˆæ—¶ï¼Œé…ç½®æ–‡ä»¶çš„åç§°å’Œä½ç½®æ˜¯æ²¡æœ‰å›ºå®šè¦æ±‚çš„ã€‚\n\t\n- æ˜ å°„å…³ç³»é…ç½®ï¼šå³é…ç½® Hibernate æ˜ å°„é…ç½®æ–‡ä»¶ ( `xxx.hbm.xml` )ï¼Œå®ä½“ç±»å’Œæ•°æ®è¡¨æ˜ å°„å…³ç³» ( ä½¿ç”¨ ORM æ€æƒ³ )ã€‚\n- Hibernate æ“ä½œæ­¥éª¤ï¼šSpring æ¡†æ¶å¯¹ Hibernate æ¡†æ¶ä¹Ÿæœ‰å°è£…ï¼Œå³ `HibernateTemplate` ç±»ã€‚\n\n#### SSH æ¡†æ¶æ•´åˆ\n\n![SSHæ¡†æ¶æ•´åˆæ€æƒ³](/images/illustration/Project/2018/08/J2EE-SSH-SSI-1_6-4.png)\n<center>å›¾ 6-4 SSH æ¡†æ¶æ•´åˆæ€æƒ³</center>\n\n- Spring ä¸ Struts 2 æ¡†æ¶çš„æ•´åˆ\n\t\n\tæŠŠ Struts 2 çš„ Action å¯¹è±¡åˆ›å»ºäº¤ç»™ Spring è¿›è¡Œç®¡ç†ã€‚\n\n\t```xml\n\t<bean id=\"\" class=\"\" scope=\"prototype\" />\n\t```\n\n- Spring ä¸ Hibernate æ¡†æ¶çš„æ•´åˆ\n\n\tæŠŠ Hibernate çš„æ ¸å¿ƒé…ç½®æ–‡ä»¶é‡Œçš„æ•°æ®åº“é…ç½®ï¼Œç›´æ¥å†™åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­ã€‚ä¸”æŠŠ SessionFactory å¯¹è±¡åˆ›å»ºäº¤ç»™ Spring ç®¡ç†ã€‚\n\t\n#### SSH æ•´åˆæ¼”ç¤º\n\n##### Spring ä¸ Struts 2 æ•´åˆ\n\n- Action ä»£ç å®ç°ï¼š\n\n\t```java\n\t// cn.kofes.dao.BaseAction.java\n\t\n\tpublic class BaseAction extends ActionSupport {\n\t    @Override\n\t    public String execute() throws Exception {\n\t        System.out.println(\"The portion of action has deployed successfully.\");\n\t        return NONE;\n\t    }\n\t}\n\t```\n\t\n- åœ¨ Spring  é…ç½®æ–‡ä»¶ä¸‹æ•´åˆ Strutsï¼š\n\n\t```xml\n\t<!-- spring.xml -->\n\t\n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\t    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\t    xmlns:context=\"http://www.springframework.org/schema/context\"\n\t    xmlns:aop=\"http://www.springframework.org/schema/aop\"\n\t    xmlns:tx=\"http://www.springframework.org/schema/tx\"\n\t    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t    http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n\t    http://www.springframework.org/schema/context\n\t    http://www.springframework.org/schema/context/spring-context-2.5.xsd\n\t    http://www.springframework.org/schema/aop\n\t    http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\n\t    http://www.springframework.org/schema/tx\n\t    http://www.springframework.org/schema/tx/spring-tx-2.5.xsd\">\n\n\t    <!-- æ•´åˆ Strutsï¼šAction å¯¹è±¡çš„é…ç½® -->\n\t    <bean id=\"BaseAction\" class=\"cn.kofes.action.BaseAction\" scope=\"prototype\"/>\n\t    \n\t</beans>\n\t```\n\n- æ•´åˆ Webï¼Œå½“æœåŠ¡å™¨å¯åŠ¨æ—¶åŠ è½½ Spring é…ç½®å³åˆå§‹åŒ–ï¼Œæˆ‘ä»¬éœ€è¦åœ¨ web.xml ä¸‹é…ç½®ç›‘å¬å™¨ï¼š\n\n\t```xml\n\t<!-- web.xml -->\n\t\n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n\t    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\t    xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\n\t    version=\"4.0\">\n\t    \n\t    <!-- åŠ è½½ Spring çš„é…ç½®æ–‡ä»¶ -->\n\t    <context-param>\n\t        <param-name>contextConfigLocation</param-name>\n\t        <param-value>classpath:spring.xml</param-value>\n\t    </context-param>\n\n\t    <!-- ç›‘å¬å™¨æ¨¡å—ï¼šä½œç”¨å°±æ˜¯å¯åŠ¨ Web å®¹å™¨æ—¶,è‡ªåŠ¨è£…é… spring.xml æ–‡ä»¶çš„é…ç½®ä¿¡æ¯ -->\n\t    <listener>\n\t        <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>\n\t    </listener>\n\n\t    <!-- è¿‡æ»¤å™¨æ¨¡å— -->\n\t    <filter>\n\t        <filter-name>struts2</filter-name>\n\t        <filter-class>org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter</filter-class>\n\t    </filter>\n\t    <filter-mapping>\n\t        <filter-name>struts2</filter-name>\n\t        <url-pattern>/*</url-pattern>\n\t    </filter-mapping>\n\n\t    <welcome-file-list>\n\t        <welcome-file>index.jsp</welcome-file>\n\t    </welcome-file-list>\n\t\n\t</web-app>\n\t```\n\t\n- æœ€åï¼Œstruts.xml å¡«å…¥ä»¥ä¸‹é…ç½®å³å¯ï¼š\n\n\t```xml\n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<!DOCTYPE struts PUBLIC\n\t    \"-//Apache Software Foundation//DTD Struts Configuration 2.3//EN\"\n\t    \"http://struts.apache.org/dtds/struts-2.3.dtd\">\n\n\t<struts>\n\t    <package name=\"sample\" extends=\"struts-default\" namespace=\"/\">\n\t        <!--\n\t         | Class å±æ€§å€¼ä¸å†™ç›®æ ‡ Action çš„å…¨è·¯å¾„ï¼ŒåŸå› æ˜¯é˜²æ­¢äºŒæ¬¡åˆ›å»ºå¯¹è±¡\n\t         | å¼•å…¥ Spring ç›¸å¯¹åº”  Action çš„ Bean æ ‡ç­¾ ID\n\t        -->\n\t        <action name=\"BaseAction\" class=\"BaseAction\" />\n\t    </package>\n\t</struts>\n\t```\n\n##### Spring ä¸ Hibernate æ•´åˆ\n\n- åœ¨ Spring  é…ç½®æ–‡ä»¶ä¸‹é…ç½®æ•°æ®åº“ä¿¡æ¯ï¼ŒåŠæ•´åˆ Hibernateã€‚åè€…å³å°† SessionFacotry äº¤ç”± Spring ç®¡ç†ï¼š\n\n\t> `c3p0.properties` å’Œ `hibernate.properties` é…ç½®æ–‡ä»¶ä½äº Src æ ¹ç›®å½•ä¸‹ï¼Œé”®å€¼åˆ†ç¦»ä»¥ä¾¿ä»¥åä¿®æ”¹é…ç½®ã€‚\n\n\t```xml\n\t<!-- spring.xml -->\n\t\n\t<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n\t<beans xmlns=\"http://www.springframework.org/schema/beans\"\n\t    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n\t    xmlns:context=\"http://www.springframework.org/schema/context\"\n\t    xmlns:aop=\"http://www.springframework.org/schema/aop\"\n\t    xmlns:tx=\"http://www.springframework.org/schema/tx\"\n\t    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n\t    http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n\t    http://www.springframework.org/schema/context\n\t    http://www.springframework.org/schema/context/spring-context-2.5.xsd\n\t    http://www.springframework.org/schema/aop\n\t    http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\n\t    http://www.springframework.org/schema/tx\n\t    http://www.springframework.org/schema/tx/spring-tx-2.5.xsd\">\n\n\t    <!-- åœ¨æ ¹ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ c3p0.propertiesï¼Œå­˜å‚¨æ•°æ®åº“è¿æ¥ä¿¡æ¯ -->\n\t    <context:property-placeholder location=\"classpath:c3p0.properties\"/>\n\n\t    <!-- Data Connection Settings -->\n\t    <bean id=\"dataSource\" class=\"com.mchange.v2.c3p0.ComboPooledDataSource\">\n\t        <!-- å¼•ç”¨ c3p0.properties çš„é”®å€¼å¯¹å³å¯ï¼Œæ ¼å¼å¦‚ ${key.value} -->\n\t        <property name=\"driverClass\" value=\"${datasource.driverClass}\"/>\n\t        <property name=\"jdbcUrl\" value=\"${datasource.jdbcUrl}\"/>\n\t        <property name=\"user\" value=\"${datasource.user}\"/>\n\t        <property name=\"password\" value=\"${datasource.password}\"/>\n\t        <!-- è®¾ç½®æ•°æ®åº“è¿æ¥æ± çš„æœ€å¤§è¿æ¥æ•° -->\n\t        <property name=\"maxPoolSize\" value=\"${datasource.maxPoolSize}\"/>\n\t        <!-- è®¾ç½®æ•°æ®åº“è¿æ¥æ± çš„æœ€å°è¿æ¥æ•° -->\n\t        <property name=\"minPoolSize\" value=\"${datasource.minPoolSize}\"/>\n\t        <!-- è®¾ç½®æ•°æ®åº“è¿æ¥æ± çš„åˆå§‹åŒ–è¿æ¥æ•° -->\n\t        <property name=\"initialPoolSize\" value=\"${datasource.initialPoolSize}\"/>\n\t        <!-- è®¾ç½®æ•°æ®åº“è¿æ¥æ± çš„è¿æ¥æœ€å¤§ç©ºé—²æ—¶é—´ -->\n\t        <property name=\"maxIdleTime\" value=\"${datasource.maxIdleTime}\"/>\n\t        <!-- c3p0ç¼“å­˜Statementçš„æ•°é‡æ•° -->\n\t        <property name=\"maxStatements\" value=\"${datasource.maxStatements}\"/>\n\t        <!-- å½“è¿æ¥æ± çš„è¿æ¥ç”¨å®Œçš„ï¼Œä» C3p0 ä¸‹è·å–æ–°çš„è¿æ¥æ•° -->\n\t        <property name=\"acquireIncrement\" value=\"${datasource.acquireIncrement}\"/>\n\t        <property name=\"checkoutTimeout\" value=\"${datasource.checkoutTimeout}\"/>\n\t        <property name=\"idleConnectionTestPeriod\" value=\"${datasource.idleConnectionTestPeriod}\"/>\n\t    </bean>\n\t    \n\t    <!-- æ•´åˆ Hibernateï¼šSessionFactory å¯¹è±¡çš„é…ç½® -->\n\t    <bean id=\"sessionFactory\"\n\t        class=\"org.springframework.orm.hibernate5.LocalSessionFactoryBean\">\n\t        <!-- (å¿…å¡«ä¿¡æ¯) æŒ‡å®šæ•°æ®åº“ -->\n\t        <property name=\"dataSource\" ref=\"dataSource\" />\n\t        <!-- (å¯é€‰ä¿¡æ¯) é…ç½® Hibernate ä¿¡æ¯ -->\n\t        <property name=\"hibernateProperties\" value=\"classpath:hibernate.properties\" />\n\t        <!-- (å¿…å¡«ä¿¡æ¯) æŠŠæ˜ å°„æ–‡ä»¶æ”¾åˆ°æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ ( ç°ç›´æ¥åŠ è½½åˆ° LocalSessionFactoryBean ç±»ä¸­å³å¯ )  -->\n\t        <property name=\"mappingResources\">\n\t            <list>\n\t                <value>mapper/sample.hbm.xml</value>\n\t            </list>\n\t        </property>\n\t    </bean>\n\n\t</beans>\n\t```\n\n- åˆ›å»ºå®ä½“ç±»ï¼š\n\n\t```java\n\t// Employee.java\n\tpublic class Sample { ... }\t\n\n\t```\n\t\n- åˆ›å»ºå®ä½“ç±»æ˜ å°„æ–‡ä»¶ ( æ–‡ä»¶ä½ç½®æ²¡æœ‰å›ºå®šè¦æ±‚ï¼Œå»ºè®®ç»Ÿä¸€æ–‡ä»¶å¤¹å­˜å‚¨ )ï¼š\n\n\t```xml\n\t<!-- src/resource/HbmCollection/sample.hbm.xml -->\n\t\n\t<?xml version='1.0' encoding='UTF-8'?>\n\t<!DOCTYPE hibernate-mapping PUBLIC\n\t    \"-//Hibernate/Hibernate Mapping DTD 3.0//EN\"\n\t    \"http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd\">\n\t    \n\t<hibernate-mapping>\n\t    <!--\n\t     | name å±æ€§ï¼šå®ä½“ç±»å…¨è·¯å¾„\n\t     | table å±æ€§ï¼šæ•°æ®åº“è¡¨åç§°\n\t    -->\n\t    <class name=\"cn.kofes.bean.Sample\" table=\"t_sample\">\n\t        <!--\n\t         | Hibernate è¦æ±‚å®ä½“ç±»æœ‰ä¸€ä¸ªå±æ€§å”¯ä¸€å€¼ï¼Œä¸”è¦æ±‚è¡¨æœ‰å­—æ®µä½œä¸ºå”¯ä¸€å€¼\n\t         | name å±æ€§ï¼šå®ä½“ç±»çš„ id å±æ€§åç§°\n\t         | column å±æ€§ï¼šæ•°æ®è¡¨å­—æ®µåç§°\n\t        -->\n\t        <id name=\"id\" column=\"id\">\n\t            <!-- è®¾ç½®æ•°æ®åº“è¡¨ id å¢é•¿ç­–ç•¥ï¼šClass æ ‡ç­¾\n\t             | å±æ€§å€¼ï¼šincrementã€hiloã€squenceã€identityã€nativeã€uuidã€guid ç­‰ã€‚\n\t            -->\n\t            <generator class=\"native\"/>\n\t        </id>\n\n\t        <!-- é…ç½®å…¶ä»–å±æ€§å’Œè¡¨å­—æ®µå¯¹åº”ï¼šProperty æ ‡ç­¾ -->\n\t        <property name=\"name\" column=\"name\" type=\"string\"/>\n\t    </class> \n\t</hibernate-mapping>\n\t```\n\n- åœ¨ `æ ¸å¿ƒé…ç½®æ–‡ä»¶` ä¸­å¼•å…¥ `æ˜ å°„é…ç½®æ–‡ä»¶`ï¼š\n\n\t> åœ¨ Spring é…ç½®æ–‡ä»¶ä¸­å·²å¼•å…¥æ˜ å°„é…ç½®æ–‡ä»¶ï¼Œæ•…ä¸éœ€è¦å†å•ç‹¬é…ç½® `hibernate.cfg.xml`ã€‚\n\t\n- äº‹åŠ¡é…ç½®ï¼šåœ¨ spring.xml é…ç½®æ–‡ä»¶ä¸­é…ç½®å¹¶å¼€å§‹äº‹åŠ¡æ³¨è§£ï¼Œå†åˆ° Service å±‚æ·»åŠ æ³¨è§£ `@Transactional`ï¼š \n\n\t```xml\n\t<!-- é…ç½®äº‹åŠ¡ç®¡ç†å™¨ -->\n\t<bean id=\"transactionManager\"\n\t    class=\"org.springframework.orm.hibernate5.HibernateTransactionManager\">\n\t    <property name=\"sessionFactory\" ref=\"sessionFactory\"/>\n\t</bean>\n\n\t<!--  å¼€å§‹äº‹åŠ¡æ³¨è§£ -->\n\t<tx:annotation-driven transaction-manager=\"transactionManager\" />\n\t```\n\n##### Spring åˆ†æ¨¡å—å¼€å‘\n\n- åœ¨ Spring é‡Œé…ç½®å¤šä¸ªå†…å®¹ï¼Œå®¹æ˜“é€ æˆé…ç½®æ··ä¹±ï¼Œä¸åˆ©äºç»´æŠ¤ã€‚\n- æŠŠ Spring æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­ï¼Œå°†ä¸€éƒ¨åˆ†é…ç½®æ”¾åˆ°å•ç‹¬çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå†åœ¨ Spring æ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­å¼•å…¥å•ç‹¬é…ç½®æ–‡ä»¶ã€‚\n\n\t```xml\n\t<!-- \n\t | å°†åŸ Spring ä¸­çš„éƒ¨åˆ†é…ç½®æ”¾ç½®åˆ°ç‹¬ç«‹ xml ä¸­ï¼Œ\n\t | ä¾‹å¦‚æˆ‘æŠŠ Dao å±‚çš„é…ç½®ç‹¬ç«‹å‡ºæ¥ï¼Œå†åˆ° spring.xml ä¸­å¼•å…¥é…ç½®æ–‡ä»¶ dao.xml å³å¯ã€‚\n\t-->\n\t<import resource=\"classpath:dao.xml\" />\n\t```\n\t\n##### SSH æ¡†æ¶ä½¿ç”¨æ¼”ç¤º\n\nSSH æ•´åˆå·¥ä½œå‘Šä¸€æ®µè½ï¼Œå½“ç„¶ä½ å¯é€šè¿‡ Maven æ‰“åŒ…å·¥ç¨‹ï¼Œä»¥ä¾¿ä»¥åå¤ç”¨ã€‚\n\n\n### SSM æ¡†æ¶\n\n> å½“ç„¶ï¼Œéšç€æ¡†æ¶æŠ€æœ¯çš„è¿­ä»£æ›´æ–°ï¼Œæ›´åŠ ç§‘å­¦ã€åˆç†çš„æ–°æ¡†æ¶ä¹Ÿé€æ¸åœ¨é¡¹ç›®ä¸­ä½¿ç”¨èµ·æ¥ï¼Œå¦‚ SSM æ¡†æ¶ã€‚å…·ä½“ç»†èŠ‚å¯å‚è€ƒï¼š[Java EE ä¹‹ SSM æ¡†æ¶é…ç½®ä¸ä½¿ç”¨](https://www.kofes.cn/2018/08/J2EE-SSM-1.html)\n\n- `SSM æ¡†æ¶`ï¼šSpring MVCã€Springã€MyBatis\n\n\tSSM ( Spring + SpringMVC + MyBatis ) æ¡†æ¶é›†ç”± Springã€SpringMVCã€MyBatis ä¸‰ä¸ªå¼€æºæ¡†æ¶æ•´åˆè€Œæˆï¼Œå¸¸ä½œä¸ºæ•°æ®æºè¾ƒç®€å•çš„ Web é¡¹ç›®çš„æ¡†æ¶ã€‚\n\n- `Spring`ï¼šæ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬ (IoC) å’Œé¢å‘åˆ‡é¢ (AOP) çš„å®¹å™¨æ¡†æ¶ã€‚\n\n\t> ä¸æœ¬æ–‡çš„ Spring ç« èŠ‚å†…å®¹ç›¸åŒã€‚\n\n- `SpringMVC`ï¼šåˆ†ç¦»äº†æ§åˆ¶å™¨ã€æ¨¡å‹å¯¹è±¡ã€åˆ†æ´¾å™¨ä»¥åŠå¤„ç†ç¨‹åºå¯¹è±¡çš„è§’è‰²ï¼Œè¿™ç§åˆ†ç¦»è®©å®ƒä»¬æ›´å®¹æ˜“è¿›è¡Œå®šåˆ¶ã€‚\n- `Mybatis`ï¼š[Mybatis](http://blog.mybatis.org/) æ˜¯ä¸€ä¸ªæ”¯æŒæ™®é€šSQLæŸ¥è¯¢ï¼Œå­˜å‚¨è¿‡ç¨‹å’Œé«˜çº§æ˜ å°„çš„ä¼˜ç§€æŒä¹…å±‚æ¡†æ¶ã€‚å®ƒæ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ä»¥åŠé«˜çº§æ˜ å°„ã€‚MyBatis é¿å…äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç å’Œæ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†ã€‚MyBatis å¯ä»¥ä½¿ç”¨ç®€å•çš„ XML æˆ–æ³¨è§£æ¥é…ç½®å’Œæ˜ å°„åŸç”Ÿä¿¡æ¯ï¼Œå°†æ¥å£å’Œ Java çš„ POJOs (Plain Old Java Objectsï¼Œæ™®é€šçš„ Javaå¯¹è±¡ ) æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ã€‚\n\n##å‚è€ƒèµ„æ–™ \n\n- \\[1\\] [ ä¸€æªå°½éªš Â· é­‚. åŸºäºå…¨æ³¨è§£æ–¹å¼çš„SSHåŸºç¡€æ¡†æ¶. csdn.net](https://blog.csdn.net/u012377333/article/details/50037825)\n- \\[2\\] [åˆ»ä¸‹å²æœˆ. IntelliJ IDEA 2016.1.2 + Spring + Struts2 + Hibernate ( SSH ). lunhui.ren](http://blog.lunhui.ren/archives/225) \n- \\[3\\] [kent. JavaEE SSH ä¸‰å¤§æ¡†æ¶æ•´åˆ ( Spring + Struts2 + Hibernate ). cnblogs.com](https://www.cnblogs.com/xieyupeng/p/7108141.html)\n- \\[4\\] [Starskyhu. Hibernate å„ç§ä¸»é”®ç”Ÿæˆç­–ç•¥ä¸é…ç½®è¯¦è§£. cnblogs.cn](https://www.cnblogs.com/hoobey/p/5508992.html)\n- \\[5\\] [é™ˆé“é”‹. Hibernate è¿æ¥ä¸‰ç§æ•°æ®åº“çš„é…ç½® ( SQL Serverã€Oracleã€MySQL ). csdn.net](https://blog.csdn.net/chentiefeng521/article/details/58775415)\n- \\[6\\] [RoadOfStudy. MySQL 5.7ç‰ˆæœ¬çš„rootç”¨æˆ·é‡ç½®å¯†ç é—®é¢˜. cnbolgs.com](https://www.cnblogs.com/roadofstudy/p/7446690.html)\n- \\[7\\] [Time Tries All. MySQL é‡ç½®å¯†ç å‡ºç°çš„ä¸€ç³»åˆ—é—®é¢˜. csdn.net](https://blog.csdn.net/time_tries_all/article/details/78571984)\n- \\[8\\] [Souvc. è¿æ¥è™šæ‹Ÿæœº (Ubuntu16.04) çš„ MySQL æœåŠ¡å™¨. souvc.com](http://www.souvc.com/?p=915)","tags":["Struts"],"categories":["Project"]},{"title":"è®ºæ–‡ | ä»å•†ç”¨è½¦é˜Ÿçš„ GPS æ•°æ®ä¸­å½’ç±»è½¦è¾†åœç•™æ„å›¾ä¿¡æ¯","url":"%2F2018%2F06%2FStop-purpose-classification-from-GPS-data-of-commercial-vehicle-fleets.html","content":"\n{% note default %}\nåŸæ–‡ï¼šStop purpose classification from GPS data of commercial vehicle fleets\nä½œè€…ï¼šSarti L, Bravi L, Sambo F.    \næ¥æºï¼šData Mining Workshops, 2017 IEEE International Conference on. IEEE, 2017: 280-287.  \n{% endnote %}\n\n## æ‘˜è¦\n\nä»åŸå§‹ GPS (å…¨çƒå®šä½ç³»ç»Ÿ) æ•°æ®ä¸­æå– `æ±½è½¦åœé æ„å›¾æ•°æ®` æ˜¯å¤§å¤šæ•°ä½ç½®æ„ŸçŸ¥åº”ç”¨ç¨‹åºä¸­çš„å…³é”®ä»»åŠ¡ï¼Œä¸”éšç€ä»ç§»åŠ¨è®¾å¤‡æ”¶é›† GPS æ•°æ®çš„ä¸æ–­å¢é•¿ï¼Œè¿™é¡¹ä»»åŠ¡å˜å¾—è¶Šæ¥è¶Šæœ‰è¶£ã€‚è¿‘æœŸå¾ˆå¤šç ”ç©¶éƒ½é›†ä¸­åœ¨è¡Œäºº (æ‰‹æœº) æ•°æ®ä¸Š (å¯ç†è§£ä¸ºçº¢æµ·å¸‚åœº)ï¼Œè€Œå•†ç”¨è½¦é¢†åŸŸå‡ ä¹æ²¡æœ‰æ¢ç´¢ (è“æµ·å¸‚åœº)ã€‚\n\nåœ¨æœ¬è®ºæ–‡ä¸­ï¼Œé’ˆå¯¹è½¦è¾† GPS æ•°æ®çš„æ±½è½¦åœé æ„å›¾çš„ `è¯†åˆ«` å’Œ `åˆ†ç±»` é—®é¢˜ (åˆ©ç”¨æ¥è‡ªä¸åŒè¡Œä¸šçš„å•†ä¸šè½¦é˜Ÿçš„å¤§å‹å¼‚æ„æ•°æ®é›†)ã€‚æŒ‰ç…§æ„å›¾åˆ†ç±»ï¼Œæ—¨åœ¨æŠŠæ±½è½¦åœé ç‚¹åˆ†ä¸ºï¼š`å·¥ä½œç›¸å…³` å’Œ `éå·¥ä½œç›¸å…³`ï¼Œä»¥æŒ–æ˜ç›¸å…³å•†ä¸šä»·å€¼ã€‚\n\nä¸”è¿˜å¯¹æ¯ä¸ªæ±½è½¦åœé ç‚¹è®¡ç®—ä¸€ç»„å« 100 ä¸ªä¸åŒç‰¹å¾çš„é›†åˆï¼Œç‰¹å¾å¯åˆ†ä¸ºå››ä¸ªä¸»è¦ç±»åˆ«ï¼š`æ±½è½¦åœé ç‚¹ç‰¹å¾`ï¼Œ`å…´è¶£ç‚¹ç‰¹å¾`ï¼Œ`æ±½è½¦åœé ç‚¹é›†ç¾¤ç‰¹å¾` å’Œ `åºåˆ—ç‰¹å¾`ã€‚å¹¶é€šè¿‡éšæœºæ£®æ—åˆ†ç±»æ¨¡å‹ï¼Œè¯„ä¼°å››ç»„ç‰¹å¾ä¸­æ¯ä¸ªç‰¹å¾å¯¹åœé ç‚¹çš„ç›¸å¯¹é‡è¦æ€§ï¼Œä»¥å¤„ç†ä¸åŒç±»å‹çš„é—®é¢˜ã€‚\n\nå®éªŒç»“æœè¡¨æ˜ï¼Œæœ¬è®ºæ–‡çš„æ–¹æ³•æ˜¾ç€åœ°è¶…è¶Šäº†ç°æœ‰å•†ä¸šè½¦è¾†èƒŒæ™¯ä¸‹ç”¨äºæ±½è½¦åœé æ„å›¾çš„åˆ†ç±»æ¨¡å‹ã€‚\n\n<!-- More -->\n\n## æ­£æ–‡\n\n### å¼•å…¥\nåœ¨è¿‡å»çš„åå¹´ä¸­ï¼ŒGPS è®¾å¤‡çš„å·¨å¤§æ¨å¹¿ï¼Œä½¿å¾—äººä»¬è¶Šå‘å…³æ³¨ `æ•°æ®æŒ–æ˜ç®—æ³•` åœ¨ `æ—¶ç©ºæ•°æ®` (GPS äº§ç”Ÿçš„æ•°æ®) ä¸­çš„åº”ç”¨ã€‚è€Œè®¸å¤šå®é™…åº”ç”¨éœ€è¦ä½¿ç”¨å…³äºç”¨æˆ·è¡Œä¸ºå’Œåœ°ç†ä½ç½®çš„è¯­ä¹‰ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œä¸‹è¿°çš„ä¸¤ä¸ªå®ä¾‹ï¼š\n\n- åŸºäºç”¨æˆ·çš„å†å²ä½ç½®ä»¥è¡¡é‡ç”¨æˆ·ä¹‹é—´çš„ç›¸ä¼¼åº¦ $^{[1]}$ï¼›\n- åŸºäºä½ç½®çš„å…´è¶£åœ°ç‚¹æ¨èç³»ç»Ÿ $^{[2]}$ã€‚\n\nè¯­ä¹‰æ ‡è®° GPS æ•°æ®ï¼Œç›®æ ‡æ—¨åœ¨ `è¯†åˆ«` å’Œ `å½’ç±»` GPS æ²¿é€”è½¨è¿¹ä¸Šçš„ä½ç½®ä¿¡æ¯ï¼Œå³å…·ä½“å·¥ä½œæœ‰ `è¯­ä¹‰ä½ç½®çš„ä¾¦å¯Ÿ` å’Œ `æ±½è½¦åœé æˆ–å‡ºæ¸¸çš„æ„å›¾è¯†åˆ«`ã€‚å°½ç®¡ä¸Šè¿°é—®é¢˜ä¸æ˜¯åŒä¸€ç±»å‹çš„é—®é¢˜ï¼Œä½†å´æ˜¯å¼ºç›¸å…³çš„ã€‚ä¾‹å¦‚ï¼Œå¯¹å¤šä¸ªç”¨æˆ·è€Œè¨€å…·æœ‰ç›¸åŒæ„å›¾çš„å…±åŒå®šä½ç‚¹ï¼Œå¯èƒ½æ˜¯è¯­ä¹‰ä¸Šç›¸å…³è”çš„åœ°æ–¹ï¼Œå› ä¸ºçŸ¥é“æŸä¸ªåœ°æ–¹çš„è¯­ä¹‰å¯¹åˆ†ç±»æ¯ä¸ªæ±½è½¦åœé ç‚¹æ„å›¾æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚\n\né€šå¸¸ï¼Œå¯¹äºä¸Šè¿° `è¯†åˆ«` å’Œ `å½’ç±»` é—®é¢˜çš„è§£å†³æ–¹æ³•åˆ†ä¸¤ä¸ªé˜¶æ®µæ‰§è¡Œï¼š\n\n- `ä¾¦æŸ¥å…´è¶£åœ°ç‚¹`ï¼šé€šå¸¸ä»¥éç›‘ç£çš„æ–¹å¼å®ç°ä½ç½®ä¾¦æŸ¥ $^{[3,4]}$ï¼Œè€Œä½œè€…æå‡ºäº†åŸºäº `DBSCAN` $^{[5\\,or\\,6]}$ çš„ä¿®æ”¹ç‰ˆæœ¬çš„èšç±»ç®—æ³•ï¼Œå³åˆ©ç”¨å±‚æ¬¡èšç±»ä»æ±½è½¦åœé ä½ç½®ä¸­æå–è®¿é—®ç‚¹ã€‚\n\n\t> å½“è¦å¤„ç†éå¸¸å¤§çš„æ•°æ®é›†æ—¶éœ€è¦è€ƒè™‘è®¡ç®—æ€§èƒ½çš„é—®é¢˜ï¼Œå¯å‚è€ƒå…¶ä»–è®ºæ–‡ä¸­çš„æ‰©å±•æ–¹æ³•ï¼Œä¾‹å¦‚å¯¹åœ°ç‚¹åæ ‡è¿›è¡Œå“ˆå¸Œæ•£åˆ—æ³• $^{[7,8]}$ã€‚\n\n- `å¯¹ä¾¦æŸ¥åˆ°çš„åœ°ç‚¹åˆ†ç±»`ï¼šå¯¹æœ‰å…³åœ°ç‚¹æˆ–æ±½è½¦åœé ç‚¹è¿›è¡Œåˆ†ç±»ï¼Œå¯ä»¥åœ¨æ–‡çŒ®ä¸­æ‰¾åˆ°ä¸¤ç§ä¸»è¦æ–¹æ³•ï¼š\n\t- åŸºäºè§„åˆ™çš„ç³»ç»Ÿ $^{[9,10]}$ï¼Œå…¶ä¸»è¦ä¾èµ–äºæ´»åŠ¨çš„ä½ç½®ã€åœŸåœ°åˆ©ç”¨çš„æ•°æ®ä»¥åŠæœºå™¨å­¦ä¹ æ–¹æ³•ï¼Œå³æ´»åŠ¨æœ¬èº«æå–ç‰¹å¾ï¼›\n\t- åˆ©ç”¨ SVM åˆ†ç±»å™¨æ¥åŒºåˆ†æ ‡è¯†ä½ç½®å†…çš„æ´»åŠ¨åœé ç‚¹å’Œéæ´»åŠ¨åœé ç‚¹ã€‚åˆ†ç±»å™¨ (SVMï¼Œéšæœºæ£®æ—æˆ–é€»è¾‘å›å½’) åˆ©ç”¨æ—¶é—´å’Œç©ºé—´ç‰¹å¾ $^{[6]}$ï¼Œä»¥åŠéšé©¬å°”å¯å¤«æ¨¡å‹ (HMM) åˆ©ç”¨æ—¶åºç‰¹å¾æŠŠè¿™äº›æ±½è½¦åœé ç‚¹åˆ†ç±»ä¸ºé¢„å®šä¹‰ç±»å‹ã€‚\n\n        > 1) SVM æå–ä¸‰ä¸ªä¸»è¦ç‰¹å¾ï¼šåœè½¦é©»ç•™æ—¶é—´ï¼Œæ¯ä¸ªæ±½è½¦åœé åœ°æ®µå‘¨å›´çš„ç‚¹åˆ°è´¨å¿ƒçš„å¹³å‡è·ç¦»ã€‚    \n        > 2) åœ°ç‚¹çš„è¯­ä¹‰åˆ†ç±»æ˜¯åŸºäºGPSæ•°æ®å’Œå«æ˜Ÿå›¾åƒçš„ç»„åˆè€Œå®šçš„ $^{[8]}$ã€‚  \n\t\næœ€åè¯´æ˜ï¼Œæœ¬è®ºæ–‡è§£å†³äº†ä¸å‚è€ƒæ–‡çŒ® [7] çš„åŒæ ·é—®é¢˜ï¼Œå³åˆ©ç”¨å››ä¸ªä¸åŒçš„ç‰¹å¾é›†ï¼Œä½¿ç”¨ä¸€ä¸ªéšæœºæ£®æ—åˆ†ç±»å™¨ï¼Œå¯¹å•†ä¸šè½¦é˜Ÿçš„æ±½è½¦åœé æ„å›¾æ•°æ®è¿›è¡Œåˆ†ç±»ã€‚ä¸”æœ¬æ–‡çš„ä¸»è¦è´¡çŒ®å¦‚ä¸‹ï¼š\n\n- æè¿°äº†ä¸€ç§æ–¹æ³•ï¼Œå³ä» GPS Pings (GPS å®šä½ä»ª) ä¸­æå–æ±½è½¦åœé ç‚¹ä¿¡æ¯ï¼Œå¹¶ä»å·¥ä½œçŠ¶æ€åœè½¦ç‚¹ä¸€è§ˆè¡¨ (å·²çŸ¥çš„åœ°ç‚¹ä¿¡æ¯) ä¸­çµ¦å®ƒä»¬åˆ†é…åœ°é¢å®å†µæ ‡ç­¾ (è´´æ ‡ç­¾);\n- åŸºäºå¸¦æ ‡ç­¾çš„æ•°æ®é›†ï¼Œå»ºç«‹äº†ä¸€ä¸ªæ¨¡å‹ï¼Œå¯ä»¥è‡ªåŠ¨åˆ†ç±»æ±½è½¦åœé ç‚¹ï¼Œå³å·¥ä½œçŠ¶æ€å’Œéå·¥ä½œçŠ¶æ€çš„åœé ç‚¹;\n- æä¾›äº†ä¸¥æ ¼è¯„ä¼°çš„å¤šç±»å‹ç‰¹å¾é›†ï¼Œä¾¿äºæˆ‘ä»¬å¤„ç†ä¸åŒé—®é¢˜ï¼Œå…¶ä¸­åŒ…æ‹¬ï¼š\n\t- æ±½è½¦åœé ç‚¹ç‰¹å¾ (Stop-wise featuresï¼ŒSWF)ï¼›\n\t- å…´è¶£ç‚¹ç‰¹å¾ (Points of interest featuresï¼ŒPOIF)ï¼›\n\t- åœé ç‚¹é›†ç¾¤ç‰¹å¾ (Stop Clusterï¼ŒCF)ï¼›\n\t- åºåˆ—ç‰¹å¾ (Sequential featuresï¼ŒSeqF).\n\n### æ–¹æ³•\n\n#### GPSå’Œå·¥å•æ•°æ®\n- æœ¬è®ºæ–‡é‡‡ç”¨çš„æ•°æ®é›†ç”± Fleetmatics å…¬å¸ (è½¦é˜Ÿæƒ…æŠ¥å…¬å¸) æä¾›ã€‚\n- é‡‡é›†çš„æ•°æ®æœ‰ä¸¤ç§ç±»å‹ï¼Œåˆ†åˆ«æ˜¯`åŸå§‹ GPS pings æ•°æ®` å’Œ `å·¥å•æ•°æ®`ã€‚\n\t- åŸå§‹ GPS Pings æ•°æ®\n\t\t- æä¾›æœ‰å…³è½¦è¾†ä½ç½®çš„ä¿¡æ¯ï¼Œå·¥å•çŠ¶æ€çš„ä¿¡æ¯ï¼Œæœ‰å…³å¸æœºæ‰§è¡Œçš„å·¥ä½œè¿›åº¦åŠè¿›åº¦ä¿¡æ¯ï¼›\n\t\t- è®¾å®šæœ‰ä¸€ç³»åˆ—çš„ GPS Pings $\\{P_i\\}_{i=1}^n = \\{P_1, ..., P_n\\}$ åˆ†åˆ«æè¿°æ¯è¾†è½¦è¡Œé©¶çš„è·¯çº¿ã€‚\n\t\t- æ¯ä¸€ä¸ª GPS Ping $P_i$ åŒ…å«æ¯è¾†è½¦çš„çŠ¶æ€ä¿¡æ¯ï¼Œå³æœ‰è½¦è¾† ID $v_i$ï¼Œç»åº¦å’Œçº¬åº¦ (ä½ç½®ä¿¡æ¯ $p_i$)ï¼Œé‡Œç¨‹è¡¨ $d_i$ï¼Œæ—¶é—´æˆ³ $t_i$ å’Œ äº‹ä»¶ä»£ç  $e_i$ã€‚\n\t- å·¥å•æ•°æ®\n\t\t- è®¾å®šæœ‰ä¸€ç³»åˆ—çš„å·¥å• $\\{W_i\\}_{i=1}^n = \\{W_1, ..., W_n\\}$ã€‚\n\t\t- æ¯ä¸€ä¸ªå·¥å•åŒ…å«çš„ä¿¡æ¯æœ‰ï¼šè½¦è¾† ID $v_i$ï¼Œç»åº¦å’Œçº¬åº¦ (ä½ç½® $p_i$)ï¼Œæ—¶é—´æˆ³ $t_i$ å’Œ çŠ¶æ€ä»£ç  $c_i$ (ä¾‹å¦‚ï¼šæŒ‚èµ·ï¼Œå¯åŠ¨ï¼Œå®Œæˆ)ã€‚\n\n#### è½¦è¾†åœé ä¾¦æŸ¥æŠ€æœ¯\næ­£å¦‚ä¸Šè¿°æ‰€æè¿°çš„ï¼Œå…³äºç¬æ—¶è½¦è¾†ä½ç½®çš„åŸå§‹æ•°æ®æ˜¯ç”± GPS Ping ç»„æˆçš„ï¼Œå°†å®ƒä»¬æ±‡é›†èµ·æ¥ä»¥æè¿°è½¦è¾†çš„æ´»åŠ¨ã€‚ä¸ºæ­¤æœ¬è®ºæ–‡å¼€å‘äº†ä¸€ä¸ª `æ—¶ç©ºèšç±»ç¨‹åº`ã€‚\n\n- é¦–å…ˆå¾—ä¸ºæ¯ä¸ª GPS ä¿¡æ¯åˆ†é…ä¸€ç§çŠ¶æ€ç±»å‹ (Engine offï¼ŒiDlingï¼ŒJourney)ï¼Œç„¶åæŠŠå®ƒä»¬èšé›†æˆ GPS Ping ç¾¤ç»„ï¼Œå¹¶æŠŠè¿™ä¸ª GPS Ping ç¾¤ç»„ç§°ä¸º `æ±½è½¦åœé ç‚¹é›†`ã€‚\n- GPS Ping çš„çŠ¶æ€å¯åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼š\n\t- `Engine Off (å‘åŠ¨æœºå…³é—­çŠ¶æ€)`ï¼šå‘åŠ¨æœºå…³é—­äº‹ä»¶ã€‚å³è¿™äº› Ping åœ¨å‘åŠ¨æœºå…³é—­çš„ç¬é—´äº§ç”Ÿçš„ (å½“å‘åŠ¨æœºå¤„äºå…³é—­çŠ¶æ€æ—¶ä¸å‘é€ Ping);\n\t- `iDling (ç©ºè½¬/æ€ é€ŸçŠ¶æ€)`ï¼šå‘åŠ¨æœºå¤„äºå¼€å¯çŠ¶æ€ï¼Œä½†è½¦è¾†é™æ­¢æˆ–è½¦è¾†åœ¨å°åŒºåŸŸå†…ä»ç„¶ç¼“æ…¢è¡Œé©¶ã€‚å¯¹äºåè€…ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä½œä¸€äº›çº¦æŸï¼Œè®¾å®š $H(p_i,p_{i-1})$ è¡¨ç¤ºä¸¤ç‚¹é—´çš„åŠæ­£å®šè·ç¦»ã€‚ç„¶åï¼Œå¯¹äºç»™å®šè½¦è¾†ç»™äºˆä¸€å¯¹è¿ç»­çš„ Ping $P_{i-1}\\,and\\,P_i$ï¼Œä¸”æ»¡è¶³ä»¥ä¸‹çº¦æŸï¼Œåˆ™å¯å®šä¹‰ä¸ºæ€ é€Ÿï¼š\n\t\t- $s_i = H(p_i,p_{i-1})\\,/\\,(t_i - t_{i-1}) \\leq 1.4\\,m/s\\,(5km/h)$ï¼Œç¡®å®šé€Ÿåº¦æ¥è¿‘é›¶ï¼›\n\t\t- $H(p_i,p_{i-1}) \\leq 150\\,m$ï¼Œç¡®ä¿ $P_{i-1}\\,and\\,P_i$ è¶³å¤Ÿæ¥è¿‘ï¼Œä¸”é¿å…äº†ç”±äºä¸¢å¤±æ•°æ®è€Œäº§ç”Ÿçš„ `ä¼ªå½±`ã€‚\n\t- `Journey (è¡Œé©¶çŠ¶æ€)`ï¼šå³ä¸æ˜¯å‘åŠ¨æœºå…³é—­çŠ¶æ€ï¼Œä¹Ÿä¸æ˜¯æ€ é€ŸçŠ¶æ€ã€‚\n- å½“ Ping è¢«åˆ†ç±»åï¼Œä»¥æ¯è¾†è½¦ä¸ºå•ä½ï¼ŒæŒ‰æ—¶é—´é¡ºåºæ’åºï¼›å¹¶æŠŠæ‰€æœ‰è¿ç»­çš„æ€ é€ŸçŠ¶æ€å’Œå‘åŠ¨æœºå…³é—­çŠ¶æ€çš„ Ping èšé›†æˆé›†ç¾¤ (å¹¶ä¸ä¼šè¢«å…¶ä¸­ Journey çŠ¶æ€çš„ Ping çµ¦åˆ†å‰²å¼€æ¥)ã€‚\n- ç”±äºä¸¢å¤±æ•°æ®ï¼Œå¯¼è‡´ä¸€ç»„è¿ç»­çš„æ€ é€ŸçŠ¶æ€ Ping å½¼æ­¤ç›¸å¯¹è¾ƒè¿œåœ°åˆ†å¸ƒå¼€æ¥ã€‚æ•…æˆ‘ä»¬å¾—é‡æ–°æ‰§è¡Œ `æ—¶é—´-ç©ºé—´` çš„çº¦æŸæ¡ä»¶ ($s_i \\leq 1.4\\,m/s$ and $H(p_i,p_{i-1}) \\leq 150\\,m$)ã€‚\n\n\t> æ— æ³•æ»¡è¶³çº¦æŸæ¡ä»¶ï¼šå³ä¸€ç»„è¿ç»­çš„æ€ é€ŸçŠ¶æ€ Ping å°†è¢«åˆ†éš”å¾—å¾ˆè¿œï¼Œå…¶ä¸­çš„ Journey çŠ¶æ€çš„ Ping éƒ½ç»™ä¸¢å¤±äº†ã€‚ \n\t\n- ä»¥è¿™ç§æ–¹å¼åˆ›å»ºçš„ `Pings é›†ç¾¤` ä»£è¡¨æˆ‘ä»¬æƒ³è¦åˆ†ç±»çš„ `å·²è¯†åˆ«çš„æ±½è½¦åœé ç‚¹`ã€‚ç»¼ä¸Šæ‰€è¿°ï¼Œæ±½è½¦åœé ç‚¹è¢«å®šä¹‰ä¸ºæŒ‰æ—¶é—´é¡ºåºæ’åºçš„ Ping  é›†ç¾¤ (åŒ…å«æ€ é€ŸçŠ¶æ€æˆ–å‘åŠ¨æœºå…³é—­çŠ¶æ€çš„ Pingï¼Œå¹¶ä¸”æ»¡è¶³è¿›ä¸€æ­¥çš„ `æ—¶é—´-ç©ºé—´` å¾—çº¦æŸæ¡ä»¶ã€‚\n- æ¯ä¸ª `æ±½è½¦åœé ç‚¹` éƒ½æœ‰å‡ ä¸ªç‰¹æ€§ (é€šè¿‡è®¡ç®—å…¶ä¸­çš„ Ping)ï¼šPing çš„æ•°é‡ï¼Œåœé ç‚¹çš„èµ·ç‚¹å’Œç»ˆç‚¹ (å±äºè¯¥åœé ç‚¹çš„ Ping çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªæ—¶é—´æˆ³)ï¼Œé©»ç•™æ—¶é—´ (å±äºè¯¥åœé ç‚¹çš„èµ·å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´) å’Œå½¢çŠ¶ (ç”±GPSæ¶ˆæ¯çš„æœ€å¤§ (æœ€å°) çº¬åº¦/ç»åº¦åæ ‡å®šä¹‰)ã€‚\n- æ‰€æœ‰è¿™äº›ä¿¡æ¯å¯¹äºåœ¨ç¬¬äºŒé˜¶æ®µæå–ç‰¹å¾å·¥ä½œè‡³å…³é‡è¦ï¼Œå³æ±½è½¦åœé ç‚¹æ„å›¾çš„åˆ†ç±»ã€‚\n\n#### è´´æ ‡ç­¾\n- é¦–å…ˆï¼Œå¯¹ä¸Šè¿°ç¨‹åºä¸­è·å¾—çš„æ±½è½¦åœé ç‚¹åˆ†é… `åœ°é¢å®å†µæ ‡ç­¾`ï¼›å†è€…ï¼Œå°†å®ƒä»¬ä¸ `å·¥å•æ•°æ®` è¿›è¡ŒåŒ¹é…ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œè‹¥è½¦è¾†åœç•™ç‚¹åœ¨æ—¶é—´ä¸Šå’Œç©ºé—´ä¸Šä¸å·¥å•æ•°æ® $W_i$ ç›¸åŒ¹é…ï¼Œåˆ™å¯è®¤ä¸ºè¯¥æ±½è½¦åœé ç‚¹å³ä¸ºæŸä¸€å·¥å•æ•°æ®ã€‚\n\t- å¯¹äºåªåŒ…å« idling å’Œ engine off Pings çš„åœé ç‚¹ï¼Œæˆ‘ä»¬è®¤ä¸ºå®ƒæ»¡è¶³ç©ºé—´ä¸Šçš„åŒ¹é…ã€‚\n\t- å¯¹äºä»»ä½•å·¥å•ï¼Œç©ºé—´ä¸ŠåŒ¹é…äº†åœç•™ç‚¹ï¼›å¦‚æœåœç•™ç‚¹çš„é©»ç•™æ—¶é—´ä¸å·¥å•çš„æ—¶é—´é¡¹ (æŒ‡ç¤ºä½œä¸šå·²å¯åŠ¨çš„æ—¶é—´å’ŒæŒ‡ç¤ºæœåŠ¡å·²ç»“æŸçš„æ—¶é—´) é—´éš”ç›¸äº¤ï¼Œæ—¶é—´çš„åŒ¹é…ä¹Ÿéšç€æ»¡è¶³ã€‚\n\n#### åˆ†ç±»ç‰¹å¾\nåœ¨ `è½¦è¾†åœé ä¾¦æŸ¥æŠ€æœ¯` ç« èŠ‚ä¸­æè¿°çš„ï¼Œä»ä¸€ç³»åˆ—çš„ GPS Pings æå–æ±½è½¦åœé ç‚¹ï¼Œå¹¶ä»ä¸­æå– 100 ä¸ªä¸åŒçš„ç‰¹å¾ç”¨äºè®­ç»ƒéšæœºæ£®æ—æ¨¡å‹ï¼Œéšä¹‹å°†è¿™äº›ç‰¹å¾åˆ’åˆ†ä¸º 4 ä¸ªä¸åŒçš„ç»„ï¼š\n\n- æ±½è½¦åœé ç‚¹ç‰¹å¾ ( Stop-wise featuresï¼ŒSWF )ï¼š\n\t- é©»ç•™æ—¶é—´ï¼š(æ±½è½¦) åœé ç‚¹ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ª Ping çš„æ—¶é—´å·®ã€‚\n\t- å¼€å§‹æ—¶é—´ç‰¹å¾ï¼šä¸€å¤©ä¸­çš„å°æ—¶ï¼Œä¸€å‘¨ä¸­çš„æŸå¤©ï¼ŒæŸæœˆæŸæ—¥ï¼ŒæŸå¹´æŸæ—¥ã€‚\n\t- å…³é—­å¼•æ“æ‰€èŠ±è´¹çš„æ—¶é—´ï¼šå¯¹äºæ¯ä¸€ä¸ªå¼•æ“å…³é—­äº‹ä»¶ï¼Œæˆ‘ä»¬è®¡ç®—å½“å‰ Ping ä¸å‰ä¸€ä¸ªéå¼•æ“å…³é—­çŠ¶æ€çš„ Ping ä¹‹é—´çš„æ—¶é—´å·®ï¼Œä»¥è¡¨ç¤ºå¼•æ“å¯åŠ¨çš„æ—¶é—´ã€‚ç”±äºæ¯ä¸ªåœé ç‚¹åŒ…å«å¤šä¸ªå¼•æ“å…³é—­çŠ¶æ€çš„ Pingï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨å‡ ä¸ªèšåˆå‡½æ•°èšåˆå–å¾—ç»“æœã€‚\n\t- å½¢çŠ¶ï¼šåœé ç‚¹çš„å®½åº¦ã€é«˜åº¦ã€é¢ç§¯ã€æ¯”ä¾‹ã€‚\n\t- åœé ç‚¹ç±»å‹ï¼šå‘åŠ¨æœºå…³é—­çŠ¶æ€ã€‚\n\t- åœé ç‚¹ä¸­å‘åŠ¨æœºå…³é—­çŠ¶æ€ Ping çš„æ•°é‡ã€‚\n\t- é‡Œç¨‹è¡¨è·ç¦»ï¼šä»ç¬¬ä¸€æ¬¡ Ping åˆ°æœ€åä¸€æ¬¡ Pingã€‚\n\t- åœé ç‚¹å†… Ping çš„æ€»æ•°ã€‚\n\t- å¹³å‡é€Ÿåº¦ (æ ¹æ®åœç•™ç‚¹ä¸­ç¬¬ä¸€æ¬¡å’Œæœ€åä¸€æ¬¡ Ping ä¹‹é—´çš„é‡Œç¨‹å·®é™¤ä»¥é©»ç•™æ—¶é—´è®¡ç®—æ‰€å¾—)ã€‚\n- å…´è¶£ç‚¹ç‰¹å¾ ( Points of interest featuresï¼ŒPOIF)ï¼šåˆ©ç”¨ `PTV xLocate Server` ä¸­æå–ä»¥ä¸‹ POI ç±»å‹ï¼š\n\t- é“¶è¡Œ;\n\t- å¤§å­¦;\n\t- é…’åº—;\n\t- é¤å…;\n\t- ä¼‘æ¯åŒº;\n\t- æ‚è´§åº—;\n\t- å­¦æ ¡;\n\t- è´­ç‰©ä¸­å¿ƒ;\n\t- æ±½æ²¹;\n\t- å¼€æ”¾å¼åœè½¦åœº;\n- æ±½è½¦åœé ç‚¹é›†ç¾¤ç‰¹å¾ ( Stop cluster featuresï¼ŒCF )ï¼šå…¶åŸç†æ˜¯å­˜åœ¨ä¸€äº›å·¥å•æ•°æ®å’Œéå·¥å•æ•°æ®è¶‹å‘äºèšç±»æˆç°‡ï¼Œç±»ä¼¼äº [7] ä¸­æå‡ºçš„ç†µåº¦é‡æ–¹æ³•ï¼šå¯¹äºæ¯ä¸ªåœé ç‚¹ï¼ŒæŸ¥çœ‹å¹¶æ”¶é›† 250 ç±³åŠå¾„å†…çš„å‘¨è¾¹ç¯ç»•çš„åœé ç‚¹æ•°æ®ã€‚\n\t- è½¦è¾†ç†µï¼Œè®¡ç®—å…¬å¼ä¸ºï¼š\n\n\t$$E_v = - \\sum_{\\nu \\in V} \n\t\t\\frac{n_{\\nu}}{N} ln(\\frac{n_{\\nu}}{N})\n\t\t\\tag{1}\n\t$$\n\t\n\t> $V$ æ˜¯è½¦é˜Ÿä¸­çš„è½¦è¾†é›†åˆï¼Œ $N$ æ˜¯ 250 ç±³åŠå¾„èŒƒå›´å†…è½¦é˜Ÿæ‰€æœ‰è½¦è¾†çš„æ€»åœç•™ç‚¹æ•°ï¼Œ$n_{\\nu}$ æ˜¯è½¦è¾† $\\nu$ åœ¨åŒä¸€åŒºåŸŸåœé çš„æ€»æ¬¡æ•°ã€‚è¿™ä¸ªç†µåº¦é‡ç»™å‡ºäº†ä¸€ä¸ªåŒºåŸŸå†…åŒä¸€è½¦é˜Ÿè½¦è¾†çš„å¤šæ ·æ€§ã€‚\n\t\n\t- ç°‡ä¸­æ±½è½¦åœé ç‚¹çš„å¹³å‡ï¼Œæ€»å’Œï¼Œæœ€å¤§å’Œæœ€å°é©»ç•™æ—¶é—´ã€‚\n\t- é‚»è¿‘æ±½è½¦åœé ç‚¹çš„æ•°é‡ (åœ¨å…¶è´¨å¿ƒ250ç±³åŠå¾„ä»¥å†…)ã€‚\n\t\n- åºåˆ—ç‰¹å¾ (Sequential featuresï¼ŒSeqF).\n\n## ä¸è¶³\n\n- åœ¨è½¦è¾†åœé ç‚¹ä¾¦æŸ¥æŠ€æœ¯ç« èŠ‚ä¸­ï¼Œä½¿ç”¨çš„æ˜¯éç›‘ç£æ–¹å¼çš„ç®—æ³•ï¼Œå³åŸºäºå¯†åº¦çš„ DBSCAN èšç±»ç®—æ³•ã€‚å…¶ä¸­æ¶‰åŠå¯†åº¦é˜ˆå€¼çš„è®¾å®šå¤šå°‘é—®é¢˜ï¼Œå°±éœ€è¦å¯¹å…·ä½“æ ·æœ¬é‡è¿›è¡Œè€ƒç©¶æ‰èƒ½å†³å®šã€‚\n\n## å‚è€ƒ\n[1] Horozov T, Narasimhan N, Vasudevan V. Using location for personalized POI recommendations in mobile environments [C]//Applications and the internet, 2006. SAINT 2006. International symposium on. IEEE, 2006: 6 pp.-129.  \n[2] Jiang K, Yin H, Wang P, et al. Learning from contextual information of geo-tagged web photos to rank personalized tourism attractions [J]. Neurocomputing, 2013, 119: 17-25.\n[3] Palma A T, Bogorny V, Kuijpers B, et al. A clustering-based approach for discovering interesting places in trajectories [C]//Proceedings of the 2008 ACM symposium on Applied computing. ACM, 2008: 863-868.  \n[4] Gong L, Sato H, Yamamoto T, et al. Identification of activity stop locations in GPS trajectories by density-based clustering method combined with support vector machines [J]. Journal of Modern Transportation, 2015, 23(3): 202-213.  \n[5] Ester M, Kriegel H P, Sander J, et al. A density-based algorithm for discovering clusters in large spatial databases with noise [C]//Kdd. 1996, 96(34): 226-231.  \n[6] Lv M, Chen L, Xu Z, et al. The discovery of personally semantic places based on trajectory data mining [J]. Neurocomputing, 2016, 173: 1142-1153.  \n[7] Gingerich K, Maoh H, Anderson W. Classifying the purpose of stopped truck events: An application of entropy to GPS data [J]. Transportation Research Part C: Emerging Technologies, 2016, 64: 17-27.  \n[8] Sambo F, Salti S, Bravi L, et al. Integration of GPS and satellite images for detection and classification of fleet hotspots [C]//Intelligent Transportation Systems (ITSC), 2017 IEEE 20th International Conference on. IEEE, 2017: 1-6.  \n[9] Wolf J, Guensler R, Bachman W. Elimination of the travel diary: Experiment to derive trip purpose from global positioning system travel data [J]. Transportation Research Record: Journal of the Transportation Research Board, 2001 (1768): 125-134.  \n[10] Bohte W, Maat K. Deriving and validating trip purposes and travel modes for multi-day GPS-based travel surveys: A large-scale application in the Netherlands [J]. Transportation Research Part C: Emerging Technologies, 2009, 17(3): 285-297.  ","tags":["ç‰¹å¾æå–"],"categories":["Paper"]},{"title":"è®ºæ–‡ | é€šè¿‡é™ç»´æ–¹æ³•è‡ªåŠ¨åˆ†ç±»ç»†èƒè¡¨è¾¾","url":"%2F2018%2F06%2FAutomatic-classification-of-cellular-expression-by-nonlinear-stochastic-embedding.html","content":"\n{% note default %}\nåŸæ–‡ï¼šAutomatic classification of cellular expression by nonlinear stochastic embedding (ACCENSE)  \nä½œè€…ï¼šKarthik Shekhar, Petter Brodin, Mark M.Davis and Arup K.Chakraborty.  \næ¥æºï¼šProceedings of the National Academy of Sciences (PNAS), 2014, 111(1): 202-207.  \n{% endnote %}\n\n## æ‘˜è¦\n\nè´¨è°±æµå¼ç»†èƒæŠ€æœ¯ ( Mass cytometry ) èƒ½å¤Ÿåœ¨å•ç»†èƒæ°´å¹³ä¸Šè¯†åˆ«åˆ°è¿‘ 40 ç§ä¸åŒçš„è›‹ç™½è´¨ï¼Œå³æä¾›å‰æ‰€æœªæœ‰çš„å¤šç»´ä¿¡æ¯ã€‚ç”±äºå„å¼å„æ ·çš„ç»†èƒç§ç¾¤æ•°æ®é›†çš„å¤æ‚æ€§ï¼Œè¦æ”¶é›†æœ‰ç”¨çš„ç”Ÿç‰©å­¦çŸ¥è¯†å¯¹è®¡ç®—å·¥å…·ä¹Ÿæœ‰æ–°çš„è¦æ±‚ã€‚å›é¡¾ä¹‹å‰çš„èšç±»æ–¹æ³•ï¼Œèšç±»éœ€è¦ç‰¹å¾ ( ç»´åº¦ )ï¼Œè€Œæ¯ä¸€ç§è›‹ç™½è´¨ ( ç»†èƒè¡¨å¾ç”±ä¸åŒè›‹ç™½è´¨è¡¨ç¤º ) å¯å½“ä½œä¸€ç§ç‰¹å¾ï¼Œèšç±»ç®—æ³•å°±ä¼šè‡ªåŠ¨è¯†åˆ«ä¸åŒç±»å‹çš„ç°‡ç¾¤ï¼Œå³å¯¹äºä¸åŒåŠŸèƒ½çš„ç»†èƒè¯†åˆ«æ˜¯åŸºäºç»†èƒè¡¨å¾ç›¸ä¼¼æ€§æ¥å®ç°åŒºåˆ†çš„ã€‚å½“ç„¶ï¼Œç»å…¸æ–¹æ³•å­˜åœ¨ä¸€å®šå±€é™æ€§ï¼Œä¾‹å¦‚å•ç»†èƒåˆ†è¾¨ç‡çš„æŸå¤± ( ç‰¹å¾æˆ–ç»´åº¦çš„å‡å°‘ )ï¼›ç»å…¸æ–¹æ³•éœ€è¦é¢„çŸ¥ç°‡ä¸­çš„å¯¹è±¡æ•°é‡ ( æœ¬æ–‡ä¸­æŒ‡ç»†èƒäºšç¾¤çš„è§„æ¨¡æ•°é‡ )ã€‚\n\n<!-- More -->\n\nè€Œè¯¥è®ºæ–‡å¼•å…¥ `ACCENSE` ( Automatic classification of cellular expression by nonlinear stochastic embedding ) é«˜ç»´å•ç»†èƒæ•°æ®åˆ†æå·¥å…·ï¼š\n\n- åŸºäºå¯†åº¦åˆ’åˆ†çš„éçº¿æ€§é™ç»´æ–¹æ³•ï¼Œé™ç»´æ–¹æ³•é‡‡ç”¨ `t-Distributed Stochastic Neighbor Embedding (t-SNE)` ç®—æ³• $^{[1]}$ã€‚\n- è¯¥ç®—æ³•éå¸¸é€‚åˆäºæ¢ç´¢æ€§æ•°æ®åˆ†æï¼ŒåŒæ—¶é¿å…ä»»ä½•æ‰‹åŠ¨ `é˜€é—¨(é˜ˆå€¼)` çš„éœ€è¦ï¼Œå³æœ‰åˆ«äºåŸºäºè·ç¦»çš„æ–¹æ³• ( ç¦»ç¾¤ç‚¹åˆ¤å®š )ã€åŸºäºå¯†åº¦çš„æ–¹æ³• ( å¯†åº¦é˜ˆå€¼è®¾å®š )ã€‚\n- åŒ–ç¹ä¸ºç®€ï¼Œåœ¨äºŒç»´æˆ–ä¸‰ç»´å›¾ä¸Šå±•ç¤ºä¸åŒåŠŸèƒ½çš„å¤šå…ƒç»†èƒç¾¤ã€‚\n\nå†æœ‰ï¼Œæœ¬è®ºæ–‡å°† ACCENSE åº”ç”¨äº 35 å‚æ•°çš„è´¨è°±æµå¼ç»†èƒæŠ€æœ¯ï¼Œæ£€æµ‹ CD8+ T ç»†èƒçš„æ•°é‡ ( æ•°æ®æ¥è‡ªäºç‰¹å®šçš„æ— ç—…åŸå’Œæ— èŒå°é¼  )ï¼Œå¹¶å°†ç»†èƒåˆ†å±‚åˆ°è¡¨å‹äºšç¾¤ä¸­ã€‚éœ€è¦è¯´æ˜çš„æ˜¯ï¼Œå¯¹äºå…·ä½“çš„èšç±»ç®—æ³•ã€é™ç»´ç®—æ³•ä¸­ï¼Œ**ç‰¹å®šçš„ç¬¦å·åç§°ä¼šä»¥å…·ä½“çš„å¯¹è±¡åç§°æ›¿ä»£**ã€‚\n\n## æ­£æ–‡\n\n### èƒŒæ™¯ä»‹ç»\n- å…ç–«ç³»ç»ŸåŒ…å«äº†è®¸å¤šç±»å‹çš„ç»†èƒï¼Œå®ƒä»¬åœ¨å…ç–«åº”ç­”è¿‡ç¨‹ä¸­è¡¨ç°å‡ºå¤šæ ·åŒ–çš„åŠŸèƒ½å’Œå¤æ‚æ–¹å¼çš„ç›¸äº’ä½œç”¨ï¼Œå³é€šè¿‡ä¸åŒè›‹ç™½è´¨çš„è¡¨å¾æ‰€å®šä¹‰ï¼Œæ•…ä¸ªä½“ç»†èƒçš„åŠŸèƒ½ä¸å…¶ç»†èƒè¡¨å‹å¯†åˆ‡ç›¸å…³ã€‚è¿™é‡Œå¯ç¤ºæˆ‘ä»¬ï¼Œå¯¹äºä¸åŒåŠŸèƒ½çš„ç»†èƒå¯é€šè¿‡ç»†èƒè¡¨å‹ç›¸ä¼¼æ€§è¿›è¡Œèšç±»åŒºåˆ†ã€‚\n\n- ä¼ ç»Ÿæµå¼ç»†èƒæŠ€æœ¯å’Œè´¨è°±æµå¼ç»†èƒæŠ€æœ¯çš„åŒºåˆ«ï¼š\n\t- ä¼ ç»Ÿæµå¼ç»†èƒæŠ€æœ¯ ( Flow Cytometry ) $^{[2]}$ ä¸­ï¼Œç”¨ `è§å…‰åŸºå› ` æ ‡è®°çš„æŠ—ä½“æŸ“è‰²ï¼Œå…¶é€šè¿‡å•ç»†èƒåˆ†è¾¨ç‡çš„å…‰å‘å°„ä¿¡å·å¯¹é¶æ ‡è›‹ç™½è¿›è¡Œé‡åŒ–ã€‚ä¸”ç”±äºæœ‰é™çš„å…‰è°±å’Œé‡å çš„å‘å°„ä¿¡å·ï¼Œæ¯ä¸ªç»†èƒé™åˆ¶ä¸º 12-16 ä¸ªå‚æ•°è¿›è¡Œé‡åŒ–ã€‚\n\n\t- è´¨è°±æµå¼ç»†èƒæŠ€æœ¯ ( Mass Cytometry ) $^{[3]}$ ï¼Œä½¿ç”¨ `é‡‘å±è¯åˆæ¢é’ˆ` å¯å¯¹å•ä¸ªç»†èƒå¤šè¾¾ 42 ä¸ªå‚æ•°çš„è¿›è¡Œé‡åŒ–ã€‚\n\n\t- ä¼ ç»Ÿæµå¼ç»†èƒæŠ€æœ¯å’Œè´¨è°±æµå¼ç»†èƒæŠ€æœ¯ç›¸æ¯”ï¼Œä¸»è¦æœ‰ä¸¤ç‚¹ä¸åŒï¼š  \n\t\t- æ ‡ç­¾ç³»ç»Ÿçš„ä¸åŒï¼Œå‰è€…ä¸»è¦ä½¿ç”¨å„ç§è§å…‰åŸºå›¢ä½œä¸ºæŠ—ä½“çš„æ ‡ç­¾ï¼Œåè€…åˆ™ä½¿ç”¨å„ç§é‡‘å±å…ƒç´ ä½œä¸ºæ ‡ç­¾ï¼›  \n\t\t- æ£€æµ‹ç³»ç»Ÿçš„ä¸åŒï¼Œå‰è€…ä½¿ç”¨æ¿€å…‰å™¨å’Œå…‰ç”µå€å¢ç®¡ï¼Œè€Œåè€…ä½¿ç”¨ ICP è´¨è°±æŠ€æœ¯ã€‚ \n\n### èšç±»ç®—æ³•\n- ç”± `è´¨è°±æµå¼ç»†èƒæŠ€æœ¯äº§ç”Ÿçš„é«˜ç»´æ•°æ®`ï¼Œä»¥ç”Ÿç‰©å­¦çš„æ–¹å¼è§£é‡Šæ˜¯å…·æœ‰æŒ‘æˆ˜æ€§çš„ã€‚ç„¶è€Œï¼Œå¾ˆå¤šèšç±»å·¥å…·æ˜¯åŸºäºç»†èƒçš„è›‹ç™½è¡¨è¾¾ç›¸ä¼¼æ€§è¿›è¡Œç»†èƒåˆ†ç±»çš„ï¼Œ\n- ä¾‹å¦‚ï¼Œ`SPADE ç®—æ³•` $^{[4,5]}$ ä½¿ç”¨å¤šå…ƒä¿¡æ¯å®šä¹‰ç»†èƒç°‡ï¼Œå¹¶åœ¨æ ‘çŠ¶ç»“æ„ä¸­æ˜¾ç¤ºæ½œåœ¨çš„è¡¨å‹å±‚æ¬¡ç»“æ„ã€‚ä½†å°šæœ‰ä¸è¶³ä¹‹å¤„ï¼š\n\t- ä¸€æ˜¯å•ç»†èƒåˆ†è¾¨ç‡çš„æŸå¤±ï¼›\n\t- äºŒæ˜¯å¯¹ç›®æ ‡é›†ç¾¤æ•°é‡çš„éœ€è¦é¢„çŸ¥ã€‚\n\n### é™ç»´ç®—æ³•\n\n> å…³äº `é™ç»´ç®—æ³•` åœ¨å¦å¤–ä¸€ç¯‡åšæ–‡ä¹Ÿæœ‰æåŠï¼Œä¸å¦¨å‚è€ƒå­¦ä¹ ï¼š[åˆ©ç”¨ t-SNE é™ç»´å¹¶å¯è§†åŒ–æ•°æ®](https://www.kofes.cn/2018/11/The-Best-Way-to-Visualize-a-Dataset-Easily.html)ã€‚\n\n- åŒæ ·ï¼Œé™ç»´ç®—æ³•ä»¥ç»†èƒè¡¨å¾ ( ç”±ä¸åŒè›‹ç™½è´¨è¡¨ç¤º ) çš„ç›¸ä¼¼æ€§ä¸ºä¾æ®ï¼ŒæŠŠç©ºé—´ç»„ç»‡çš„ç»†èƒç¾¤åœ¨ä½ç»´ç©ºé—´ä¸Šèšç±»æˆä¸åŒçš„ç»†èƒäºšç¾¤ã€‚ä»¥ä¸‹ç½—åˆ—ä¸€äº›å¸¸è§çš„é™ç»´ç®—æ³•ã€‚\n- `PCA ç®—æ³•`ï¼šPCA é™ç»´çš„å¤§è‡´æ€æƒ³å°±æ˜¯ï¼ŒæŒ‘é€‰ç‰¹å¾æ˜æ˜¾çš„ã€æ˜¾å¾—æ¯”è¾ƒé‡è¦çš„ä¿¡æ¯ä¿ç•™ä¸‹æ¥ã€‚åœ¨æœ¬è®ºæ–‡ä¸­ï¼ŒNewell ç­‰äººå°†ä¸»æˆåˆ†åˆ†æ ( Principal component analysisï¼ŒPCA ) åº”ç”¨äº 25 å‚æ•°çš„è´¨è°±æµå¼ç»†èƒæŠ€æœ¯ï¼Œæ£€æµ‹äººçš„ CD8+ T ç»†èƒçš„æ•°é‡ï¼Œä¸”ä½¿ç”¨å‰ä¸‰ç§ä¸»æˆåˆ† ( 3D-PCA ) åˆ†ç¦»ç»†èƒäºšç¾¤ã€‚3D-PCA ä»¥ä¸‰ä¸ªæ±‡æ€»å˜é‡è¡¨ç¤ºæ•°æ®ï¼Œæ¯ä¸ªæ±‡æ€»å˜é‡éƒ½æ˜¯åŸå§‹ç»´åº¦çš„ `çº¿æ€§ç»„åˆ`ï¼Œå¹¶å»æ•è·æŠ•å½±åæ•°æ®çš„æ–¹å·®ï¼Œç›´è‡³å…¶å–å€¼ä¸ºæœ€å¤§å€¼ã€‚ç„¶è€Œï¼ŒPCA èƒ½åœ¨æ•°æ®ä¸­æ‰€æœ‰çš„å¯èƒ½çº¿æ€§ç»„åˆä¸­æ‰¾åˆ°æœ€ä¼˜è¡¨è¾¾ï¼Œä½†ä¹Ÿå­˜åœ¨é™åˆ¶æ¡ä»¶ï¼šçº¿æ€§æŠ•å½±å¯èƒ½å¤ªä¸¥æ ¼è€Œä¸èƒ½äº§ç”Ÿç²¾ç¡®çš„è¡¨ç¤º $^{[6]}$ï¼Œæ•…ä½œè€…å¼•å…¥ t-SNE ç®—æ³•ç»§ç»­å±•å¼€ç ”ç©¶ã€‚\n- `t-SNE ç®—æ³•` $^{[7]}$ï¼št-Distributed Stochastic Neighbor Embeddingï¼Œæ•°æ®é™ç»´ä¸å¯è§†åŒ–çš„æ–¹æ³•ï¼Œå…·ä½“çš„ç®—æ³•ç»†èŠ‚å¦‚ä¸‹ï¼š\n\t- è®© $\\{x^{(i)}\\}$ è¡¨ç¤ºå½’ä¸€åŒ–çš„ N ç»´è›‹ç™½è´¨è¡¨è¾¾å‘é‡ç¼–ç çš„ç»†èƒè¡¨å‹ i ( i=1, 2, ..., M )ã€‚\n\t- è‹¥åœ¨ 2D å¹³é¢å›¾ä¸‹ï¼Œ$\\{y^{(i)}\\}$ å‘é‡æ˜¯é«˜ç»´å‘é‡ $\\{x^{(i)}\\}$ å¯¹åº”äºä½ç»´çš„æ˜ å°„ï¼Œå®ƒä½¿å¾—å…·æœ‰ç›¸ä¼¼è¡¨å‹çš„ T ç»†èƒå½¼æ­¤é è¿‘åµŒå…¥ï¼Œè¡¨å‹ä¸ç›¸ä¼¼çš„åˆ™åµŒå…¥ç›¸å¯¹è¾ƒè¿œçš„è·ç¦»ã€‚\n\t- é‡‡ç”¨ç»†èƒ i å’Œ j ä¹‹é—´çš„æˆå¯¹æ¦‚ç‡ $\\{p_{i,j}\\}$ è¡¨ç¤º $\\{x^{(i)}\\}$ ä¸ $\\{x^{(j)}\\}$ ä¹‹é—´çš„ç›¸ä¼¼æ€§ã€‚\n\t- è‹¥åœ¨ 2D å¹³é¢å›¾ä¸‹ï¼Œæˆå¯¹æ¦‚ç‡ $\\{q_{i,j}\\}$ è¡¨ç¤º $\\{y^{(i)}\\}$ ä¸ $\\{y^{(j)}\\}$ ä¹‹é—´çš„ç›¸ä¼¼æ€§ã€‚\n\t- é€šè¿‡æœ€å°åŒ– $\\{p_{i,j}\\}$ ä¸ $\\{q_{i,j}\\}$ çš„ KL æ•£åº¦ ( å¯ç†è§£ä¸ºä»£ä»·å‡½æ•° )ï¼Œç„¶åæ‰¾å‡º \"æœ€ä½³\" åµŒå…¥å‘é‡ $\\{y^{(i)}\\}$ï¼Œå³å®ƒè¡¨ç¤ºçš„æ„ä¹‰æ˜¯ï¼Œé«˜ç»´è½¬ä½ç»´çš„è¡¨ç¤ºä¿¡æ¯èƒ½æœ€å¤§ç¨‹åº¦è¢«ä¿å­˜ä¸‹æ¥ã€‚\n\t\n\t\t> K-L æ•£åº¦ ( [è¯¦ç»†è§é™„å½• 1](#1-t-SNE-ä¸­çš„æ¦‚ç‡) )ï¼ŒKullback-Leibler Divergenceï¼Œåˆç§°ç›¸å¯¹ç†µï¼Œå³æè¿°ä¸¤æ¦‚ç‡åˆ†å¸ƒ P å’Œ Q çš„å·®å¼‚ã€‚KL æ•£åº¦å…¬å¼ (1) å¦‚ä¸‹ï¼š\n\t\n\t$$D_{KL}(\\{p_{i,j}\\}|\\{q_{i,j}\\}) = \\sum_{i,j} p_{i,j} log \\frac{p_{i,j}}{q_{i,j}} \\tag{1}$$\n\t\n\t- $\\{y^{(i)}\\}$ å¯ä»¥ç¼–ç éçº¿æ€§å…³ç³»ï¼Œä¸åƒ PCA ä¸­è¢«çº¦æŸä¸º $\\{x^{(i)}\\}$ çš„çº¿æ€§ç»„åˆã€‚\n\t- `æœ€ä½³åµŒå…¥` æ˜¯é€šè¿‡æ•°å€¼æ¢¯åº¦ä¸‹é™æ³•æ¥ç¡®å®šçš„ï¼Œå³æ‰€æœ‰æ•°æ®ç‚¹çš„ KL æ•£åº¦æ€»å’Œå‡å°åˆ°æœ€å° ( [è¯¦ç»†è§é™„å½• 2](#2-æ•°å€¼æ¢¯åº¦ä¸‹é™æ³•) )ã€‚\n\n### è¯†åˆ«ç»†èƒäºšç¾¤\n- ä½¿ç”¨ä¸€ä¸ªé«˜æ–¯æ ¸å‡½æ•°ï¼ŒæŠŠ t-SNE çš„äºŒç»´ç»†èƒæ•£ç‚¹å›¾åŠ å·¥æˆ `å¤åˆå›¾åƒ`ï¼Œå¦‚å›¾ 1-1 (D) æ‰€ç¤ºã€‚å…¶ä¸­ï¼Œ$K_\\gamma(y)$ é€šè¿‡è®¡ç®—ä½ç»´ç©ºé—´ä¸­æ‰€æœ‰ç»†èƒçš„ä½ç½®æ€»å’Œï¼Œä»¥è¡¨ç¤º t-SNE äºŒç»´æ˜ å°„å›¾ä¸­ç»†èƒçš„å±€éƒ¨å¯†åº¦ï¼š\n\n\t$$K_\\gamma(y) = (2 \\pi \\gamma^2)^{-1}\n\t\\sum_{y' \\in Y}exp( -\\frac{||y - y'||^{2}}{2\\gamma^2})\n\t\\tag{2}\n\t$$\n\n- åœ¨æœ¬è®ºæ–‡ä¸­ï¼Œ$K_\\gamma(y)$ çš„ `å±€éƒ¨æœ€å¤§å€¼` è¡¨ç¤ºå…·æœ‰å…±åŒè¡¨å‹çš„ CD8+ T ç»†èƒäºšç¾¤ï¼Œä¸”ä½¿ç”¨äº† Matlab çš„å³°å€¼æ£€æµ‹ç®—æ³•è¯†åˆ«è¿™äº›å±€éƒ¨æœ€å¤§å€¼ã€‚\n\n\t> å½“ç„¶ï¼Œä¹Ÿå¯ä»¥åœ¨åµŒå…¥ç‚¹ä¸Šä½¿ç”¨ K-Means èšç±»ç®—æ³•æ¥è¯†åˆ« T ç»†èƒå­é›†ï¼Œä½†å…¶è¦æ±‚äº‹å…ˆæŒ‡å®šç°‡çš„æ•°é‡ã€‚\n\t\n- å¦‚ä½•æ±‚å¾— `å±€éƒ¨æœ€å¤§å€¼`ï¼Œå…³é”®æ˜¯å¯¹äºå…¬å¼ (2) ä¸­ $\\gamma$ çš„å‚æ•°è®¾å®šå¤šå°‘æœ‰å…³ã€‚å³é€šè¿‡æ¯”è¾ƒä¸åŒçš„æ ¸-å¸¦å®½ $\\gamma$ äº§ç”Ÿçš„ç»“æœï¼Œåˆ™å­˜åœ¨ä¸€ä¸ª $\\gamma$ å€¼ä¸ºè¡¨å‹ç©ºé—´ä¸­çš„å±€éƒ¨å’Œå…¨å±€ç‰¹å¾æä¾›äº†å‡†ç¡®çš„ç²—ç²’åº¦è¡¨ç¤ºã€‚ä»å›¾ 1-2 ä¸­å¯å¾—ï¼Œå³å¯ç¤ºæˆ‘ä»¬å¯ä»¥ä»¥æ•°æ®é©±åŠ¨çš„æ–¹å¼ï¼Œæ±‚å¾—è¾ƒåˆé€‚çš„ $\\gamma$ å€¼ï¼Œä»¥è¿‘ä¼¼åœ°è¯†åˆ« CD8+ T ç»†èƒçš„ç»†èƒäºšç¾¤ã€‚\n\n### ç›¸å…³å›¾è¡¨\n- å¦‚å›¾ 1-1 æ‰€ç¤ºï¼ŒACCENSE åº”ç”¨äºè´¨è°±é«˜ç»´æ•°æ®ã€‚\n\n![å›¾1-1ACCENSE ACCENSE åº”ç”¨äºè´¨è°±é«˜ç»´æ•°æ®](/images/illustration/Paper/2018/06/Automatic-classification-of-cellular-expression-by-nonlinear-stochastic-embedding_1-1.jpg)\n<center>å›¾ 1-1 ACCENSE åº”ç”¨äºè´¨è°±é«˜ç»´æ•°æ®</center>\n\n(A) è´¨è°±ç»†èƒè®¡æ•°æ•°æ®é›†æ ·æœ¬çš„å›¾ç¤ºã€‚è¡Œå¯¹åº”äºä¸åŒçš„ç»†èƒï¼Œè€Œåˆ—å¯¹åº”äºæµ‹é‡å…¶è¡¨è¾¾ (ç»†èƒè¡¨é¢æŠ—åŸå’Œç»†èƒå†…è›‹ç™½) çš„ä¸åŒæ ‡è®°çš„é‡‘å±è¯åˆæŠ—ä½“ã€‚æ¯ä¸€å…ƒç»„å¯¹åº”äºæŒ‡ç¤ºæ¯ä¸ªæ ‡è®°çš„è¡¨è¾¾æ°´å¹³çš„è´¨è·æ¯”å˜æ¢å€¼ (ååŒæ›²å‡½æ•°)ã€‚(C) æ¥è‡ªSPF B6 å°é¼ çš„ CD8+ T ç»†èƒçš„ 2D t-SNE å›¾è°±ã€‚æ¯ä¸ªç‚¹ä»£è¡¨æ¥è‡ªè®­ç»ƒé›†çš„ä¸€ä¸ªç»†èƒ (M = 18304)ï¼Œä¸”æ•°æ®ç‚¹æ˜¯é€šè¿‡å¯¹åŸå§‹æ•°æ®é›†è¿›è¡Œä¸‹é‡‡æ ·å¾—åˆ°ã€‚(D) é€šè¿‡ä½¿ç”¨åŸºäºå†…æ ¸å¯†åº¦å˜æ¢ ($K_{\\gamma}(y)\\,{,}\\,\\gamma = 7$)ï¼Œå°†ç»†èƒçš„å±€éƒ¨æ¦‚ç‡å¯†åº¦åµŒå…¥ (C) çš„å¤åˆå›¾åƒã€‚å¹¶ä½¿ç”¨æ ‡å‡†çš„å³°å€¼æ£€æµ‹ç®—æ³•è¿›è¡Œè¯†åˆ«å±€éƒ¨æœ€å¤§å€¼ï¼Œåœ¨äºŒç»´å¯†åº¦å›¾è¡¨ç¤ºè¡¨å‹äºšç¾¤çš„ä¸­å¿ƒã€‚\n\n- å¦‚å›¾ 1-2 æ‰€ç¤ºï¼Œå±•ç¤ºäº†å³°å€¼éšç€ $\\gamma$ çš„å¢åŠ è€Œå˜åŒ–ã€‚\n\n![å›¾1-2å±•ç¤ºäº†å³°å€¼éšç€Î³çš„å¢åŠ è€Œå˜åŒ–](/images/illustration/Paper/2018/06/Automatic-classification-of-cellular-expression-by-nonlinear-stochastic-embedding_1-2.png)\n<center>å›¾ 1-2 å±•ç¤ºäº†å³°å€¼éšç€ $\\gamma$ çš„å¢åŠ è€Œå˜åŒ–</center>\n\n\t\n## é™„å½•\n\n### 1 t-SNE ä¸­çš„æ¦‚ç‡\n#### $p_{i,j}$ æ¦‚ç‡\n- åŸºäºè›‹ç™½è´¨ç›¸ä¼¼æ€§ï¼Œè®¾ $p_{j|i}$ (i,j = 1, 2, ..., M) è¡¨ç¤ºç»†èƒ i å°†é€‰æ‹©ç»†èƒ j ä½œä¸ºå…¶æœ€è¿‘é‚»çš„æ¦‚ç‡ ( $p_{j|i}$ è¶Šå¤§ï¼Œ$x^{(i)} å’Œ x^{(j)}$ è¶Šè¿‘ )ï¼š\n\n$$\np_{j|i} = \\frac{\n\texp({-||x^{(i)} - x^{(j)}||^2} / {\n\t2\\sigma_i^2})\n}{ \n\t\\sum_{k \\neq i} exp({-||x^{(i)} - x^{(k)}||^2} / {\n\t2\\sigma_i^2})\n}, d_{i,j} = ||x^{(i)} - x^{(j)}||_2\n\\tag{3}\n$$\n\n- å¯¹äºæ¦‚ç‡ $p_{j|i}$ çš„å‡ ç‚¹è¯´æ˜ï¼š\n\n\t- $d_{i,j}$ å¯ä»¥ä½¿ç”¨å…¶ä»–è·ç¦»èŒƒå¼æ›¿ä»£æ¬§å¼è·ç¦»èŒƒå¼ï¼›\n\t- åŸå§‹çš„ SNE ç®—æ³•æ˜¯ä¸å¯¹ç§°çš„ï¼Œä¸ºç®€åŒ–æ¢¯åº¦å…¬å¼ï¼Œt-SNE ä¸­è®©å…¬å¼ (3) çš„æ¡ä»¶æ¦‚ç‡æ˜¯å¯¹ç§°çš„ã€‚å³åˆå§‹åŒ– $p_{i|i} = 0$ ( åªè€ƒè™‘ä¸åŒç‚¹ä¸¤ä¸¤ä¹‹é—´çš„ç›¸ä¼¼åº¦ )ï¼Œå¯¹äºä»»æ„çš„ $p_{i|j} = p_{j|i}$ï¼Œå¯å¾—ï¼š\n\n\t$$\n\tp_{i,j} = \\frac{\n\t\tp_{j|i} + p_{i|j} \n\t}{2M} = \\frac{\n\t\texp({-d_{i,j}^2} / {\n\t\t2\\sigma_i^2})\n\t}{ \n\t\t\\sum_{k \\neq i} exp({-d_{i,k}^2} / {\n\t\t2\\sigma_i^2})\n\t}\n\tp_{i,j} = \\frac{\n\t\tp_{j|i} + p_{i|j} \n\t}{2N} \\\\\n\t( p_{j|i} = \\frac{p_{i,j}}{p_i}, \\,\n\tp_{i|j} = \\frac{p_{i,j}}{p_j}, \\,\n\tp_i = p_j = \\frac1M )\n\t\\tag{4}\n\t$$ \n\t\n- ä¸åŒçš„ç‚¹ $x_i$ï¼Œæ–¹å·® $\\sigma_i$ çš„å–å€¼ä¹Ÿæ˜¯ä¸åŒçš„ã€‚\n\t- å…¬å¼ (3) ä¸­çš„æ–¹å·® $\\sigma_i$ æ˜¯ç¡®ä¿å¯¹äºæ¯ä¸€ä¸ªç»†èƒéƒ½æœ‰ç›¸åŒçš„å›°æƒ‘åº¦ ( Complexity )ã€‚å¤æ‚åº¦å¯ç†è§£ä¸ºä¸€ä¸ªç‚¹é™„è¿‘çš„ `æœ‰æ•ˆè¿‘é‚»ç‚¹ä¸ªæ•°`ã€‚\n\t- å®šä¹‰å¤æ‚åº¦ä¸º $P_i = 2^{H_{j|i}}$ï¼Œå…¶è¿‘ä¼¼åœ°è§£é‡Šä¸ºç»†èƒ i çš„æœ€è¿‘é‚»ç‚¹çš„æ•°é‡ã€‚\n\t- å®šä¹‰ $p_{j|i}$ çš„é¦™å†œç†µ (ä¿¡æ¯ç†µ) ä¸º $H_{j|i} = - \\sum_j p_{j|i} \\log_2 p_{j|i}$ï¼Œä¸” $H_{j|i}$ éšç€ $\\sigma_i$ çš„å¢åŠ è€Œå¢åŠ ã€‚\n\n\t\t> åœ¨æœ¬è®ºæ–‡ä¸­ï¼Œt-SNE å›¾è°±çš„å¤æ‚åº¦è¢«è®¾å®šä¸º 30ï¼Œå³ 10-50 èŒƒå›´å†…çš„å¤æ‚åº¦å¯¹æœ€ç»ˆç»“æœçš„å½±å“ä¸å¤§ (è¾ƒå¥½çš„é²æ£’æ€§)ã€‚\n\n#### $q_{i,j}$ æ¦‚ç‡\n- å¯¹äºä½ç»´åº¦ä¸‹çš„ $\\{y_i\\}$ï¼Œåœ¨åŸå§‹çš„ SNE ç®—æ³• $^{[7]}$ ä¸­ Hinton å’Œ Rowers å¼•ç”¨é«˜æ–¯åˆ†å¸ƒå‡½æ•°å®šä¹‰ $q_{i,j}$ï¼Œä½†åœ¨ä½ç»´è¡¨è¾¾ä¸­å‘ç°äº† `æ‹¥æŒ¤é—®é¢˜`ã€‚\n\n\t> `æ‹¥æŒ¤é—®é¢˜`ï¼šå°±æ˜¯è¯´å„ä¸ªç°‡èšé›†åœ¨ä¸€èµ·ï¼Œæ— æ³•åŒºåˆ†ã€‚è­¬å¦‚ï¼Œæœ‰ä¸€é«˜ç»´åº¦æ•°æ®åœ¨é™ç»´åˆ° 10 ç»´ä¸‹å¯ä»¥æœ‰å¾ˆå¥½çš„è¡¨è¾¾ï¼Œä½†æ˜¯é™ç»´åˆ°ä¸¤ç»´åæ— æ³•å¾—åˆ°å¯ä¿¡æ˜ å°„ã€‚å…·ä½“æƒ…å†µæ˜¯ï¼Œ10 ç»´ä¸­æœ‰æ•°ä¸ªç‚¹ä¹‹é—´ä¸¤ä¸¤ç­‰è·ç¦»çš„ï¼Œåœ¨äºŒç»´ä¸‹å°±æ— æ³•å¾—åˆ°å¯ä¿¡çš„æ˜ å°„ç»“æœã€‚  \n\t>\n\t> è¿›ä¸€æ­¥è¯´æ˜ï¼Œå‡è®¾ä¸€ä¸ªä»¥æ•°æ®ç‚¹ $x^i$ ä¸ºä¸­å¿ƒï¼ŒåŠå¾„ä¸º r çš„ m ç»´çƒ(ä¸‰ç»´ç©ºé—´å°±æ˜¯çƒ)ï¼Œå…¶ä½“ç§¯æ˜¯æŒ‰ $r^m$ å¢é•¿çš„ï¼Œå‡è®¾æ•°æ®ç‚¹æ˜¯åœ¨ m ç»´çƒä¸­å‡åŒ€åˆ†å¸ƒçš„ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å…¶ä»–æ•°æ®ç‚¹ä¸ $x^i$ çš„è·ç¦»éšç»´åº¦å¢å¤§è€Œäº§ç”Ÿçš„å˜åŒ–ã€‚\n\n- t-SNE å‡è½»äº†æ‹¥æŒ¤é—®é¢˜ï¼Œå³ä½¿ç”¨æ›´åŠ åé‡é•¿å°¾åˆ†å¸ƒçš„æ–¹å¼æ¥å°†è·ç¦»è½¬æ¢ä¸ºæ¦‚ç‡åˆ†å¸ƒ $^{[8]}$ï¼Œæ•…æœ‰ $q_{i,j}$ï¼š\n\n\t$$\n\tq_{i,j} = \\frac{\n\t\t(1 + ||y^{(i)} - y^{(j)}||^2)^{-1}\n\t}{ \n\t\t\\sum_{k \\neq i} (1 + ||y^{(i)} - y^{(k)}||^2)^{-1}\n\t}, \\Delta_{i,j} = ||y^{(i)} - y^{(j)}||^2\n\t\\tag{5}\n\t$$\n\n- åŒæ ·åœ°ï¼Œå¯¹äºæ¦‚ç‡ $q_{i,j}$ çš„å‡ ç‚¹è¯´æ˜ï¼š\n\t- $\\Delta_{i,j}$ å¯ä»¥ä½¿ç”¨å…¶ä»–è·ç¦»èŒƒå¼æ›¿ä»£æ¬§å¼è·ç¦»èŒƒå¼ï¼›\n\t- åŸå§‹çš„ SNE ç®—æ³•æ˜¯ä¸å¯¹ç§°çš„ï¼Œä¸ºç®€åŒ–æ¢¯åº¦å…¬å¼ï¼Œt-SNE ä¸­è®©å…¬å¼ (5) çš„æ¡ä»¶æ¦‚ç‡æ˜¯å¯¹ç§°çš„ã€‚å³åˆå§‹åŒ– $q_{i|i}=0$ï¼Œå¯¹äºä»»æ„çš„ $q_{i|j} = q_{j|i}$ã€‚\n\n### 2 æ•°å€¼æ¢¯åº¦ä¸‹é™æ³•\n- åœ¨ [7] ä¸­çš„æ¦‚è¿°è¿‡ç¨‹ï¼Œè·å¾—ä¼˜åŒ–çš„æ¢¯åº¦å…¬å¼ï¼Œå¦‚ä¸‹æ‰€ç¤º:\n\n\t$$\n\t\\frac{\n\t\t\\partial D_{KL}(\\{p_{i,j}\\} | \\{q_{i,j}\\})\n\t}{\n\t\t\\partial_{y_t}^{(i)}\n\t} = 4 \\sum_j \\frac{\n\t\t(p_{i,j} - q_{i,j})\n\t}{\n\t\t(1 + ||y_t^{(i)} - y_t^{(j)}||^2)\n\t}\n\t(y_t^{(i)} - y_t^{(j)})\n\t\\tag{6}\n\t$$\n\n- é€šè¿‡æ¢¯åº¦ä¸‹é™æ³•è¿­ä»£è®¡ç®—å±€éƒ¨æœ€å¤§å€¼ï¼š\n\n\t$$\n\ty_{t+1}^{(i)} = y_{t}^{(i)} + \\eta(t) \\frac{\n\t\t\\partial D_{KL}(\\{p_{i,j}\\} | \\{q_{i,j}\\})\n\t}{\n\t\t\\partial_{y_t}^{(i)}\n\t} + \\alpha(t)(y_{t}^{(i)} - y_{t-1}^{(i)})\n\t\\tag{7}\n\t$$\n\n\t- $y_t^{(i)}$ è¡¨ç¤ºè¿­ä»£ t æ¬¡çš„è§£ï¼Œ$\\eta(t)$ è¡¨ç¤ºå­¦ä¹ é€Ÿç‡ï¼Œ$\\alpha(t)$ è¡¨ç¤ºè¿­ä»£ t æ¬¡çš„åŠ¨é‡ã€‚\n\t- å­¦ä¹ é€Ÿç‡åˆå§‹å€¼ä¸º $\\eta(t) = 100\\,^{[9]}$ï¼Œä¸”åŠ¨èƒ½é‡ $\\alpha(t)$ è®¾å®šä¸ºï¼š\n\t\n\t$$\n\t\\alpha(t) = \\begin{cases} 0.8, & t < 300 \\\\\n\t0.5, & t \\geq 300 \\end{cases}\n\t$$\n\n## ä¸è¶³\n- t-SNE ä¸»è¦ç”¨äºå¯è§†åŒ–ï¼Œå¾ˆéš¾ç”¨äºå…¶ä»–ç›®çš„ã€‚è­¬å¦‚æµ‹è¯•é›†åˆé™ç»´ï¼Œå› ä¸ºä»–æ²¡æœ‰æ˜¾å¼çš„é¢„ä¼°éƒ¨åˆ†ï¼Œä¸èƒ½åœ¨æµ‹è¯•é›†åˆç›´æ¥é™ç»´ã€‚\n- å…³äºæ ¸-å¸¦å®½ $\\gamma$ å‚æ•°è®¾å®šé—®é¢˜ï¼šæ–‡ä¸­å±•ç¤ºäº† $\\gamma$ å‚æ•°çš„å¤§å°ä¸è¯†åˆ«ç»†èƒäºšç¾¤èƒ½åŠ›çš„æ•°é‡å…³ç³»ã€‚ç„¶è€Œï¼Œæ•°æ®é©±åŠ¨æ–¹å¼è™½èƒ½å®ç°è‡ªåŠ¨èšç±»ï¼Œä½†ç¼ºä¹å¯¹äº $\\gamma$ å‚æ•°è®¾å®šèŒƒå›´è¯¥å¦‚ä½•æ§åˆ¶çš„è¯´æ˜ã€‚\n\n## å‚è€ƒ\n- [1] Maaten L, Hinton G. Visualizing data using t-SNE [J]. Journal of machine learning research, 2008, 9(Nov): 2579-2605.  \n- [2] Cantor H, Simpson E, Sato V L, et al. And functional studies of peripheral t-cells binding different amounts of fluorescent anti-thy 1.2 (theta) Antibody using a fluorescence--activated cell sorter (FACS) [J]. 1975. \n- [3] Bendall S C, Nolan G P, Roederer M, et al. A deep profiler's guide to cytometry [J]. Trends in immunology, 2012, 33(7): 323-332. \n- [4] Qiu P, Simonds E F, Bendall S C, et al. Extracting a cellular hierarchy from high-dimensional cytometry data with SPADE [J]. Nature biotechnology, 2011, 29(10): 886.  \n- [5] Bendall S C, Simonds E F, Qiu P, et al. Single-cell mass cytometry of differential immune and drug responses across a human hematopoietic continuum [J]. Science, 2011, 332(6030): 687-696.  \n- [6] Van Der Maaten L, Postma E, Van den Herik J. Dimensionality reduction: a comparative [J]. J Mach Learn Res, 2009, 10: 66-71.  \n- [7] Maaten L, Hinton G. Visualizing data using t-SNE [J]. Journal of machine learning research, 2008, 9(Nov): 2579-2605.\n- [[8] Chrispher. t-SNE å®Œæ•´ç¬”è®° [OL]. www.datakit.cn. 2017.](http://www.datakit.cn/blog/2017/02/05/t_sne_full.html)  \n- [9] Jacobs R A. Increased rates of convergence through learning rate adaptation[J]. Neural networks, 1988, 1(4): 295-307.","tags":["æœºå™¨å­¦ä¹ "],"categories":["Paper"]},{"title":"è®ºæ–‡ | æ‰©å±• K-Means ç®—æ³•ï¼šæ··åˆæ•°æ®ç±»å‹çš„èšç±»æ–¹æ³•","url":"%2F2018%2F06%2FExtensions-to-the-k-Means-algorithm-for-custering-large-datasets-with-categorical-values.html","content":"\n{% note default %}\nåŸæ–‡ï¼šExtensions to the k-means algorithm for clustering large datasets with categorical values  \nä½œè€…ï¼šZHEXUE HUANG.  \næ¥æºï¼šData mining and knowledge discovery, 1998, 2(3): 283-304.  \n{% endnote %}\n\n## æ‘˜è¦\n\nåœ¨æ—©æœŸï¼Œå¤§å¤šæ•°èšç±»å·¥ä½œä¸»è¦é›†ä¸­åœ¨æ•°å€¼æ•°æ®ä¸Šï¼Œä¸”å®ƒä»¬ä¸»è¦æ˜¯åˆ©ç”¨æ•°å€¼æ•°æ®çš„å›ºæœ‰å‡ ä½•ç‰¹æ€§ï¼Œå³æ•°æ®ç‚¹ä¹‹é—´çš„ `è·ç¦»å‡½æ•°` ([è§é™„å½•1](#1-è·ç¦»å‡½æ•°))ã€‚ä½†æ˜¯ï¼Œæ•°æ®æŒ–æ˜åº”ç”¨ç¨‹åºé€šå¸¸æ¶‰åŠè®¸å¤šæ•°æ®é›†ï¼Œè¿™äº›æ•°æ®é›†æ˜¯ç”±æ··åˆæ•°å€¼å±æ€§å’Œæ ‡ç§°å±æ€§ç»„æˆçš„ï¼Œä»…æ‹¥æœ‰æ•°å€¼æ•°æ®çš„æµ‹é‡æ–¹æ³•å·²æ— æ³•æ»¡è¶³æ··åˆæ•°æ®ç±»å‹çš„èšç±»å·¥ä½œã€‚\n\næœ¬è®ºæ–‡åŸºäºç»å…¸çš„ K-Means ç®—æ³•ä¸Šï¼Œæå‡ºäº†ä¸¤ç§èšç±»ç®—æ³•ï¼Œåˆ†åˆ«åº”å¯¹ `æ ‡ç§°åŸŸ` å’Œ `æ··åˆæ•°å€¼ä¸æ ‡ç§°åŸŸ` å±æ€§å€¼çš„èšç±»æ“ä½œã€‚é¦–å…ˆä»‹ç»çš„æ˜¯`K-Modes (K-ä¼—æ•°)` èšç±»ç®—æ³•ï¼Œä»–è¿ä½œçš„æ–¹å¼ä¸ K-Means ç›¸ä»¿ï¼Œåªæ˜¯å®ƒåˆ©ç”¨çš„æ˜¯ç›¸å¼‚æ€§åº¦é‡å¤„ç†æ ‡ç§°å¯¹è±¡ï¼Œèšç±»ä¸­å¿ƒä»¥ä¼—æ•°æ›¿ä»£å‡å€¼ï¼Œä¸”ä¼—æ•°ä»¥åŸºäºé¢‘ç‡çš„æ–¹æ³•å»è¿­ä»£æ›´æ–°ï¼Œç›´è‡³ `èšç±»ä»£ä»·å‡½æ•°` çš„ç»“æœæœ€å°åŒ–åœæ­¢è¿­ä»£ã€‚å…¶æ¬¡ï¼Œæ˜¯ `K-Prototype` èšç±»ç®—æ³•ï¼Œå®ƒå®šä¹‰äº†ä¸€ç»„åˆçš„ç›¸å¼‚æ€§åº¦é‡å€¼ï¼Œè¿›ä¸€æ­¥æ•´åˆ `K-Means` å’Œ `K-Modes` ç®—æ³•ï¼Œä»¥å®ç°å¯¹æ··åˆæ•°å€¼ä¸æ ‡ç§°å±æ€§çš„å¯¹è±¡è¿›è¡Œèšç±»æ“ä½œã€‚\n\n<!-- More -->\n\n## æ­£æ–‡\n\n### å¼•å…¥\nå°†æ•°æ®åº“ä¸­çš„ä¸€ç»„å¯¹è±¡åˆ’åˆ†ä¸ºåŒæ„ç»„æˆ–é›†ç¾¤æ˜¯æ•°æ®æŒ–æ˜ä¸­æœ€åŸºæœ¬çš„æ“ä½œã€‚è€Œè®¨è®ºåˆ’åˆ†æ“ä½œï¼Œè‡ªç„¶ç¦»ä¸å¼€èšç±»ã€‚èšç±»æ˜¯æŠŠæ¯ä¸€ç»„å¯¹è±¡åˆ’åˆ†ä¸ºä¸€ä¸ªç°‡ï¼Œä¸”åŒä¸€ç°‡ä¸­å¯¹è±¡ä¹‹é—´ç›¸ä¼¼ï¼Œè€Œä¸åŒç°‡ä¹‹é—´çš„å¯¹è±¡ç›¸å¼‚ã€‚\n\næ•°æ®æŒ–æ˜æœ€æ˜¾è‘—çš„ç‰¹å¾æ˜¯å¤„ç†å¤æ‚çš„å¤§å‹æ•°æ®é›†ã€‚ç‰¹åˆ«åœ°ï¼Œæ•°æ®é›†åŒ…å«æ•°ä»¥ç™¾ä¸‡è®¡ç”±ä¸åŒç±»å‹å±æ€§æˆ–å˜é‡æè¿°çš„å¯¹è±¡ï¼Œç”±æ­¤æ•°æ®æŒ–æ˜æ“ä½œå’Œç®—æ³•åº”å……åˆ†è€ƒè™‘å¯æ‰©å±•æ€§ï¼Œä»¥åº”ä»˜å¤„ç†ä¸åŒç±»å‹çš„å±æ€§ã€‚\n\nåœ¨æœ¬è®ºæ–‡ä¸­ï¼Œæå‡ºçš„ä¸¤ä¸ªæ–°èšç±»ç®—æ³•ï¼Œå³åˆ©ç”¨ `K-Means èŒƒå¼` å¯¹æ‹¥æœ‰æ ‡ç§°å±æ€§çš„æ•°æ®è¿›è¡Œèšç±»ã€‚`K-Modes (K-ä¼—æ•°)` èšç±»ç®—æ³•ï¼Œä»–è¿ä½œçš„æ–¹å¼ä¸ K-Means ç›¸ä»¿ï¼Œåªæ˜¯å®ƒåˆ©ç”¨çš„æ˜¯ç›¸å¼‚æ€§åº¦é‡å¤„ç†æ ‡ç§°å¯¹è±¡ï¼Œèšç±»ä¸­å¿ƒä»¥ä¼—æ•°æ›¿ä»£å‡å€¼ï¼Œä¸”ä¼—æ•°ä»¥åŸºäºé¢‘ç‡çš„æ–¹æ³•å»è¿­ä»£æ›´æ–°ï¼Œç›´è‡³ `èšç±»ä»£ä»·å‡½æ•°` çš„ç»“æœæœ€å°åŒ–åœæ­¢è¿­ä»£ã€‚å…¶æ¬¡ï¼Œæ˜¯ `K-Prototype` èšç±»ç®—æ³•ï¼Œå®ƒå®šä¹‰äº†ä¸€ç»„åˆçš„ç›¸å¼‚æ€§åº¦é‡å€¼ $s^r + \\gamma s^c$ï¼Œä»¥å®ç°å¯¹æ··åˆæ•°å€¼ä¸æ ‡ç§°å±æ€§çš„å¯¹è±¡è¿›è¡Œèšç±»æ“ä½œã€‚å…¶ä¸­ï¼Œ$s^r$ æ˜¯ç”± `å¹³æ–¹æ¬§å¼è·ç¦»` å®šä¹‰çš„ `æ•°å€¼å±æ€§` çš„ç›¸å¼‚æ€§åº¦é‡å€¼ï¼Œ$s^c$ æ˜¯ç”± `ä¸¤ä¸ªå¯¹è±¡é—´ç±»åˆ«ä¸åŒ¹é…çš„æ•°é‡` å®šä¹‰çš„ `æ ‡ç§°å±æ€§` çš„ç›¸å¼‚æ€§åº¦é‡å€¼ï¼Œ$\\gamma$ æ˜¯å¹³è¡¡æ•°å€¼å±æ€§å’Œæ ‡ç§°å±æ€§ä¸¤éƒ¨åˆ†çš„çš„æƒå€¼ï¼Œä»¥é¿å…åå‘äºæŸä¸€å±æ€§ã€‚è‹¥èšç±»çš„æ•ˆæœæ›´é’çäºæ•°å€¼å±æ€§ï¼Œåˆ™å¯ä»¥è®¾å®šä¸€ä¸ªè¾ƒå°çš„ $\\gamma$ å€¼ï¼›åä¹‹ï¼Œè®¾å®šä¸€è¾ƒå¤§çš„ $\\gamma$ å€¼ã€‚\n\n### ç¬¦å·\n- å‡è®¾éœ€è¦èšç±»çš„å¯¹è±¡æ•°æ®é›†å‚¨å­˜åœ¨æ•°æ®é›† D ä¸­ã€‚\n\t- é›†åˆçš„å±æ€§ $A_1, A_2, ... , A_m$ åˆ†åˆ«æ˜¯å€¼åŸŸ $D_1, D_2, ... , D_m$ çš„æè¿°ã€‚\n\t- åœ¨ D ä¸­çš„æ¯ä¸ªå¯¹è±¡ç”±å…ƒç»„ t è¡¨ç¤ºï¼Œ$t \\in D_1 \\times D_2 \\times ... \\times D_m$ã€‚\n- é’ˆå¯¹æœ¬æ–‡è®¨è®ºçš„èšç±»é—®é¢˜ï¼Œä»…è€ƒè™‘ä¸¤ç§å¸¸è§æ•°æ®ç±»å‹ï¼šæ•°å€¼ç±»å‹å’Œæ ‡ç§°ç±»å‹ã€‚\n\t- æ•°å€¼åŸŸçš„å–å€¼èŒƒå›´æ˜¯å®æ•°åŸŸã€‚\n\t- åœ¨å¤šç»´çš„å¯†åº¦ç©ºé—´ä¸­ï¼Œæ¯ä¸€ä¸ªæ•°å€¼å‹çš„æ•°æ®ç‚¹éƒ½é‡‡ç”¨è¯¸å¦‚æ¬§å¼æˆ–é©¬æ°çš„è·ç¦»åº¦é‡æ–¹æ³•ã€‚\n\t- è‹¥å€¼åŸŸ $D_i$ è¢«å®šä¹‰ä¸ºæœ‰é™ã€æ— åºçš„æ ‡ç§°åŸŸï¼Œåˆ™å¯¹è±¡çš„æ¯”è¾ƒæ“ä½œåªå…è®¸åœ¨ $D_i$ ä¸­æ‰§è¡Œï¼Œå³æœ‰ $a, b \\in D_i$ï¼Œeither a = b or $a \\neq b$ã€‚\n- å¯¹äºæ•°æ®é›†ä¸­çš„æ¯ä¸€æ•°æ®å¯¹è±¡ $X$ï¼Œä¹Ÿå¯ç”± `å±æ€§-å±æ€§å€¼` çš„é”®å€¼å¯¹è¡¨ç¤ºï¼Œ\n\n\t$$[A_1=x_1] \\bigwedge [A_2=x_2] \\bigwedge ... \\bigwedge [A_m=x_m]$$\n\n- å³å½“ $x_i \\in D_i$ï¼Œfor i = 1, 2, ..., mã€‚ä¸ºç®€å•èµ·è§ï¼Œè¿™é‡Œä»¥ $X$ è¡¨ç¤ºå…ƒç»„ï¼š\n\n\t$$[x_1^r, x_2^r, ...,x_p^r, x_{p+1}^c, ..., x_m^c] \\in D_1 \\times D_2 \\times ... \\times D_m$$\n\n\t> æœ€åä¸€ä¸ªæ•°å€¼å¯¹è±¡ä¸ºå…ƒç´  $p$ ï¼Œå…¶ä½™çš„éƒ½æ˜¯æ ‡ç§°å¯¹è±¡ã€‚å½“ç„¶ï¼Œè‹¥å…ƒç»„ä¸­ä»…æœ‰ä¸€ç§æ•°æ®ç±»å‹ï¼Œå¯è¡¨ç¤ºä¸º $[x_1, x_2, ..., x_m]$ã€‚\n\n### K-Means (å‡å€¼) ç®—æ³•\n- K-Meansï¼Œæ˜¯ä¸€ç§åˆ’åˆ†æˆ–éåˆ†å±‚çš„èšç±»ç®—æ³•ï¼Œä¸ºè¿›ä¸€æ­¥é˜è¿°ç»†èŠ‚ï¼Œéœ€ç»™å‡ºå¦‚ä¸‹è®¾å®šï¼š\n    - ä¸€ç»„å« $n$ ä¸ªæ•°å€¼æ•°æ®çš„å¯¹è±¡é›† $D = \\{X_1, X_2, ..., X_n\\}$ï¼›\n    - è·ç¦»åº¦é‡ $d$ï¼›\n    - è‡ªç„¶æ•° $k (\\leq n)$ï¼Œå¹¶æŠŠ $D$ åˆ’åˆ† $k$ ä¸ªéç©ºä¸”ç›¸åˆ†ç¦»çš„ç°‡ç¾¤ï¼š\n    $$\n    C_1, C_2, ..., C_k, \\, with \\, C_i \\bigcap C_j = \\emptyset \\, and \\, \\bigcup_{i=1}^k C_i = D\n    $$\n    - $D$ ä¸­éšæœºé€‰å– $k$ ä¸ªå¯¹è±¡ï¼Œæ¯ä¸ªå¯¹è±¡ä»£è¡¨ä¸€ä¸ªç°‡çš„åˆå§‹å‡å€¼æˆ–ä¸­å¿ƒã€‚\n- å¦‚æ­¤ä¸€æ¥ï¼Œä½¿å¾—æ•°æ®å¯¹è±¡ä¸å…¶ç°‡çš„ä¸­å¿ƒä¹‹é—´çš„å¹³æ–¹è¯¯å·®æ€»å’Œè¢«æœ€å°åŒ–ã€‚ç„¶åï¼Œæ ¹æ®éçº¿æ€§ä¼˜åŒ–é—®é¢˜ï¼Œå°†è¯¥é—®é¢˜æè¿°ä¸º:\n\n    $$\n    Minimise \\, P(W,Q) = \\sum_{l=1}^k \\sum_{i=1}^n w_{i,l} d(X_i, Q_l)\n    \\tag{1}\n    $$\n\n    ä¸”æœä»ï¼š\n\n    $$\n    \\begin{cases}\n    \\sum_{l=1}^k w_{i,l} = 1, \\, i = 1, 2, ..., n \n    \\\\ w_{i,l} \\in \\{0,1\\}, \\, i = 1, 2, ..., n; l = 1, 2, ..., k\n    \\end{cases}\n    \\tag{2}\n    $$\n    \n   - $w_{i,l}$ æŒ‡æ ‡å˜é‡è¡¨ç¤ºå¯¹è±¡ $X_i$ ä»…å±äºå“ªä¸€ä¸ªç°‡ã€‚å³å–å€¼ä¸º 1 æ—¶ï¼Œè¡¨ç¤ºå¯¹è±¡ $X_i $ åœ¨ ç°‡ $C_l$ ä¸­ï¼›åä¹‹ï¼Œå–å€¼ä¸º 0ã€‚\n   - $W = \\left[ w_{i,l} \\right]_{n \\times k}$ æ˜¯åˆ†å—çŸ©é˜µ (è§å…¬å¼ 3)ï¼Œ$Q = \\{Q_1, Q_2, ..., Q_K\\}$ æ˜¯ç°‡çš„ä¸­å¿ƒé›†åˆï¼Œ$d(Â·,Â·)$ æ˜¯ä¸¤å¯¹è±¡é—´çš„å¹³æ–¹æ¬§å¼è·ç¦» ([è§é™„å½•1](#1-è·ç¦»å‡½æ•°))ã€‚\n\n   $$W = \\left[ w_{i,l} \\right]_{n \\times k} = \n   \\begin{bmatrix} \n   w_{11} & \\cdots & w_{1l} & \\cdots & w_{1k} \\\\ \n   \\vdots & & \\vdots & & \\vdots \\\\\n   w_{i1} & \\cdots & w_{il} & \\cdots & w_{ik} \\\\\n   \\vdots & & \\vdots & & \\vdots \\\\\n   w_{n1} & \\cdots & w_{nl} & \\cdots & w_{nk} \\\\ \n   \\end{bmatrix}\n   \\tag{3}\n   $$\n\n- ç´§æ¥ç€ï¼Œåœ¨çº¦æŸæ¡ä»¶ (2) ä¸‹å¯¹ (1) ä¸­çš„ P è¿›è¡Œä¼˜åŒ–ï¼Œå³å¯¹ Q å’Œ W è¿›è¡Œå±€éƒ¨ä¼˜åŒ–ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å…ˆå›ºå®š Q å¹¶æ‰¾å‡ºå¿…è¦æ¡ä»¶ W ä½¿ P æœ€å°åŒ–ã€‚ç„¶åï¼Œæ ¹æ® Q å»ä¿®æ­£ W å¹¶æœ€å°åŒ– Pã€‚åŸºäºä¸Šè¿°å‡ ç‚¹ï¼Œè‹¥ä¸ºäº†è¾¾åˆ° P æœ€å°åŒ–ï¼ŒK-Means ç®—æ³•é€šè¿‡ `ä¸‰æ­¥è¿­ä»£`ï¼Œç›´åˆ° P(W, Q) `æ”¶æ•›` åˆ°æŸä¸ª `å±€éƒ¨æœ€å°å€¼`ã€‚\n    - `Step.01`ï¼š åˆå§‹åŒ– $Q^{(0)} = \\{Q_1^{(0)}, Q_2^{(0)}, ..., Q_k^{(0)}\\}$ï¼Œä¸”è®¾ç«‹ $t = 0$ã€‚\n    - `Step.02`ï¼šå›ºå®š $Q^{(t)}$ ä¸å˜ï¼Œæ±‚è§£ $P(W, Q^{(t)})$ å†å»è·å¾— Wï¼Œå³ä»¥ Q ä½œä¸ºç°‡ç¾¤çš„ä¸­å¿ƒï¼Œå°†æ¯ä¸ªå¯¹è±¡åˆ†é…åˆ°è·ç¦»å…¶æœ€è¿‘çš„ç°‡ä¸­å¿ƒçš„ç°‡ç¾¤å½“ä¸­ã€‚\n    - `Step.03`ï¼šå›ºå®š $W^{(t)}$  ä¸å˜ï¼Œç”Ÿæˆ $Q^{(t+1)}$ï¼Œæ±‚è§£ $P(W^{(t)}, Q^{(t+1)})$ã€‚æ¯”è¾ƒ $P(W, Q^{(t)}) \\, and \\, P(W^{(t)}, Q^{(t+1)})$ï¼Œè‹¥åè€…ä¸ºæœ€å°åŒ–ï¼Œåˆ™æ ¹æ®å½“å‰çš„å¯¹è±¡éƒ¨åˆ†æ„é€ æ–°çš„ç°‡ç¾¤ä¸­å¿ƒã€‚\n        - $Q_t^{t+1} = \\{q_{l,1}^{(t+1)}, ..., q_{l,m}^{(t+1)}\\}, \\, for \\, l = 1, 2, ..., k$ï¼Œä¸”ï¼š\n    \n        $$\n        q_{l,j}^{(t+1)} = \\frac {\n            \\sum_{i=1}^n w_{i,l}^{(t)} x_{i,j}\n        }{\n            \\sum_{i=1}^n w_{i,l}^{(t)}\n        }, \\, j = 1, 2, ..., m\n        \\tag{4}\n        $$\n        \n    - `Step.04`ï¼šå½“æ»¡è¶³æ”¶æ•›æˆ–ç»™å®šçš„åœæ­¢æ¡ä»¶æ—¶ ( `å±€éƒ¨æœ€ä¼˜åŒ–` )ï¼Œè¾“å‡ºç»“æœå¹¶åœæ­¢ï¼›åä¹‹ï¼Œä»¤ $t = t + 1$ï¼Œå¹¶ç»§ç»­ä» `Step.02` å¼€å§‹æ‰§è¡Œã€‚\n- ä¸ºäº†è§£å†³ `ç°‡é—´è¾¹ç•Œä¸æ˜ç¡®` çš„é—®é¢˜ï¼Œæ¨¡ç³Šåˆ†åŒºçš„æ¦‚å¿µæˆåŠŸåœ°åº”ç”¨åˆ°èšç±»é—®é¢˜ä¸­ï¼Œå³æ¨¡ç³Šèšç±» $^{[2,3]}$ã€‚ä½†æ˜¯ï¼Œæˆ‘ä»¬åœ¨æœ¬è®ºæ–‡ä¸­ä¸è€ƒè™‘è¿™ä¸ªé—®é¢˜ã€‚\n- ç»¼ä¸Šæ‰€è¿°ï¼ŒK-Means ç®—æ³•å…·æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š\n    - å±€éƒ¨æœ€ä¼˜åŒ–ä¸ºç®—æ³•ç»“æŸçš„ç»ˆæ­¢æ¡ä»¶ï¼›\n    - ä»…é€‚ç”¨äºæ•°å€¼å±æ€§æ•°æ®çš„èšç±»ï¼›\n    - ç°‡ç¾¤çš„ç‰¹å¾ä¸ºçƒå½¢ç°‡.\n\n### K-Modes (ä¼—æ•°) ç®—æ³•\nåŸåˆ™ä¸Šï¼ŒK-Means ç®—æ³•ä¸­é—®é¢˜ P çš„å…¬å¼å¯¹äºåˆ†ç±»å’Œæ··åˆç±»å‹çš„å¯¹è±¡ä¹Ÿæ˜¯æœ‰æ•ˆçš„ï¼Œä¹‹æ‰€ä»¥ K-Means ç®—æ³•ä¸èƒ½å¯¹æ ‡ç§°å±æ€§å¯¹è±¡è¿›è¡Œèšç±»çš„åŸå› æ˜¯å®ƒçš„ç›¸å¼‚æ€§åº¦é‡æ–¹æ³•å’Œç”¨äºæ„é€ æ–°çš„ç°‡ç¾¤ä¸­å¿ƒçš„æ–¹æ³•ä¸é€‚ç”¨ï¼Œæ•…é€šè¿‡å¯¹ K-Means ç®—æ³•è¿›è¡Œä»¥ä¸‹ä¿®æ”¹ï¼Œå¯æ¶ˆé™¤ä¸é€‚ç”¨é—®é¢˜ï¼š\n\n- ç”¨äºæ ‡ç§°å±æ€§å¯¹è±¡çš„ç›¸å¼‚æ€§åº¦é‡çš„æ–¹æ³•ï¼›\n- ç°‡ç¾¤çš„ä¸­å¿ƒä»¥ `ä¼—æ•°` æ›¿ä»£ `å‡å€¼`ï¼›\n- ä½¿ç”¨åŸºäºé¢‘ç‡çš„æ–¹æ³•æ±‚çš„ä¼—æ•°ï¼Œä»¥æ„é€ æ–°çš„ç°‡ç¾¤ä¸­å¿ƒã€‚\n\n#### ç›¸å¼‚æ€§åº¦é‡\nç›¸å¼‚æ€§åº¦é‡ï¼šè®¾ $X,Y$ æ˜¯ç”± m ä¸ªæ ‡ç§°å±æ€§æè¿°çš„ä¸¤ä¸ªæ ‡ç§°å±æ€§å¯¹è±¡ï¼Œ $X,Y$ çš„ç›¸å¼‚æ€§åº¦é‡å¯é€šè¿‡ä¸¤ä¸ªå¯¹è±¡é—´ç›¸å¯¹åº”å±æ€§çš„ä¸åŒ¹é…æ€»å’Œæ¥å®šä¹‰ï¼Œå³ä¸åŒ¹é…çš„æ¬¡æ•°è¶Šå°‘ï¼Œä¸¤ä¸ªå¯¹è±¡è¶Šç›¸ä¼¼ã€‚å®šä¹‰å¦‚ä¸‹ï¼š\n\n$$\nd_1(X,Y) = \\sum_{j=1}^m \\delta (x_j,y_j)\n\\tag{5}\n$$\n\n ä¸”æ»¡è¶³æ¡ä»¶ï¼š\n\n$$\n\\delta (x_j,y_j) = \\begin{cases}\n0 , \\, (x_j = y_j) \\\\\n1 , \\, (x_j \\neq y_j)\n\\end{cases}\n \\tag{6}\n$$\n    \n#### ä¼—æ•°é›†\nè®¾ $X$ æ˜¯ç”±æ ‡ç§°å±æ€§ $A_1, A_2, ..., A_m$ æè¿°çš„æ ‡ç§°å±æ€§å¯¹è±¡é›†ã€‚$X= \\{X_1, X_2, ..., X_n\\}$ çš„ä¼—æ•°ç”±å‘é‡ $Q =\\{q_1, q_2, ..., q_m\\}$ è¡¨ç¤ºï¼Œå¹¶æœ€å°åŒ–å‡½æ•°ï¼š\n\n$$\nMinimise \\, D(X,Q) = \\sum_{i=1}^n d_1(Xi,Q)\n\\tag{7}\n$$\n    \n>  æ³¨æ„ï¼Œè¿™é‡Œ $Q$ å¹¶ä¸ä¸€å®šæ˜¯ $X$ ä¸­åŒ…å«å…ƒç´  (æœ‰åˆ«äº K-Medoids ç®—æ³• $^{[4]}$ï¼Œè´¨å¿ƒä»å®ƒçš„æ ·æœ¬ç‚¹ä¸­é€‰æ‹© )ã€‚    \n    \n#### æŒ‘é€‰ä¼—æ•°\nè®¾ $n_{c_{k,j}}$ ä¸ºå±æ€§ $A_j$ ä¸­åŒ…å«ç¬¬ k ä¸ªæ ‡ç§°å±æ€§ $c_{k,j}$ çš„å¯¹è±¡æ•°é‡ï¼Œä¸”å®šä¹‰ $f(A_j = c_{k,j} | X) = \\frac{ n_{c_{k,j}} }{n}$ ä¸ºæ ‡ç§°å±æ€§ $c_{k,j}$ åœ¨ $X$ ä¸­çš„å‡ºç°é¢‘ç‡ã€‚\n\n- `å®šç† 1`ï¼šè‹¥æ»¡è¶³ä¸‹è¿°æ¡ä»¶ (8)ï¼Œå³ $D(X,Q)$ å·²æœ€å°åŒ– ( è¯æ˜è§[é™„å½•2](#2-å®šç†è¯æ˜) )ã€‚å³å®šç†å®šä¹‰äº†ä¸€ç§ä»ç»™å®šçš„ $X$ ä¸­æ‰¾åˆ° $Q$ çš„æ–¹æ³•ï¼Œå³å®ƒå…è®¸ä½¿ç”¨ K-Means èŒƒå¼æ¥èšç±»æ ‡ç§°æ•°æ®ï¼Œä¸”å®šç† 1 æš—ç¤ºäº†æ•°æ®é›† $X$ çš„ä¼—æ•°ä¸æ˜¯å”¯ä¸€çš„ã€‚ \n\n    $$\n    f(A_j = q_j | X) \\geq f(A_j = c_{k,j} | X) \\, for \\, q_j \\neq c_{k,j},j=1, 2, ..., m\n    \\tag{8}\n    $$  \n\n#### ç®—æ³•æ ¸å¿ƒ\n- å½“å…¬å¼ (5) ç”¨ä½œæ ‡ç§°å±æ€§å¯¹è±¡çš„ç›¸å¼‚æ€§åº¦é‡æ—¶ï¼Œå…¬å¼ (1) çš„ä»£ä»·å‡½æ•°å°†æ¨å¯¼ä¸ºï¼š\n\n$$\nP(W,Q) = \\sum_{l=1}^k \\sum_{i=1}^n \\sum_{j=1}^m w_{i,l} \\delta(x_{i,j},q_{l,j})\\\\\\ where \\, w_{i,l}  \\in W \\, and \\, Q_l = [q_{l,1}, q_{l,1}, ..., q_{l,m}] \\in Q\n\\tag{9}\n$$\n\n- ä¸ºäº†æœ€å°åŒ–ä»£ä»·å‡½æ•°ï¼Œåˆ™ä¿®æ”¹ç»å…¸ K-Means ç®—æ³•ï¼š\n    - ä»¥ç›¸å¼‚æ€§åº¦é‡æ–¹æ³•æ±‚è§£ $W$ï¼Œå³ä¸Šè¿° `Step.02` æ‰€æè¿°çš„ï¼Œä»¥å½“å‰ $Q$ ä¸ºç°‡ç¾¤ä¸­å¿ƒï¼Œå°†æ¯ä¸ªå¯¹è±¡åˆ†é…åˆ°è·ç¦»å…¶æœ€è¿‘çš„ç°‡ä¸­å¿ƒçš„ç°‡å½“ä¸­å»ï¼›\n    - ç”¨ç°‡çš„ä¼—æ•°ä»£æ›¿å‡å€¼ï¼Œæ ¹æ® `å®šç† 1` é€‰æ‹©ä¼—æ•°æ¥æ±‚è§£  $Q$ï¼Œå³ä¸Šè¿° `Step.03` æ‰€æè¿°çš„ï¼Œæ±‚å¾—æ–°çš„ç°‡ç¾¤ä¸­å¿ƒã€‚\n- åœ¨ç»å…¸ç®—æ³•ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ¯æ¬¡è·å¾—ä¸€ä¸ªæ–°çš„ $Q$ æˆ– $W$ æ—¶ï¼Œæ ¹æ®æ•´ä¸ªæ•°æ®é›†è®¡ç®—æ€»ä»£ä»· Pã€‚ä¸ºäº†æé«˜è®¡ç®—æ•ˆç‡ï¼Œæˆ‘ä»¬åœ¨å®è·µä¸­é‡‡ç”¨äº†ä¸‹é¢çš„ç®—æ³•ã€‚\n    - `Step.01`ï¼šåˆå§‹åŒ– k ä¸ªä¼—æ•°ï¼Œä¸”æ¯ä¸ªä¼—æ•°å¯¹åº”ä¸€ä¸ªç°‡ï¼›\n    - `Step.02`ï¼šæ ¹æ®å…¬å¼ (5)ï¼Œå°†è·ç¦»ä¼—æ•°æœ€è¿‘çš„å¯¹è±¡åˆ†é…è¯¥ç°‡å½“ä¸­ã€‚å†æ ¹æ® `å®šç† 1`ï¼Œåœ¨æ¯æ¬¡åˆ†é…åæ›´æ–°ç°‡ç¾¤çš„ä¼—æ•°ã€‚\n    - `Step.03`ï¼šå½“æ‰€æœ‰å¯¹è±¡åˆ†é…åˆ°å…·ä½“çš„ç°‡ç¾¤ä¹‹åï¼Œé‡æ–°æµ‹è¯•å¯¹è±¡ä¸å½“å‰ä¼—æ•°çš„ç›¸å¼‚æ€§ã€‚å¦‚æœæ‰¾åˆ°ä¸€ä¸ªå¯¹è±¡ï¼Œè·ç¦»å…¶æœ€è¿‘çš„ä¼—æ•°å±äºå¦ä¸€ä¸ªç°‡ç¾¤è€Œä¸æ˜¯å½“å‰çš„ç°‡ç¾¤ï¼Œåˆ™å°†è¯¥å¯¹è±¡é‡æ–°åˆ†é…ç»™è¯¥ç°‡ç¾¤ï¼Œå¹¶æ›´æ–°ä¸¤ä¸ªç°‡ç¾¤çš„ä¼—æ•°ã€‚\n    - `Step.04`ï¼šé‡å¤æ‰§è¡Œ `Step.03`ï¼Œç›´åˆ°å¯¹æ•´ä¸ªæ•°æ®é›†è¿›è¡Œå®Œæ•´çš„å¾ªç¯æµ‹è¯•ä¹‹åï¼Œæ²¡æœ‰å¯¹è±¡æ›´æ”¹ç°‡ç¾¤ã€‚\n\n        > ç›®å‰ï¼Œè™½æ²¡æœ‰è¯æ˜è¯¥ç®—æ³•çš„æ”¶æ•›æ€§ï¼Œä½†åœ¨å®é™…ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå®ƒçš„è¡¨ç°æ€»æ˜¯æ”¶æ•›çš„ã€‚\n\n- ä¸ K-Means ç®—æ³•ä¸€æ ·ï¼ŒK-Modes ç®—æ³•ä¹Ÿæ˜¯äº§ç”Ÿ `å±€éƒ¨æœ€ä¼˜è§£`ï¼Œä¸”ä¾èµ–äºæ•°æ®é›†ä¸­çš„ `åˆå§‹çš„ä¼—æ•°` å’Œ `å¯¹è±¡çš„é¡ºåº`ã€‚è€ƒè™‘ `åˆå§‹çš„ä¼—æ•°` å’Œ `å¯¹è±¡çš„é¡ºåº` çš„å› ç´ å½±å“ï¼Œæˆ‘ä»¬é€šè¿‡ä¸¤ç§æ–¹æ³•æ”¹è¿›ç®—æ³•ã€‚\n    - ç¬¬ä¸€ä¸ªæ–¹æ³•æ˜¯ç¬¬ä¸€æ¬¡ä»æ•°æ®é›†ä¸­é€‰æ‹© $k$ ä¸ªä¸åŒçš„è®°å½•ä½œä¸ºåˆå§‹ $k$ ä¸ªä¼—æ•°å€¼ã€‚\n    - ç¬¬äºŒä¸ªæ–¹æ³•é€šè¿‡ä»¥ä¸‹æ­¥éª¤å®ç°ï¼š\n        - `Step.01`ï¼šè®¡ç®—æ‰€æœ‰å±æ€§çš„æ‰€æœ‰æ ‡ç§°å€¼çš„é¢‘ç‡ï¼Œå¹¶æŒ‰ç…§é¢‘ç‡çš„é™åºå°†å®ƒä»¬å­˜å‚¨åœ¨ä¸€ä¸ªæ ‡ç§°ç±»å‹çš„æ•°ç»„ä¸­ï¼Œå¦‚å›¾ 2-1 æ‰€ç¤ºï¼Œå±•ç¤ºäº†æ ‡ç§°ç±»å‹æ•°ç»„ä¸­ï¼Œåˆ†åˆ«åŒ…å« 4ã€2ã€5ã€3 ä¸ªæ ‡ç§°å€¼çš„ 4 ä¸ªå±æ€§ã€‚è¿™é‡Œ $c_{i,j}$ è¡¨ç¤ºå±æ€§ $i$ çš„æ ‡ç§°å€¼ $j$ï¼Œ$f(c_{i,j})$ ä¸ºæ ‡ç§°å€¼çš„é¢‘ç‡ï¼Œä¸” $f(c_{i,j}) \\geq f(c_{i+1,j})$ã€‚\n        - `Step.02`ï¼šå°†é¢‘ç‡æœ€é«˜çš„æ ‡ç§°å€¼ä½œä¸º $k$ ä¸ªä¼—æ•°çš„åˆå§‹å€¼ã€‚\n        - `Step.03`ï¼šä» $Q_1$ å¼€å§‹ï¼Œé€‰æ‹©ç›¸ä¼¼æ€§æœ€æ¥è¿‘å…¶çš„è®°å½•å¹¶æ›¿æ¢å®ƒçš„åˆå§‹ä¼—æ•°ã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´è‡³ $Q_k$  çš„åˆå§‹ä¼—æ•°è¢«æ›¿æ¢å®Œæˆã€‚å…¶ä¸­ï¼Œ$Q_l \\neq Q_t \\, for \\, l \\neq t$ã€‚\n        \n            > `Step.03` çš„ç›®çš„åœ¨äºé¿å…ç©ºç°‡ç¾¤çš„æƒ…å†µï¼Œè‡´ä½¿åˆå§‹ä¼—æ•°å…·æœ‰å¤šæ ·æ€§ï¼Œä»¥è·å¾—æ›´å¥½çš„èšç±»ç»“æœã€‚\n\t\n\t$$\n\t\\begin{Bmatrix} \n\tc_{1,1} & c_{1,2} & c_{1,3} & c_{1,4} \\\\ \n\tc_{2,1} & c_{2,2} & c_{2,3} & c_{2,4} \\\\ \n\tc_{3,1} & \\, & c_{3,3} & c_{3,4} \\\\ \n\tc_{4,1} & \\,  & c_{4,3} & \\, \\\\ \n\t\\,  & \\,  & c_{5,3} & \\, \\\\ \n\t\\end{Bmatrix}\n\t$$\n\n\t<center>å›¾ 2-1 æ ‡ç§°ç±»å‹æ•°ç»„ ( æ¨ªå‘è¡¨ç¤ºé›†åˆçš„å±æ€§ Aï¼Œçºµå‘è¡¨ç¤ºç°‡ä¸­å¿ƒç‚¹ Q )</center>\n\t\n### K-Prototypes ç®—æ³•\n- å°† K-Means å’Œ K-Modes ç®—æ³•é›†æˆåˆ° K-Prototypes ç®—æ³•ä¸­æ˜¯å¾ˆå®¹æ˜“çš„ï¼Œè¿™ç§ç®—æ³•ç”¨äºæ··åˆç±»å‹å¯¹è±¡çš„ç°‡ç¾¤èšç±»ã€‚\n\t\n- åœ¨æ··åˆå¯¹è±¡ $X$ å’Œ $Y$ é—´çš„ç›¸å¼‚æ€§å¯ç”±å±æ€§ $A_1^r, A_2^r, ..., A_p^r, A_{p+1}^c, ..., A_m^c$ æè¿°ï¼Œå¹¶å®šä¹‰å…¶ç›¸å¼‚æ€§åº¦é‡ä¸ºï¼š\n\t\n    $$\n    d_2(X,Y) = \\sum_{j=1}^p (x_j - y_j)^2 + \\gamma \\sum_{j=p+1}^m \\delta(x_j,y_j)\n    \\tag{10}\n    $$\n \t\n     > å…¶ä¸­ï¼Œç¬¬ä¸€é¡¹æ˜¯æ•°å€¼å±æ€§çš„å¹³æ–¹æ¬§æ°è·ç¦»åº¦é‡ï¼Œç¬¬äºŒé¡¹æ˜¯æ ‡ç§°å±æ€§çš„ç›¸å¼‚æ€§åº¦é‡ã€‚æƒé‡ $\\gamma$ æ˜¯ç”¨æ¥é¿å…åè¢’ä»»ä½•ç±»å‹çš„å±æ€§ï¼Œå³èšç±»ç»“æœæ›´è¶‹å‘äºæ•°å€¼å±æ€§è¿˜æ˜¯æ ‡ç§°å±æ€§ã€‚\n \t\n- å½“å…¬å¼ (10) ç”¨ä½œæ··åˆç±»å‹å±æ€§å¯¹è±¡çš„ç›¸å¼‚æ€§åº¦é‡æ—¶ï¼Œå…¬å¼ (1) çš„ä»£ä»·å‡½æ•°å°†æ¨å¯¼ä¸ºï¼š\n \n    $$\n    P(W,Q) = \\sum_{l=1}^k (\n        \\sum_{i=1}^n w_{i,l} \\sum_{j=1}^p(x_{i,j}-q_{l,j})^2\n        + \\gamma \\sum_{i=1}^n w_{i,l} \\sum_{j=p+1}^m \\delta(x_{i,j}-q_{l,j})\n    )\n    \\tag{11}\n    $$\n    \n    > $ \\sum_{i=1}^n w_{i,l}$ å³å…¬å¼ (2) æ‰€æè¿°çš„ï¼Œæ¯ä¸ªç°‡å¯¹è±¡åªå¯¹åº”ä¸€ä¸ªç°‡ä¸­å¿ƒã€‚\n    \n    - ä¸ºç®€åŒ–å…¬å¼ (11)ï¼Œè®©ï¼š\n\n    $$\n    P_l^r = \\sum_{i=1}^n w_{i,l} \\sum_{j=1}^p(x_{i,j}-q_{l,j})^2\n    \\tag{12}\n    $$    \n    \n    $$\n    P_l^c =  \\gamma \\sum_{i=1}^n w_{i,l} \\sum_{j=p+1}^m \\delta(x_{i,j}-q_{l,j})\n    \\tag{13}\n    $$\n    \n    - é‡å†™å…¬å¼ (11)ï¼š\n\n    $$\n    P(W,Q) = \\sum_{l=1}^k (P_l^r + P_l^c)\n    \\tag{14}\n    $$\n \n - $P_l^r$ å’Œ $P_l^c$ éƒ½æ˜¯éè´Ÿçš„ï¼Œæœ€å°åŒ– $P(W,Q)$ ç­‰åŒäºæœ€å°åŒ– $P_l^r$ å’Œ $P_l^c$ï¼Œ$1 \\leq l \\leq k$ã€‚\n \t\n## é™„å½•\n\n### 1 è·ç¦»å‡½æ•°\n`è·ç¦»å‡½æ•°`ï¼šå…³äºæ•°æ®ç‚¹ä¹‹é—´çš„è·ç¦»å‡½æ•°ï¼Œå³æ•°å€¼å±æ€§åˆ»ç”»çš„å¯¹è±¡ç›¸å¼‚æ€§çš„è·ç¦»åº¦é‡ã€‚åº¦é‡æ–¹æ³• $^{[1]}$ åŒ…æ‹¬é—µå¯å¤«æ–¯åŸºè·ç¦» (é—µæ°è·ç¦»)ã€æ¬§å‡ é‡Œå¾—è·ç¦» (æ¬§å¼è·ç¦») å’Œæ›¼å“ˆé¡¿è·ç¦»ã€‚\n\nä»¤ $i=(x_{i1},x_{i2},...,x_{ih})$ å’Œ $j=(x_{j1},x_{j2},...,x_{jh})$ æ˜¯ä¸¤ä¸ªè¢« h ä¸ªå±æ€§æè¿°çš„å¯¹è±¡ã€‚ \n\né—µæ°è·ç¦»æ˜¯æ¬§å¼è·ç¦»å’Œæ›¼å“ˆé¡¿è·ç¦»çš„æ¨å¹¿ï¼Œå®šä¹‰å¦‚ä¸‹ï¼š\n\n$$\nd(i, j) = \\sqrt[h](\n\t\\sum_{f=1}^h |x_{if}-x_{jf}|^{h}\n),h \\geq 1\n\\tag{1}\n$$\n\n- å½“ h = 1 æ—¶ï¼Œå®ƒè¡¨ç¤º `æ›¼å“ˆé¡¿è·ç¦»`ï¼Œä¹Ÿç§° `åŸå¸‚å—` è·ç¦» (åŸå¸‚ä¸¤ç‚¹ä¹‹é—´çš„è¡—åŒºè·ç¦»ï¼Œå¦‚å‘å— 2 ä¸ªè¡—åŒºï¼Œæ¨ªè¿‡ 3 ä¸ªè¡—åŒºï¼Œå…±è®¡äº”ä¸ªè¡—åŒº)ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š\n\n$$\nd(i, j) = \\sum_{f=1}^h |x_{if}-x_{jf}|,h \\geq 1\n\\tag{2}\n$$\n\n- å½“ h = 2 æ—¶ï¼Œå®ƒè¡¨ç¤º `æ¬§å¼è·ç¦»`ï¼Œä¹Ÿç§° `ç›´çº¿æˆ–ä¹Œé¸¦é£è¡Œ` è·ç¦»ï¼Œå…¶å®šä¹‰å¦‚ä¸‹ï¼š\n\n$$\nd(i, j) = \\sqrt(\\sum_{f=1}^h (x_{if}-x_{jf})^2)\n,h \\geq 1\n\\tag{3}\n$$\n\n- å½“ h = $\\infty$ æ—¶ï¼Œå®ƒè¡¨ç¤º `ä¸Šç¡®ç•Œè·ç¦»`ï¼Œåˆç§° `åˆ‡æ¯”é›ªå¤«è·ç¦»`ï¼Œå…¶å®šä¹‰å¦‚ä¸‹Lï¼š\n\n$$\nd(i, j) = \\lim_{h \\to \\infty} (\n\t\\sum_{f=1}^h |x_{if}-x_{jf}|^h\n)^\\frac{1}{h} = max_{f}^h |x_{if}-x_{jf}|\n\\tag{4}\n$$\n\n### 2 å®šç†è¯æ˜\n`å®šç† 1` çš„è¯æ˜å¦‚ä¸‹ï¼š\n\n- è®© $f_r (A_j = c_{k,j} | X) = \\frac { n_{c_{k,j}} }{n}$ ä¸ºå±æ€§ $A_j$ çš„ç¬¬ $k$ ä¸ªæ ‡ç§°å±æ€§ $c_{k,j}$ çš„ç›¸å¯¹é¢‘ç‡ï¼Œ$n$ æ˜¯ $X$ ä¸­å¯¹è±¡çš„æ€»æ•°ï¼Œ$n_{C_{k,j}}$ æ˜¯æ‹¥æœ‰æ ‡ç§°å±æ€§ $c_{k,j}$ çš„å¯¹è±¡çš„è®¡æ•°ã€‚\n- åˆ™æœ‰ï¼Œç›¸å¼‚æ€§åº¦é‡å…¬å¼å¯æ¨å¯¼ä¸ºï¼š\n\n$$\n\\sum_{i=1}^n d(X_i,Q) = \\sum_{i=1}^n \\sum_{j=1}^m \\delta(x_{i,j},q_j)\n\\\\ = \\sum_{i=1}^n ( \\sum_{j=1}^m \\delta(x_{i,j},q_j) )\n= \\sum_{i=1}^m n(1-\\frac{n_{q_j}}{n})\n= \\sum n( 1-f_r(A_j = q_j | X) )\n$$\n\n- å› ä¸º $n( 1-f_r(A_j = q_j | X) ) \\geq 0 \\, , \\, 1 \\leq j \\leq m$ï¼Œè‹¥è®© $\\sum_{i=1}^n  d(X_i,Q)$ æœ€å°åŒ–ï¼Œåˆ™éœ€è®©æ¯ä¸€ä¸ª $n( 1-f_r(A_j = q_j | X) )$ å–æœ€å°å€¼ï¼Œå³ $f_r(A_j = q_j | X)$ å¿…é¡»å–æœ€å¤§å€¼ã€‚\n\n## æ€è€ƒ\n\n## å‚è€ƒ\n[1] Jiewei Han, Micheline Kamber and Jian Pei. æ•°æ®æŒ–æ˜ (ç¬¬ä¸‰ç‰ˆ) [M]. æœºæ¢°å·¥ä¸šå‡ºç‰ˆç¤¾, 2018, 48-49.  \n[2] Bezdek J C. A convergence theorem for the fuzzy ISODATA clustering algorithms [J]. IEEE transactions on pattern analysis and machine intelligence, 1980 (1): 1-8.  \n[3] Ismail M A, Selim S Z. Fuzzy c-means: optimality of solutions and effective termination of the algorithm[J]. Pattern recognition, 1986, 19(6): 481-485.  \n[4] Park H S, Jun C H. A simple and fast algorithm for K-medoids clustering[J]. Expert systems with applications, 2009, 36(2): 3336-3341.  ","tags":["K-Means"],"categories":["Paper"]}]